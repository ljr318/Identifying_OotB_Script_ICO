<!DOCTYPE html>
<!-- Last Published: Fri Jul 31 2020 17:00:43 GMT+0000 (Coordinated Universal Time) -->
<html data-wf-domain="www.kava.io" data-wf-page="5f15f707ecc0fc39bee00718" data-wf-site="5ee77d22dfba6e8d3a6fda06">
 <head>
  <meta charset="utf-8"/>
  <title>
   Kava | The DeFi Lending Platform for Digital Assets
  </title>
  <meta content="Kavaâs multi-chain DeFi Lending platform offers USDX stablecoin loans and Chainlink oracle data to major blockchains and end-user applications." name="description"/>
  <meta content="Kava | The DeFi Lending Platform for Digital Assets" property="og:title"/>
  <meta content="Kavaâs multi-chain DeFi Lending platform offers USDX stablecoin loans and Chainlink oracle data to major blockchains and end-user applications." property="og:description"/>
  <meta content="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5eebfc1cebd0c42ccbd59ca4_Kava-DeFi-Lending-Platform-og.png" property="og:image"/>
  <meta content="Kava | The DeFi Lending Platform for Digital Assets" property="twitter:title"/>
  <meta content="Kavaâs multi-chain DeFi Lending platform offers USDX stablecoin loans and Chainlink oracle data to major blockchains and end-user applications." property="twitter:description"/>
  <meta content="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5eebfc1cebd0c42ccbd59ca4_Kava-DeFi-Lending-Platform-og.png" property="twitter:image"/>
  <meta content="website" property="og:type"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <link href="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/css/kava-defi-staging.39beb0658.css" rel="stylesheet" type="text/css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   WebFont.load({  google: {    families: ["Inter:regular,500,600,700"]  }});
  </script>
  <script src="https://use.typekit.net/dpj7ewq.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   try{Typekit.load();}catch(e){}
  </script>
  <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]-->
  <script type="text/javascript">
   !function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);
  </script>
  <link href="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6ec7a66fda94_favicon.png" rel="shortcut icon" type="image/x-icon"/>
  <link href="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e2ba16fda95_favicon-256.png" rel="apple-touch-icon"/>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-135251850-3">
  </script>
  <script type="text/javascript">
   window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-135251850-3', {'anonymize_ip': false});
  </script>
 </head>
 <body class="body" data-w-id="5d7825a2f0e9471a1a0cce11">
  <div class="navigation w-nav" data-animation="default" data-collapse="none" data-duration="400" role="banner">
   <div class="nav-div">
    <a aria-current="page" class="brand w-nav-brand w--current" href="/">
     <img alt="Kava | modern money." class="logo" height="35" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e53566fda93_Kava-logo.svg"/>
    </a>
    <div class="w-nav-button">
     <div class="w-icon-nav-menu">
     </div>
    </div>
    <a class="overview-button w-button" href="/overview">
     Overview
    </a>
   </div>
  </div>
  <div class="hero-section" id="home">
   <div class="container-desktop">
    <div class="_2-column w-row">
     <div class="column-8 w-col w-col-6 w-col-stack">
      <h1 class="heading-1">
       Earn High Yield
       <br/>
       On Your Crypto
      </h1>
      <div class="text-medium hero">
       By Becoming a USDX Minter Today.
      </div>
      <a class="kava-button w-button" href="#wallets">
       Start Earning
      </a>
     </div>
     <div class="w-col w-col-6 w-col-stack">
      <div class="rates-holder" data-w-id="d0d15015-2f1a-64fa-b4b8-4c02b974784e" style="opacity:0;-webkit-transform:translate3d(0, 60PX, 0) scale3d(0.9, 0.9, 1) rotateX(0) rotateY(0) rotateZ(0) skew(2DEG, 0);-moz-transform:translate3d(0, 60PX, 0) scale3d(0.9, 0.9, 1) rotateX(0) rotateY(0) rotateZ(0) skew(2DEG, 0);-ms-transform:translate3d(0, 60PX, 0) scale3d(0.9, 0.9, 1) rotateX(0) rotateY(0) rotateZ(0) skew(2DEG, 0);transform:translate3d(0, 60PX, 0) scale3d(0.9, 0.9, 1) rotateX(0) rotateY(0) rotateZ(0) skew(2DEG, 0)">
       <div class="rates-title-wrapper">
        <div class="rates-title">
         Today's Rates*
        </div>
        <h3 class="hack22-date-version1">
         Heading
        </h3>
       </div>
       <div class="rate-holder bnb">
        <div class="rate-icon">
         <img alt="" class="bnb-icon" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e97c26fdacf_binance-icon.svg"/>
        </div>
        <div class="rate-title asset">
         BNB
        </div>
        <div class="rate-title rate" id="BNB_APY">
        </div>
       </div>
       <div class="rate-holder btc">
        <div class="rate-icon">
         <img alt="" class="big-dipper" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e223e6fdad0_btc-icon.svg"/>
        </div>
        <div class="rate-title asset">
         BTC
        </div>
        <div class="rate-title rate coming-soon">
         Coming Soon
        </div>
       </div>
       <div class="rate-holder xrp">
        <div class="rate-icon">
         <img alt="" class="atom-icon" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e59826fdad1_xrp-icon.svg"/>
        </div>
        <div class="rate-title asset">
         XRP
        </div>
        <div class="rate-title rate coming-soon">
         Coming Soon
        </div>
       </div>
       <div class="kava-coin-wrapper">
        <img alt="" class="kava-coin-rates" height="28" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e514b6fdac9_Kava_coin.svg" width="28"/>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="hero-section second" id="home">
   <div class="container-desktop second">
    <div class="_2-column w-row" data-w-id="eccc9adf-c46f-438c-831e-5447d7d8827e" style="opacity:0">
     <div class="column-9 w-col w-col-6 w-col-stack">
      <h1 class="heading-2 max-width">
       Earn Rewards on Your BNB.
      </h1>
      <div class="text-medium hero">
       Earn weekly rewards, based on the amount of USDX minted from the BNB deposits onto Kava.
      </div>
      <a class="w-inline-block" href="https://medium.com/kava-labs/the-bnb-specifics-behind-minting-usdx-285f92cd73e2" target="_blank">
       <div class="text-medium hero body-link">
        Learn more
       </div>
      </a>
     </div>
     <div class="w-col w-col-6 w-col-stack">
      <h1 class="heading-2">
       Backed by Leading Industry Organizations.
      </h1>
      <div class="text-medium hero">
       The Kava DeFi platform is backed by industry giants such as Binance, Huobi, OKEx, and others.
      </div>
      <div class="w-layout-grid industry-orgs">
       <img alt="" class="icon" id="w-node-6b964a6935e7-bee00718" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6ef24c6fda9b_binance.svg"/>
       <img alt="" class="icon" id="w-node-6b964a6935e8-bee00718" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e49966fda9a_Huobi.svg"/>
       <img alt="" class="icon" id="w-node-6b964a6935e9-bee00718" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e20e66fda9c_OKEx.svg"/>
      </div>
     </div>
    </div>
   </div>
  </div>
  <section class="hero-section wallets" id="wallets">
   <div class="container-desktop">
    <div class="_2-column w-row">
     <div class="w-col w-col-6 w-col-stack" data-w-id="88ea2432-5038-7a0d-875a-cd556c31c660" style="opacity:0">
      <h1 class="heading-2">
       Choose Your Wallet and Get Started Now.
      </h1>
      <div class="text-medium hero">
       Rewards are just a few clicks away.
      </div>
      <div class="rate-holder wallets trust-wallet">
       <div class="rate-icon">
        <img alt="" class="wallet-image" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6ecefa6fdad5_trust-wallet.svg"/>
       </div>
       <div class="rate-title">
        Trust Wallet
       </div>
       <div class="rate-title wallet-name wallet-title">
        Step by step guide
       </div>
       <div class="rate-title rate coming-soon arrow">
       </div>
      </div>
      <div class="rate-holder wallets cosmostation">
       <a class="wallet-link w-inline-block" href="https://medium.com/kava-labs/mint-usdx-with-your-bnb-using-cosmostation-wallet-33d06b8a9b4d" target="_blank">
       </a>
       <div class="rate-icon">
        <img alt="" class="wallet-image" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e3fcf6fdad7_cosmostation.svg"/>
       </div>
       <div class="rate-title">
        Cosmostation
       </div>
       <div class="rate-title wallet-name wallet-title">
        Step by step guide
       </div>
       <div class="rate-title rate coming-soon arrow">
       </div>
      </div>
      <div class="rate-holder wallets ledger">
       <a class="wallet-link w-inline-block" href="https://medium.com/kava-labs/mint-usdx-using-bnb-ledger-guide-fb40dcd8c7bf" target="_blank">
       </a>
       <div class="rate-icon">
        <img alt="" class="wallet-image" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee82d4fcc7d4a1411ce0067_ledger.svg"/>
       </div>
       <div class="rate-title">
        Ledger
       </div>
       <div class="rate-title wallet-name wallet-title">
        Step by step guide
       </div>
       <div class="rate-title rate coming-soon arrow">
       </div>
      </div>
     </div>
     <div class="wallet-image-coloumn w-col w-col-6 w-col-stack">
      <img alt="" class="usdx-plant" sizes="(max-width: 479px) 100vw, (max-width: 767px) 86vw, 420px" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e84566fdad2_bnb-and-kava_plant.png" srcset="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e84566fdad2_bnb-and-kava_plant-p-500.png 500w, https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e84566fdad2_bnb-and-kava_plant-p-800.png 800w, https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e84566fdad2_bnb-and-kava_plant.png 810w"/>
     </div>
    </div>
   </div>
  </section>
  <div class="hero-section kava-footer" id="home">
   <div class="container-desktop">
    <div class="_2-column w-row">
     <div class="w-col w-col-6 w-col-stack">
      <h1 class="heading-2 footer-head">
       Donât miss the
       <br/>
       next launch!
      </h1>
      <div class="text-medium hero footer-sub">
       Sign up to be the first to know.
      </div>
      <div class="form-block-light primary-form w-form">
       <form class="form-top" data-name="Primary Form" id="wf-form-Primary-Form" method="get" name="wf-form-Primary-Form">
        <input class="text-field w-input" data-name="email" maxlength="256" name="email" placeholder="name@email.com" required="" type="email"/>
        <input class="submit-button w-button" data-w-id="6cc12da8-a648-e649-d796-1e2fb8d6fb00" data-wait="Please wait..." type="submit" value="Subscribe"/>
       </form>
       <div class="success-message-2 w-form-done">
        <div class="form-success__check-wrap">
         <div class="html-embed w-embed">
          <style>
           svg {
  width: 60px;
  display: block;
  margin: 0;
}
.path {
  stroke-dasharray: 1000;
  stroke-dashoffset: 0;
}
.path.circle {
  -webkit-animation: dash 2s ease-in-out;
  animation: dash 2s ease-in-out;
}
.path.line {
  stroke-dashoffset: 1000;
  -webkit-animation: dash 2s 2s ease-in-out forwards;
  animation: dash 2s 2s ease-in-out forwards;
}
.path.check {
  stroke-dashoffset: -100;
  -webkit-animation: dash-check 2s 2s ease-in-out forwards;
  animation: dash-check 2s 1s ease-in-out forwards;
}
@-webkit-keyframes dash {
  0% {
    stroke-dashoffset: 1000;
  }
  100% {
    stroke-dashoffset: 0;
  }
}
@keyframes dash {
  0% {
    stroke-dashoffset: 1000;
  }
  100% {
    stroke-dashoffset: 0;
  }
}
@-webkit-keyframes dash-check {
  0% {
    stroke-dashoffset: -100;
  }
  100% {
    stroke-dashoffset: 900;
  }
}
@keyframes dash-check {
  0% {
    stroke-dashoffset: -100;
  }
  100% {
    stroke-dashoffset: 900;
  }
}
          </style>
          <svg version="1.1" viewbox="0 0 130.2 130.2" xmlns="http://www.w3.org/2000/svg">
           <circle class="path circle" cx="65.1" cy="65.1" fill="none" r="62.1" stroke="#06d6a0" stroke-miterlimit="10" stroke-width="6">
           </circle>
           <polyline class="path check" fill="none" points="100.2,40.2 51.5,88.8 29.8,67.5 " stroke="#06d6a0" stroke-linecap="round" stroke-miterlimit="10" stroke-width="6">
           </polyline>
          </svg>
         </div>
        </div>
        <div class="text-block-6">
         Thank you, your submission has been received!
        </div>
       </div>
       <div class="error-message-2 w-form-fail">
        <div class="text-block-7">
         Oops! Something went wrong while submitting the form.
        </div>
       </div>
      </div>
     </div>
     <div class="column-10 w-col w-col-6 w-col-stack">
      <div class="rate-holder rates-footer">
       <div class="rate-icon">
        <img alt="" class="atom-icon" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e223e6fdad0_btc-icon.svg"/>
       </div>
       <div class="rate-title asset dark">
        BTC
       </div>
       <div class="rate-title rate coming-soon">
        Coming Soon
       </div>
      </div>
      <div class="rate-holder rates-footer">
       <div class="rate-icon">
        <img alt="" class="atom-icon" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e59826fdad1_xrp-icon.svg"/>
       </div>
       <div class="rate-title asset dark">
        XRP
       </div>
       <div class="rate-title rate coming-soon">
        Coming Soon
       </div>
      </div>
      <div class="rate-holder rates-footer">
       <div class="rate-icon">
        <img alt="" class="atom-icon" height="43" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e2a6d6fdad9_atom.png" width="43"/>
       </div>
       <div class="rate-title asset dark">
        ATOM
       </div>
       <div class="rate-title rate coming-soon">
        Coming Soon
       </div>
      </div>
     </div>
    </div>
   </div>
   <div>
    <h2 class="footer-heading disclaimer">
     *Rates are estimated and are variable over time.
    </h2>
   </div>
   <div class="container-desktop">
    <div class="_2-column footer-links desktop w-row">
     <div class="w-col w-col-4">
      <div class="div-block-20">
       <h2 class="footer-heading">
        Resources
       </h2>
       <ul class="w-list-unstyled" role="list">
        <li>
         <a class="footer-link-2 _2-col" href="/kava-platform">
          Kava Platform
         </a>
        </li>
        <li>
         <a class="footer-link-2 _2-col" href="https://app.termly.io/document/terms-of-use-for-website/5bc430bf-fd83-4170-9831-1f9716f537d3" target="_blank">
          Terms of Use
         </a>
        </li>
        <li>
         <a class="footer-link-2 _2-col" href="https://assets.website-files.com/5cfff82e137522c3671a98f7/5d0bb610b34326a3de9a5578_kava_privacy.pdf" target="_blank">
          Privacy Policy
         </a>
        </li>
        <li>
         <a class="footer-link-2 _2-col" href="mailto:hello@kava.io">
          Contact Us
         </a>
        </li>
       </ul>
      </div>
     </div>
     <div class="w-col w-col-4">
      <div class="div-block-21">
       <h2 class="footer-heading-2">
        Partners
       </h2>
       <ul class="w-list-unstyled" role="list">
        <li>
         <a class="footer-link-3" href="https://www.binance.com/" target="_blank">
          Binance
         </a>
        </li>
        <li>
         <a class="footer-link-3" href="https://www.huobi.com/" target="_blank">
          Huobi
         </a>
        </li>
        <li>
         <a class="footer-link-3" href="https://www.okex.com/en" target="_blank">
          OKEx
         </a>
        </li>
        <li>
         <a class="footer-link-3" href="https://ripple.com/" target="_blank">
          Ripple
         </a>
         <a class="footer-link-3" href="https://cosmos.network/" target="_blank">
          Cosmos
         </a>
        </li>
        <li>
         <a class="footer-link-3" href="https://delchain.io/" target="_blank">
          Delchain
         </a>
         <a class="footer-link-3 grey" href="https://www.kava.io/kava-platform#partners">
          View all
         </a>
        </li>
       </ul>
      </div>
     </div>
     <div class="social-links-desktop large w-col w-col-4">
      <div class="footer-sm-div usdx">
       <a class="link-block-10 w-inline-block" href="https://twitter.com/kava_labs">
        <img alt="" class="sm-btn" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6ed42a6fdab1_twitter.svg"/>
       </a>
       <a class="link-block-11 w-inline-block" href="https://medium.com/kava-labs">
        <img alt="" class="sm-btn" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e4a766fdab2_medium.svg"/>
       </a>
       <a class="link-block-12 w-inline-block" href="https://t.me/kavalabs" target="_blank">
        <img alt="" class="sm-btn" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e80726fdab4_telegram.svg"/>
       </a>
       <a class="link-block-13 w-inline-block" href="https://discord.com/invite/kQzh3Uv">
        <img alt="" class="sm-btn discord" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e250a6fdac3_Discord-Logo-White.svg"/>
       </a>
       <a class="w-inline-block" href="https://github.com/kava-labs">
        <img alt="" class="sm-btn" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e62946fdab0_git.svg"/>
       </a>
      </div>
     </div>
    </div>
   </div>
   <div class="container-desktop">
    <div class="_2-column footer-links w-row">
     <div class="w-col w-col-6">
      <img alt="Kava | modern money." class="logo" height="35" src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/5ee77d22dfba6e53566fda93_Kava-logo.svg"/>
     </div>
     <div class="copyright-desktop copyright-mobile w-col w-col-6">
      <ul class="list w-list-unstyled" role="list">
       <li>
        <div class="copyright-2 usdx">
         Â© 2020 Kava Labs. All rights reserved.
        </div>
        <a class="footer-link-3 site-by" href="https://www.crankstudio.ca/" target="_blank">
         Site by Crank Studio.
        </a>
       </li>
      </ul>
     </div>
    </div>
   </div>
  </div>
  <script crossorigin="anonymous" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js?site=5ee77d22dfba6e8d3a6fda06" type="text/javascript">
  </script>
  <script src="https://assets.website-files.com/5ee77d22dfba6e8d3a6fda06/js/kava-defi-staging.b36d121d4.js" type="text/javascript">
  </script>
  <!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
  <script>
   // on DOM ready
//document.addEventListener("DOMContentLoaded", function(){
//});

  const BNB_CONVERSION_FACTOR = Number(10 ** 8);
  const USDX_CONVERSION_FACTOR = Number(10 ** 6);
  const KAVA_CONVERSION_FACTOR = Number(10 ** 6);
  
  var usdFormatter = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
  });

  var main = async () => {
  let kavaPrice = 0;
  const kavaValuation = await getKavaPrice();
  if(kavaValuation) {
    kavaPrice = Number(kavaValuation.price);
  }
  
  let lockedValue = 0;
  const kavaPlatformValues = await totalValueLockedAndBorrowed();
  if(kavaPlatformValues) {
    lockedValue = Number(kavaPlatformValues.locked);
  }
  
  const bnbAPY = await getRewardAPY(kavaPrice, lockedValue);
  document.getElementById("BNB_APY").innerHTML = bnbAPY;
}

var getKavaPrice = async () => {
  const priceURL = "https://api.binance.com/api/v3/ticker/24hr?symbol=KAVAUSDT";
  const priceResponse = await fetch(priceURL);
  const priceData = await priceResponse.json();    
  return {
    price: priceData.lastPrice,
    percentChange: priceData.priceChangePercent
  }
}

var getCollateralPrice = async (market) => {
    const priceURL = "https://kava3.data.kava.io/pricefeed/price/" + market;
    const priceResponse = await fetch(priceURL);
    const priceData = await priceResponse.json();
    const priceRes = priceData && priceData.result;
    const price = Number(priceRes.price)
    return price;
}

var totalValueLockedAndBorrowed = async () => {
  const market = "bnb:usd";
  const bnbPrice = await getCollateralPrice(market);

  const bnbCdpsURL = "https://kava3.data.kava.io/cdp/cdps/denom/bnb";
  const cdpResponse = await fetch(bnbCdpsURL);
  const cdpData = await cdpResponse.json();
  const cdpRes = cdpData && cdpData.result;

  let bnbLocked = 0;
  let usdxBorrowed = 0;
  let feesOwed = 0;
  for(var i = 0; i < cdpRes.length; i++) {
      const cdp = cdpRes[i].cdp;
      bnbLocked += Number(cdp.collateral.amount);
      usdxBorrowed += Number(cdp.principal.amount);
      feesOwed += Number(cdp.accumulated_fees.amount);
  };
  const totalLocked = bnbLocked/BNB_CONVERSION_FACTOR;
  const totalValueLocked = totalLocked * bnbPrice;
  
  const totalBorrowed = usdxBorrowed/USDX_CONVERSION_FACTOR;
  const totalFees = feesOwed/USDX_CONVERSION_FACTOR;

  return {
    locked: totalValueLocked.toFixed(2),
    borrowed: totalBorrowed.toFixed(2),
    fees: totalFees.toFixed(2)
    }
}

var getRewardAPY = async (kavaPrice, bnbLocked) => {
  const incentiveParamsUrl = "https://kava3.data.kava.io/incentive/parameters";
  const incentiveParamsResponse = await fetch(incentiveParamsUrl);
  const incentiveData = await incentiveParamsResponse.json();

  // Pull this reward period's uKava rewards and duration in nanoseconds
  let ukavaRewardsPerPeriod = 0;
  let nanoSecondsPerPeriod = 0;
  if(incentiveData.result) {
    if(incentiveData.result.rewards && incentiveData.result.rewards.length > 0) {
      const bnbRewards = incentiveData.result.rewards[0];
      ukavaRewardsPerPeriod = Number(bnbRewards.available_rewards.amount);
      nanoSecondsPerPeriod = Number(bnbRewards.duration);
    }
  }

  // Extrapolate reward periods out to yearly rewards and convert to USD
  const kavaRewardsPerPeriod = ukavaRewardsPerPeriod/KAVA_CONVERSION_FACTOR;
  const periodsPerYear = rewardPeriodsPerYear(nanoSecondsPerPeriod);
  const rewardsPerYearInKava = kavaRewardsPerPeriod * periodsPerYear;
  const rewardsPerYearInUsd = rewardsPerYearInKava * Number(kavaPrice)

  // Calculate APY and format for display
  const rawBnbAPY = rewardsPerYearInUsd/bnbLocked;
  const bnbPercentageAPY = Number(rawBnbAPY) * 100;
  const bnbPercentDisplay = usdFormatter.format(bnbPercentageAPY)
  const bnbPercentDisplaySliced = bnbPercentDisplay.slice(1, bnbPercentDisplay.length);
  const bnbAPYFinal = bnbPercentDisplaySliced + "%";

  return bnbAPYFinal
}

function rewardPeriodsPerYear(ns) {
  const NanoSecondsPerYear = Number(31449600000000000);
  return NanoSecondsPerYear / Number(ns)
}

main();
  </script>
  <!-- Show Current Date -->
  <script data-info="hacks-body">
   // on DOM ready
document.addEventListener("DOMContentLoaded", function(){
	//set your formatting options
  //Version 1 output = "Sat, Dec 25, 2019"
	const dateVersion1 = {
		//weekday: "short",
		//year: "numeric",
		month:"long",
		day:"2-digit"
    }
   
	//Version 2 output = "12/25/19"
	const dateVersion2 = {
		year: "2-digit",
		month:"2-digit",
		day:"2-digit"
    }
  
  // Update the text content of our text elements with the formatted date 
	document.querySelector('.hack22-date-version1').textContent = new Date().toLocaleDateString('en-US', dateVersion1); 
  document.querySelector('.hack22-date-version2').textContent = new Date().toLocaleDateString('en-US', dateVersion2); 
	
});


/* 
the Mozilla docs are the most full and complete source for
customization options for .toLocaleDateString()

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString
*/
  </script>
 </body>
</html>
