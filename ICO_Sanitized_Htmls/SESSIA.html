<!DOCTYPE html>
<html>
 <head>
  <!-- Google Tag Manager -->
  <script>
   (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5CSZCVV');
        setTimeout("ga('send', 'event', '15 seconds', 'read')",15000);
  </script>
  <!-- End Google Tag Manager -->
  <title>
   Sessia.com
  </title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <link href="/web-version/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/bootstrap/css/bootstrap-datepicker3.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/bootstrap.overlay.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/layout.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/vision-group--import--market.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/market.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/basket.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/community.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/community/check.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/social.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/support.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/icons.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/css/reg/reset.css" rel="stylesheet" type="text/css"/>
  <link href="/web-version/newstart/css/main.css" rel="stylesheet" type="text/css"/>
  <link href="//cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.min.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript">
   APP_CONFIG = {
            DEFAULT_LANGUAGE: 'en',

            baseDomain: location.hostname.split('.').slice(-2).join('.'),
            router: {
                history: {
                    APP_BASE: location.href.split('?')[0].split('/').slice(0, 4).join('/') + '/', // href => protocol//domain/folder
                    INDEX_PAGE: 'index',

                    getCurrentUrl: function() {
                        return location.href.split(this.APP_BASE)[1] || this.INDEX_PAGE;
                    },

                    pushState: function(url) {
                        window.history.pushState({}, '', this.APP_BASE + url);

                        // url change notifier
                        app.currentUrl(url);
                    },
                    replaceState: function(url) {
                        window.history.replaceState({}, '', this.APP_BASE + url);

                        // url change notifier
                        app.currentUrl(url);
                    },

                    listenState: function(callback) {
                        //app.log('* start listen popstate');
                        window.addEventListener('popstate', callback, false);
                    },
                    back: history.back.bind(history)
                }
            },
            auth: {
                grantDefault: {
                    grant_type: "http:\/\/thesession.ru", // default grant_type
                    client_id: '16_481uri5cqy0wowc8w0kwscgk88gwkws844oocwwk8os80oc8gg',
                    client_secret: '1hwxzfws8llwwcssgw4oooco0g0gkoso4c08o80wskw8gckww8'
                },
                grantEmail: {
                    grant_type: "https:\/\/api.sessia.com\/grant\/email", // default grant_type
                    client_id: '17_f3j2lpkvec8c8gcg8ccoc84gkkss4wwc4ssk4o4ggk4c00844',
                    client_secret: '673e4egz8nksskgs0kwck84o4g8oc0ccc8084wwccsk0gkkkg'
                }
            }
        };
  </script>
  <script src="/web-version/js/base/underscore.js" type="text/javascript">
  </script>
  <script src="/web-version/js/base/jquery-3.2.0.js" type="text/javascript">
  </script>
  <script src="/web-version/js/base/jquery.autocomplete.js" type="text/javascript">
  </script>
  <!--script type="text/javascript" src="/web-version/js/base/jquery.autocomplete.levenshtein.js"></script-->
  <script src="/web-version/bootstrap/js/bootstrap.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/js/bootstrap-datepicker.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.ru.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.az.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.de.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.bg.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.rs.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.pl.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.lt.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.lv.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.vi.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.zh-CN.min.js" type="text/javascript">
  </script>
  <script src="/web-version/bootstrap/locales/bootstrap-datepicker.zh-TW.min.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/agent.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/string.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/phone.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/md5.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/router.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/dropdown.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/share.js" type="text/javascript">
  </script>
  <script src="/web-version/js/helper/Chart.min.js" type="text/javascript">
  </script>
  <script src="//cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js" type="text/javascript">
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.min.js" type="text/javascript">
  </script>
  <script src="/web-version/js/base/knockout-3.4.2.debug.js" type="text/javascript">
  </script>
  <script src="/web-version/js/base/knockout.validation.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.validation.setup.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.extend.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.chaining.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.storable.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.wakeup.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.form-core.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.handlers.js" type="text/javascript">
  </script>
  <script src="/web-version/js/ko/ko.handler.autocomplete.js" type="text/javascript">
  </script>
  <script src="/web-version/js/api.js" type="text/javascript">
  </script>
  <script src="/web-version/js/app.js" type="text/javascript">
  </script>
  <script src="/web-version/js/app.modal.js" type="text/javascript">
  </script>
  <script src="/web-version/js/i18n/i18n.js" type="text/javascript">
  </script>
  <script src="/web-version/js/business/support.js" type="text/javascript">
  </script>
  <script src="/web-version/js/business/market.js" type="text/javascript">
  </script>
  <script src="/web-version/js/business/community.js" type="text/javascript">
  </script>
  <script src="/web-version/js/business/reports.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   /*// company list
        app.companyList = ko.observableArray();
        $.getJSON(APP_CONFIG.router.history.APP_BASE + 'js/data/companies.json', app.companyList);

        // upgrade image src attribute
        app.companyList = app.companyList.map(function(company) {
            company.img = '/img/company-logo/' + company.img;
            return company;
        });

        // selected company id
//        app.userCompanyId = ko.storable('app.userCompanyId');
        app.userCompanyId = api.account.property('company_id');

        app.userCompany = app.companyList.findWhere({ id: app.userCompanyId });
        app.userCompanyName = app.userCompany.property('name');

        // agreement & company
        app.userAgreementCompanyList = ko.observableArray();
        app.userAgreementCompanyList.then(true, function () {
          console.log('mainPage -> ', app.userAgreementCompanyList(), app.userAgreementCompany())
        });

        //i18n.language.then(true, _.throttle(function() {
        api.auth.accessToken.then(true, _.throttle(function() {
            api.request('agreement/company', app.userAgreementCompanyList);
        }, 300));

        app.userAgreementCompany = app.userAgreementCompanyList.findWhere({ "company_id": app.userCompanyId });
        app.userAgreementList = app.userAgreementCompany.property('agreements');*/

        //        app.userCompanyId = ko.storable('app.userCompanyId');

        app.companyList = ko.observableArray();
        $.getJSON(APP_CONFIG.router.history.APP_BASE + 'js/data/companies.json', app.companyList);
        app.userCompanyId = api.account.property('company_id');
        //console.log('userCompanyId -> ', app.userCompanyId())

        app.companyList = app.companyList.map(function(company) {
          company.img = '/img/company-logo/' + company.img;
          return company;
        });
        //console.log('companyList -> ', app.companyList())

        app.userAgreementList = ko.observableArray();
        app.userAgreementCompanyList = ko.observableArray();

        app.userAgreementCompanyList.then(true, function () {

          /*app.userCompany = app.companyList.findWhere({ id: app.userCompanyId });
          console.log('userCompany -> ', app.userCompany())

          app.userCompanyName = app.userCompany.property('name');
          console.log('userCompanyName -> ', app.userCompanyName())

          app.userAgreementCompany = app.userAgreementCompanyList.findWhere({ "company_id": app.userCompanyId });
          console.log('userAgreementCompany -> ', app.userAgreementCompany())

          app.userAgreementList = app.userAgreementCompany.property('agreements');
          console.log('userAgreementList -> ', app.userAgreementList())*/
        });

        api.auth.accessToken.then(true, _.throttle(function() {
          api.request('agreement/company', app.userAgreementCompanyList);
        }, 300));
  </script>
  <script type="text/javascript">
   $(function() {
            app.menu([/*{
                name: 'Главная',
                route: app.router.DEFAULT_URL,
                active: /^(index)?$/
            },*/ {
                name: 'Лента',
                route: 'lenta',
                active: /^lenta$/,
                logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTEtMTNUMTQ6Mzk6MjYrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTEzVDE3OjA0OjA0KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTEzVDE3OjA0OjA0KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NzdlNTdmOC05MmRiLWFmNDEtOThjMi1kMzA4NzI0YWE4MDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODc3ZTU3ZjgtOTJkYi1hZjQxLTk4YzItZDMwODcyNGFhODA2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODc3ZTU3ZjgtOTJkYi1hZjQxLTk4YzItZDMwODcyNGFhODA2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODc3ZTU3ZjgtOTJkYi1hZjQxLTk4YzItZDMwODcyNGFhODA2IiBzdEV2dDp3aGVuPSIyMDE4LTExLTEzVDE3OjA0OjA0KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poe7DZQAAAJVSURBVEjHrZbNS1RRGMavqWWCCEIGIm0qhTa5UWgp9LFw0ZhUrvoHVNRCMc1I+iOkVUTkQiRFR2ecclEbvz9Qx7FEHSGljFoIrm/PS8+B1+O5cssZ+M19zzn3nuec933Ph+f7vgfugQWwCdbAOkidgG5PgwlQwb6OIX+1/t9fArSBDvAMdBFtm7Kpa+NTxPbBtSCRRTAeNIqQFII98BZkuUS2QavVcAGUg8uKK8ouAwXWNwPgM8hxichUn6rKhyBJ8a+KDSL2DvgEqtR3wyAOsl0i6/Sx2BdZngdN4Al5rOxmlr+DEeUesWNBIikGz6OLZAaNIeLwBiyBXJaj4H1Q4LXIVfAFNIQQeQ1mlMgQmATXmc4ltohxlwR0F7ygG86TfCL2ObpEYrCs3NPHpfAD/ALfmOLHZnIW9IMDMAWmOdpZMsPRzoFD0KNmNghWwSOuvV6KNtgiQil4yZR856CPbZIYeeq7KF1mp/WKS+R/GWEKn1F1snts2DE5rci4lcLS75q9TkyGyYJ8AO4HUA8ioNhyl71Ouo2I7a4WBv43+BnAAfeqGmsmoUUk8LfAbT6Fm8oW7oBqUBRCJJXJmEQdMTkyk0yJxByBT7rcVccRjdEFUT41Ce5TlSHc5RSR7PnIjuIkRuIcwAS3lRv/EpMO1ZDFF4PIUbY+BWXmo5ZIpxFJ83w4bUw+cDa6Ts6fbY9nQiIDIu0c8CVLeNHjyvVZ0c6j2NxIugPQ7c854lfsZ5UxjrMcMYoR3ru2eL4nef9K8Wlj3jF3ryS3/yneA9I8wu9K/38AJ0shOlj7LawAAAAASUVORK5CYII='
            }, {
                name: 'Магазин',
                route: 'market/index',
                active: /^market/,
                logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAeCAYAAAAy2w7YAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAvZJREFUSImtlk1oFVcUx38vedVooSYoLaGoiUqDIkZCoIJCg9CNlTTSLgShXQi2YoTsXChClyophEBWIiL4QaHV6qYUEvqhLS5KC1W02gpVaRHFjxBj6kd/Xdz7zGScvJlHeuByZ8459/7n3PM/9wwqVcZy9YQ6apBb6hG1PWfdC6OasVsdVy+pu9RN6k71Z/WJuu3/AFquPlIPquWUrU4dUJ+pbxYFKqlkyGdAG9ABPMuwl4BzwF1gY9YGL0gGekkdU7fnfOWHMeqXikRUl4E9D3gZuJzzjVeBBmB+kYCygJ4Hm7N2PM4NRYDKcd4EtKcW9gI9Vda+Fuc+4H58/g04nuVcIcOvwALgFlAPrAT+AMaqAM0B3gCuAI+AV4EJYEmmd0zWTbU3PjfG4uzKSfDq6NeSIMeDPDI0EagKk7l5UiUagMdxfhrne8ArTJP3OmAWMJfJc34ArAF+zAG6BKwFbiaAABqnA2pKOQKcB/7NARL4IfFeGOh+lkMNUllfU0QzAWrKMs4EqAx8AHwN3AFGo74f2ErI/RSgRgL//6kBpIVAlsOEGtoLvAd8TCDJEHCBcCkHUXeof9XQW5pj3V1WV03j06J+F+uqo9KP9qgXawAaUa+q8xO6BvWCujShmxXBrqizUfvV7wuCvB1vg3WpCIei/iunNsPFsZVsLRPIUJQImwk1djahOwYsA74kNMlSwvYn8DmwpRzJcJdisgoYTunagC+AAQLFb6fsI8AQ6gZ1bcGj+13tS+l2Gv4fKvJpyt6tWgaux9Cr9Z6K1APNKd0gcJTQZt4F9gO7CbQn6sfLwGmgtQBIRbpS762EOioBnYRLdiJhXw+cJ7LiI0MfyhvvxONJHvUS9WTUn1JXJGyL4v7biQ49NdTRcKyNplQdXVSXperoW/WaOgfDr1U6wdXG6+qNuPHKaXwWqt/EvTtVysAh4BPCvXetYJ4OAPuAX4AzhIv1b8KvVxfwPnADeAv4CaAS4qD60JnLhOHa2abOTkb5H0lspDv+KDnEAAAAAElFTkSuQmCC'

            }, {
                name: 'События',
                route: 'notifications',
                active: /^notifications/,
                logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAA2hJREFUSImtl1toXUUUhr+c9CTGamJprZEYtCVVtFXx9mBRFIsiVRC8vQo+CVYEK4iPRfFJBRENIiKo6IvaB6uIV6iiIESp0IgtxEtLkzZRTNLYnjbp58OsbY+HOZec44Jhw8zs9a9/zdr/mo2KOqS+pv5h5/ab+qQ6EL6zo0u9APgMuARYAg4Cx4EuWjfjOQCsBUrAW8BjwHT+DX1JXVJ3quvUs9X+NkePulmdUE+q96ndOcaok+qcOtwoNcscD6hH1TfVc3J7SsAa4BdgchmpbWZ7gDlgCOjJbSiRzvIkyzvTZlYh1Uup3oZi4f8EbclWZOa6gY3AtbF+qsH7Ar3ALLAbONAJ8GpgFNhMSpeZPbU+jgHPA88Cf7ULfBR4FfiBdASNGAOUgXng03i3JcsB/w28Aewk1UAzxiVScS5UBdlNCvoM6hRYDphwMNsEsJHNAj8De0nH0DJwp3YAeIj0Lc+1ClwmVfRGUrpyqV4BLJLq4EdSqgtbDQyTsnaClPbFVoAHgB3ArblIa+xtYDswBYwAdwJbgIuBPmAGGAM+JzWimUbAx4GPSF1K8oyLgvmCVFS3RbDXAYeAffEcAe4C7gc+AJ4BfgJEXVTH1HKbDWGrelCdUXeo16urYm041kfVBfUTdaToTp0AX6nuUafVu6vme9U71POq5rarFfUVtdwJcK/6XLS/bTVr69XD6hM1fgvmt9Sr6suBQf5b1V0kXZ4CvgHWRyGNAbtqfEiS2zXhr6j6F4F7gAdzwP3AU8DWzBrA11Eww8D5pOZwJANsgA7EcwEYj0AvywGfAL6tYlvN+MxgWwnGPaQLRCXjpwLcyOkvYD/wOklcNuWA54Gn67Cttj7qN/sFklzeAGyIoP8E3iUJy1InkjlBYjUUQVR3pmngUeAiTne4qZhfBxwugJt1oJyNA78Dm0hX2tqWOBGj2i4FrgY+LNpeuQ3gSeB74Arg5hb2nwU8DqwEPiZUZ169sA0BuUodV39Vb2qwr199JL75dwoBeSFEZFfIWb/p96PRWKWuVLvUe9VDoV7b1LVqX6z3hc9R9Zi6O8QF1EF1r3rK9EdxRJ0K5ak3Kup36jXB6PZQP4P9+6bL/Jem/7El9T11Q5GFIhWD6ssReau2X91Slc5zTXr8VVUG9kUQDwf7f9P/DycVbw+i6CA3AAAAAElFTkSuQmCC'
            }, {
                name: 'Отчёты',
                route: 'reports',
                active: /^reports/,
                logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTEtMTNUMTQ6NDA6MTYrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTEzVDE3OjA1OjQzKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTEzVDE3OjA1OjQzKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjQ3NTUxZi04MDZkLWFmNDUtOTFjMy1hODVjMzY3YTM0ZWQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZGY0NzU1MWYtODA2ZC1hZjQ1LTkxYzMtYTg1YzM2N2EzNGVkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZGY0NzU1MWYtODA2ZC1hZjQ1LTkxYzMtYTg1YzM2N2EzNGVkIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGY0NzU1MWYtODA2ZC1hZjQ1LTkxYzMtYTg1YzM2N2EzNGVkIiBzdEV2dDp3aGVuPSIyMDE4LTExLTEzVDE3OjA1OjQzKzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prb1M/sAAAHOSURBVEjHtZXLK0RRHMensDHIK8KklI0FyoaF515N2GgWhIU8MvMHkAUNC8+NDQrdDDMkj7WVLO0nsWEoZWHIlOL6Hn1PTtdtXDpz6tO9v/s9cz7dex7jMk3T5YBMcAHezO/2Ahad/N7lUJINEuABLIENivZ1S0TbVJ7dgmOdkhxKdpTPdweO/iqpBAEwASbBOBgBuSCdkl32df9XMsyBEhxATnIjcy2SMQ7kBxVgjnWzTskoB6pj7WPdlAqJ/Dz9rOtTKeljPQhqLKvLKhF1KSgnHpDnRNJj/mzbFoncjAvgWen3Dk65MpNKelmHeXyIFrJI9lgbzNfAMngEV6D4N8kA66okcyIl4g0/lLEM5kVOJz7Z6gorgwpJAeswjx0tkkOQBSKcBymJ6JCIs+vSsiieuKq0Sq7BPTgBMfAKSnRK3BTIo3+Veb5uid3qcjwntay7bSSG0j+mbEYpSWMdYv5DEuBAQ6AazLJuUSRnzNpAXHmTEPNW5ufgxm4z+k37Jo/6uE1mKG9ibWLHF1olGaALdAAv6ATtSt6gZF7elzHz8BiSmU/5y/iSBMEBWOe9YEa5bnHC55VnMl9hJq5TSjbN807MWVBIomZqW/QTZGo5/7Do/E8AAAAASUVORK5CYII='
            }, {
                name: 'Регистрация',
                route: 'user/new',
                active: /^user\/new/,
                logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTEtMTNUMTQ6NDA6MTYrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTEzVDE3OjA1OjQzKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTEzVDE3OjA1OjQzKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjQ3NTUxZi04MDZkLWFmNDUtOTFjMy1hODVjMzY3YTM0ZWQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZGY0NzU1MWYtODA2ZC1hZjQ1LTkxYzMtYTg1YzM2N2EzNGVkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZGY0NzU1MWYtODA2ZC1hZjQ1LTkxYzMtYTg1YzM2N2EzNGVkIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGY0NzU1MWYtODA2ZC1hZjQ1LTkxYzMtYTg1YzM2N2EzNGVkIiBzdEV2dDp3aGVuPSIyMDE4LTExLTEzVDE3OjA1OjQzKzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prb1M/sAAAHOSURBVEjHtZXLK0RRHMensDHIK8KklI0FyoaF515N2GgWhIU8MvMHkAUNC8+NDQrdDDMkj7WVLO0nsWEoZWHIlOL6Hn1PTtdtXDpz6tO9v/s9cz7dex7jMk3T5YBMcAHezO/2Ahad/N7lUJINEuABLIENivZ1S0TbVJ7dgmOdkhxKdpTPdweO/iqpBAEwASbBOBgBuSCdkl32df9XMsyBEhxATnIjcy2SMQ7kBxVgjnWzTskoB6pj7WPdlAqJ/Dz9rOtTKeljPQhqLKvLKhF1KSgnHpDnRNJj/mzbFoncjAvgWen3Dk65MpNKelmHeXyIFrJI9lgbzNfAMngEV6D4N8kA66okcyIl4g0/lLEM5kVOJz7Z6gorgwpJAeswjx0tkkOQBSKcBymJ6JCIs+vSsiieuKq0Sq7BPTgBMfAKSnRK3BTIo3+Veb5uid3qcjwntay7bSSG0j+mbEYpSWMdYv5DEuBAQ6AazLJuUSRnzNpAXHmTEPNW5ufgxm4z+k37Jo/6uE1mKG9ibWLHF1olGaALdAAv6ATtSt6gZF7elzHz8BiSmU/5y/iSBMEBWOe9YEa5bnHC55VnMl9hJq5TSjbN807MWVBIomZqW/QTZGo5/7Do/E8AAAAASUVORK5CYII='
            }, {
                name: 'Моя Sessia',
                route: 'user/settings',
                active: /^user\/settings/,
                logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAcVJREFUSIm11s+LTlEcBvDPfb2isJF3YYPManaTpdlYzIKNKMnCBmVlI/InsJRfWzYWlBKlrIUpNcXOgiIhMbIwjGnmfSzufc2Y3nvNjHeeOp36nuee55zv9znn3CJJB1exH2sNFp+wq43LOIwH+IrWgAQKfMSUJNNJ7iSxWq2FdXg7oNX3RQtdtFdTpGnyrTiIDlLFCnzBDfyoYptxHBsqXoFpjOMRSDKX5NKiPO5I8ir9MVON97ijNbwkOZWkdienMYQTmFgQL/AdbxbExjGM9dVOUu3qCs7jVp3IMN7jekM6e+jiZZ/4TVxEp+lMzFUrXyl6dUydSLGIuBL8WWBduj5gD0bxHGtqeF1ljRpRJ3INh/AY3/RPW1GJvMAZfxtkSSLPMIaT2FLDSfX9GO5hRHmGlixCac3xhvEejilduBv3+xEGceO+rvpNdYRBiPzTiYMQ2V71U3WEupocxQHz10Q/RPlM7FVa/ulyRUawr0GAeQtP4Cw+L1fkHC40CPQQ5ZPdiLayLrOL4l1MLkGkCb05ixZ+Ydt/TtgPO6t+po27OKL8W5n0/47rYqPyVX2Cd5J0ktxO8jPJ7IDaTJKHSYaS+A2t1FkDAa821wAAAABJRU5ErkJggg=='
            }]);
        });
  </script>
  <script id="layout/sign-in" type="text/html">
   <div class="empty" data-bind="
            template: app.view.page/*'page/login'*/,
            mod: {
                anonimous: api.user.negate()
            }">
        </div>
  </script>
  <script id="layout/default" type="text/html">
   <div class="container-fluid gradient-bg">
            <div class="page-container" data-bind="
                template: app.view.page,
                mod: {
                    anonimous: api.user.negate()
                }
            "></div>

            <header class="layout-part">
                <div style="position: absolute; left: 0; width: 50%; color: white">
                    <a href class="logo" data-bind="url: 'index'"></a>
                </div>

                <div class="header__authorization" >
                    <div class="header__user">
                        <a href class="icon icon_head-phones_white header__help-icon" data-bind="url: 'ticket/index'"></a>

                        <!-- ko with: (api.user()  || {}) .photo -->
                        <a href data-bind="url: 'user/settings'">
                            <img class="header__img-user" src alt="" data-bind="attr: { src: $data }" />
                        </a>
                        <!-- /ko -->

                        <div class="header__block-name">
                            <div>
                                <a href class="header__name" data-bind="with: api.user, url: 'user/settings'">
                                    <span data-bind="text: name"></span>
                                    <span data-bind="text: surname"></span>
                                </a>

                                <span class="header__name" data-bind="with: api.user.property('member_id')">
                                    (<span data-bind="text: $data"></span>)
                                </span>
                            </div>
                            <div>
                                                                <!-- ko ifnot: app.userAgreementList.alone() -->
                                <a style="color: white" data-bind="attr: {href: i18n('https://www.sessia.com/user_agreement_ru.html')}" target="_blank">Лицензионное соглашение</a>
                                <!-- /ko -->

                                <!-- ko with: app.userAgreementList.alone() -->
                                <a href style="color: white" target="_blank" data-bind="
                                    attr: { href: link },
                                    text: name
                                "></a>
                                <!-- /ko -->

                                <!-- ko if: app.userAgreementList.property('length').gt(1) -->
                                <div style="position: relative">
                                    <a href onclick="dropdown('#js-agreement-list')">Условия соглашения</a>

                                    <ul id="js-agreement-list" class="list-unstyled" style="display: none; position: absolute; right: 0; top: 100%; border: 1px solid dimgray; padding: .6em; background-color: white"
                                        data-bind="foreach: app.userAgreementList">
                                        <li>
                                            <a href style="color: #332269" target="_blank" data-bind="
                                                attr: { href: link },
                                                text: name
                                            "></a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- /ko -->
                            </div>
                        </div>
                        <a class="header__exite" href data-bind="click: app.logout">Выйти</a>
                        <br />
                    </div>

                </div>
            </header>

            <div class="layout-part side-menu-container" data-bind="template: app.view.menu"></div>

            <footer class="col-xs-12"></footer>

            <header class="layout-no-part">
                <div class="header__logo">
                    <a href class="logo" data-bind="url: 'index'"></a>
                </div>

                <a href class="icon icon_head-phones_white" style="position: fixed; right: 1.6em; z-index: 9999" data-bind="url: 'ticket/index'"></a>
            </header>
        </div>
  </script>
  <script id="app/menu" type="text/html">
   <div class="menu" data-bind="foreach: $data">
            <a href class="menu-item" data-bind="
                url: route,
                mod: active.test( app.currentUrl() ) && 'active',
                style: {
                    backgroundImage: 'url(' + $data.logo + ')'
                }
            ">
                <span class="menu-item__name" data-bind="text: i18n.template(name, $data)"></span>
            </a>
        </div>
  </script>
  <script id="modal-dialog" type="text/html">
   <div class="modal" data-backdrop="false" role="dialog" data-bind="mod: $data.mod">
            <div class="modal-dialog">
                <div class="modal-content" data-bind="style: $data.modalContentStyle">
                    <div class="modal-header">
                        <h5 class="modal-title" data-bind="text: title"></h5>
                    </div>

                    <div class="modal-body" data-bind="style: $data.bodyStyle">
                        <!-- ko with: $data.girl -->
                        <div class="text-center" style="margin-bottom: 1em">
                            <img src style="max-width: 100%" data-bind="
                                attr: {
                                    src: app.router.history.APP_BASE + 'css/img/girls/' + $data
                                }
                            " />
                        </div>
                        <!-- /ko -->

                        <!-- ko if: _.isString($data.content) -->
                        <div class="text-center" data-bind="html: content"></div>
                        <!-- /ko -->

                        <!-- ko ifnot: _.isString($data.content) && $data.content -->
                        <div data-bind="template: content"></div>
                        <!-- /ko -->
                    </div>

                    <div class="modal-footer button-block" data-bind="foreach: buttons">
                        <div class="modal__answer" data-bind="style: $parent.answerStyle">
                            <button class="modal__button form-control btn" data-bind="
                                text: name,
                                css: css && _.object([css], [true]),
                                style: $parent.buttonStyle,
                                click: _.compose($data.action || _.noop, $data.close ? $parent.close : _.noop)
                            "></button>
                            <!-- ko with: $data.note -->
                            <div class="modal__note" data-bind="text: $data"></div>
                            <!-- /ko -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
  </script>
  <script id="waiting for app ready..." type="text/html">
  </script>
  <script id="etc/share-pane" type="text/html">
   <div class="social-share-pane" data-bind="foreach: 'vk,fb,tw'.split(',')">
            <a href class="social-icon" data-bind="
                mod: $data,
                click: SocialShare[$data].bind(SocialShare, $parent.url, $parent.title, $parent.description)
            "></a>
        </div>
  </script>
  <script src="/web-version/js/page/404/404.js" type="text/javascript">
  </script>
  <script id="page/404" type="text/html">
  </script>
  <script src="/web-version/js/page/user/settings.js" type="text/javascript">
  </script>
  <script id="page/user/settings" type="text/html">
   <form class="sessia-settings" data-bind="with: form">
            <div class="sessia-settings__user">
                <label >
                    <input type="file" style="display: none" data-bind="event: { change: $parent.processPhoto }" />
                    <div class="sessia-settings__logo-block">
                        <div class="logo logo_sm user-pic-logo" data-bind="style: {
                            backgroundImage: photo() ? 'url(' + photo() + ')' : null
                        }"></div>
                    </div>
                    <br/>
                    <div class="sessia-settings__btn">Загрузить</div>
                </label>

                <div class="sessia-settings__block-name">
                    <div class="sessia-settings__name">
                        <span data-bind="text: name"></span>
                        <span data-bind="text: surname"></span>
                    </div>
                    <div class="sessia-settings__id">
                        <span>Sessia ID</span>
                        <span data-bind="text: api.user.property('member_id')"></span>
                    </div>
                </div>

                <div class="sessia-settings__qr-code" alt="QR-code" data-bind="
                    attr: {
                        alt: 'QR-code `' + ( $data._qrCodeData = String( id() ) ) + '`',
                        id: _.delay(function() {
                            new QRCode(document.getElementById('qc-usr-' + $data._qrCodeData), {
                                text: $data._qrCodeData,
                                width: 94,
                                height: 94,
                                colorDark : '#000000',
                                colorLight : '#ffffff',
                                correctLevel : QRCode.CorrectLevel.H
                            });
                        }) && (
                            'qc-usr-' + $data._qrCodeData
                        )
                    }
                "></div>

                <div class="text-center" style="margin-top: 96px; padding-bottom: 10px">
                    <!-- ko with: i18n.find('privacy_policy_link', i18n.language()) -->
                    <a href target="_blank" data-bind="attr: { href: $data }" style="color:#ccffff">Политика конфиденциальности</a>
                    <br />
                    <!-- /ko -->

                    <!-- ko with: i18n.find('user_agreement_link', i18n.language()) -->
                    <a href target="_blank" data-bind="attr: { href: $data }" style="color:#ccffff">Пользовательское соглашение</a>
                    <!-- /ko -->
                </div>
            </div>

            <div class="sessia-settings__info">
                <div class="page-body">
                    <dl>
                        <dt style="font-weight: 500; font-size: 14px; margin-bottom: .5em; color: #5E4094;">Выбор языка (language)</dt>
                        <dd>
                            <select class="form-control" data-bind="
                                options: i18n.LANGUAGE_LIST,
                                optionsValue: 'lang_short',
                                optionsText: 'name',
                                value: i18n.setLanguage,
                                event: { change: $data.languageChanged }
                            "></select>
                        </dd>
                    </dl>
                                        <form data-bind="with: form">
                                                <div style="margin-top: .5em; width:30%">
                        </div>
                        <div style="margin-top: .5em;; width:30%">
                            Имя *
                        </div>
                        <div style="margin-top: .5em; width:30%">
                            <input type="text" class="form-control" data-bind="value: name, event: { keydown: $parent.formElementChanged }" required/>
                        </div>
                        <div style="margin-top: .5em">
                            Фамилия *
                        </div>
                        <div style="margin-top: .5em; width:30%">
                            <input type="text" class="form-control" data-bind="value: surname, event: { keydown: $parent.formElementChanged }" required/>
                        </div>
                        <div style="margin-top: .5em">
                            E-Mail
                        </div>
                        <div style="margin-top: .5em; width:30%">
                            <input type="text" class="form-control" data-bind="value: email, event: { keydown: $parent.formElementChanged }" pattern="[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+"/>
                        </div>
                        <div style="margin-top: .5em">
                            Дата рождения
                        </div>
                        <div id="userBirthDate" style="margin-top: .5em; width:30%">
                            <input type="text" class="form-control" data-bind="value: birthDate, event: { focus: $parent.formElementChanged }">
                        </div>
                        <!--div style="margin-top: 1em; width:30%">
                            <input type="date" class="form-control" data-bind="value: birthDate, event: { change: $parent.formElementChanged }"/>
                        </div-->
                        <div style="margin-top: .5em">
                            Страна
                        </div>
                        <div style="margin-top: .5em; width:30%">
                            <select class="form-control" data-bind="
                                options: COUNTRY_LIST,
                                optionsValue: 'id',
                                optionsText: 'name',
                                value: countryId,
                                valueAllowUnset: false,
                                optionsCaption: 'Выберите страну...',
                                event: {change: $parent.formElementChanged}
                            "></select>
                        </div>
                        <div style="margin-top: .5em">
                            Город
                        </div>
                        <div style="margin-top: .5em; width:30%">
                            <input class="form-control" id="userCityField" data-bind="
                                value: cityName,
                                event: { keypress: $parent.formElementChanged },
                            "></input>
                        </div>
                        <div style="margin-top: 1em; display: flex; justify-content: space-around;">
                                <label >
                                    <input type="radio" value="male" data-bind="checked: gender, event: { change: $parent.formElementChanged }"> Мужчина
                                </label>
                                <label >
                                    <input type="radio" value="famale" data-bind="checked: gender, event: { change: $parent.formElementChanged }"> Женщина
                                </label>
                        </div>
                        <div style="margin-top: .5em; width:275px;">
                                <button type="submit" class="form-control sessia-settings__btn sessia-settings__btn_violet" style="width: 10em;" data-bind="
                                    click: $parent.save, enable: $parent.isFormChanged
                                ">Сохранить</button>
                        </div>
                    </form>
                </div>
            </div>
        </form>
  </script>
  <script id="page/settings_crop" type="text/html">
   <div>
                <canvas id="canvas"></canvas>
            </div>
            <br/>
  </script>
  <script src="/web-version/js/page/ico/addwallet.js" type="text/javascript">
  </script>
  <script id="page/ico/addwallet" type="text/html">
   <h3 class="page-title">Добавить кошелёк</h3>

        <div class="page-body">
            <div style="width: 1024px;">
                <img src="../css/img/girls/money.png" style="width: 100%" />

                <form data-bind="with: form">
                    <div style="margin-top: 1em; text-transform: uppercase">
                        Укажите номер Вашего Ethereum-кошелька
                    </div>

                    <div style="margin-top: 1em;">
                        <input type="text" class="form-control" data-bind="value: wallet" />
                    </div>

                    <div class="text-muted" style="margin-top: 1em;">
                        Пример: 0x493c4afb73b490e988650b9758e7736c72af748f
                    </div>

                    <div class="text-center" style="margin-top: 1em;">
                        <button type="submit" class="form-control btn btn-success" style="width: 10em;" data-bind="
                            click: submit,
                            css: { pending: pending }
                        ">Продолжить</button>
                    </div>
                </form>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/login/account.js" type="text/javascript">
  </script>
  <script id="page/login/account:question" type="text/html">
   <div class="text-center">
            Добро пожаловать в Sessia!
        </div>
  </script>
  <script id="page/login/account" type="text/html">
   <div id="user-email-login-modal" class="modal modal_page_auth" data-backdrop="false" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Вход / регистрация</h5>
                    </div>

                    <div class="modal-body">
                        <form class="container-fluid" data-bind="with: emailForm">
                            <div class="row form-group text-center">
                                <div class="logo logo_sm sessia-logo"></div>
                            </div>

                            <div class="row form-group">
                                <label>E-mail или Номер контракта</label>
                                
                                <input type="text" class="form-control" data-bind="value: email, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group">
                                <label>Пароль</label>
                                
                                <input type="password" class="form-control" data-bind="value: password, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group text-center">
                                <button class="btn btn-forward btn-half" data-bind="
                                    click: $parent.loginByEmail,
                                    css: {
                                        disabled: ! isReady(),
                                        pending: pending
                                    }
                                ">Далее</button>

                                <div class="text-danger" data-bind="text: $parent.emailError"></div>

                                <div class="text-center" style="margin-top: 1em">
                                    <a href data-bind="click: $parent.switchToGuarantorForm">
                                        Новая регистрация в <%= app.userCompanyName %>
                                    </a>
                                </div>

                                <div class="text-center" style="margin-top: 1em">
                                    <a href data-bind="click: $parent.switchToRemindPassword">
                                        Напомнить пароль
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div id="user-remind-password-modal" class="modal modal_page_auth" data-backdrop="false" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Напомнить пароль</h5>
                    </div>

                    <div class="modal-body">
                        <form class="container-fluid" data-bind="with: passwordRemindForm">
                            <div class="row form-group text-center">
                                <div class="logo logo_sm sessia-logo"></div>
                            </div>

                            <div class="row form-group">
                                <label>Номер контракта</label>

                                <input type="text" class="form-control" data-bind="value: member_id, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group">
                                <label>E-mail</label>

                                <input type="text" class="form-control" data-bind="value: email, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group">
                                <label>Телефон</label>

                                <input type="text" class="form-control" data-bind="value: phone, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group text-center">
                                <button class="btn btn-forward btn-half" data-bind="
                                    click: remindPassword,
                                    css: {
                                        disabled: ! isReady(),
                                        pending: pending
                                    }
                                ">Напомнить пароль</button>

                                <div class="text-danger" data-bind="text: errorMessage"></div>

                                <div class="text-center" style="margin-top: 1em">
                                    <a href data-bind="click: $parent.switchToGuarantorForm">
                                        Новая регистрация в <%= app.userCompanyName %>
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div id="user-guarantor-modal" class="modal modal_page_auth" data-backdrop="false" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Указать ID</h5>
                    </div>

                    <div class="modal-body">
                        <form class="container-fluid" data-bind="with: guarantorForm, disable: guarantorForm.pending">
                            <div class="row form-group text-center">
                                <div class="logo sessia-logo"></div>
                            </div>

                            <div class="row form-group">
                                <label>
                                    Введите код <%= app.userCompanyName %>
                                    <small>
                                                                                                                    </small>
                                </label>

                                <input type="text" class="form-control" data-bind="value: guarantor_code, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group">
                                <label>или номер телефона</label>

                                <input type="tel" class="form-control" autocomplete="off" data-bind="value: guarantor_phone, valueUpdate: 'keyup'" />
                            </div>

                            <div class="row form-group text-center">
                                <button class="form-control btn btn-half btn-forward" data-bind="click: $parent.saveGuarantor, css: { disabled: ! isReady(), pending: pending }">Далее</button>

                                <button class="form-control btn btn-half btn-success" data-bind="click: $parent.switchToSkipGuarantorForm">Пропустить</button>

                                <div class="text-danger" data-bind="text: $parent.guarantorError"></div>
                            </div>
                        </form>
                    </div>

                                    </div>
            </div>
        </div>

        <div id="user-skip-guarantor-modal" class="modal modal_page_auth" data-backdrop="false" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Указать промо-код / ID</h5>
                    </div>

                    <div class="modal-body">
                        <form class="container-fluid" data-bind="with: skipGuarantorForm, disable: skipGuarantorForm.pending">
                            <div class="row form-group text-center">
                                <div class="logo sessia-logo"></div>
                            </div>

                            <div class="row form-group">
                                <div>
                                    Вы хотите получить бонус 100 монет (сессий)?
                                </div>

                                                            </div>

                            <div class="row form-group text-center">
                                <button class="form-control btn btn-half btn-forward" data-bind="
                                    click: takeTheBonus
                                " __data-bind="
                                    click: takeTheBonus,
                                    css: {
                                        disabled: ! promoCode(),
                                        pending: pending
                                    }
                                ">Получить бонус</button>

                                <button class="form-control btn btn-half btn-cancel" data-bind="click: $parent.skipGuarantor">Отказаться</button>
                            </div>
                        </form>
                    </div>

                                    </div>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/login/remind.js" type="text/javascript">
  </script>
  <script id="page/login/remind" type="text/html">
   <div class="auttorization-bg">
            <div class="auttorization">
                <img id="bubble3" src="/web-version/newstart/img/3.png" alt="">
                <img id="bubble2" src="/web-version/newstart/img/2.png" alt="">
                <img id="bubble1" src="/web-version/newstart/img/1.png" alt="">
                <img id="bubble4" src="/web-version/newstart/img/4.png" alt="">
                <img id="bubble5" src="/web-version/newstart/img/5.png" alt="">
                <div class="authorization__wrapper">
                    <div class="reg__form-content send-pass">
                        <div class="reg__header">Вам отправлен новый пароль</div>
                        <a class="reg__btn reg__btn_no-shadow" href="">Продолжить</a>
                    </div>
                    <div class="reg__form-content"><img class="reg__sessia-logo" src="/web-version/newstart/img/sessia.png" alt="">
                        <div class="reg__header">Восстановление пароля</div>
                        <ul class="nav-reg">
                            <li class="active">E-mail
                                <div class="nav-reg__border"></div>
                            </li>

                            <li>Номер телефона
                                <div class="nav-reg__border"></div>
                            </li>
                        </ul>
                        <div class="reg__hr"></div>
                        <div class="reg__form-body reg-tabs reg-tabs_active">
                            <form>
                                <div class="reg__block-input">
                                    <label id="email-remaind">
                                                                              <input type="email" name="email-remaind" value="" placeholder="Ваш E-mail">
                                    </label>
                                </div>
                            </form>
                        </div>
                        <div class="reg__form-body reg-tabs">
                            <form>
                                <div class="reg__block-input">
                                    <label id="phone-remaind">
                                                                               <input type="tel" name="phone-remaind" value="" placeholder="Укажите Ваш номер телефона">
                                    </label>
                                </div>
                            </form>
                        </div>
                        <a class="reg__btn reg__btn_no-shadow" href="">Продолжить</a>
                        <a class="reg__btn reg__btn_white" href="">Назад</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer__wrapper">
                <div class="footer__content">
                    <nav class="footer__nav">
                        <li><a class="nav-Link" href="../html/index.html"></a>
                        </li>
                        <li><a class="nav-Link" href="#">О нас</a>
                        </li>
                        <li><a class="nav-Link" href="#">Для бизнеса</a>
                        </li>
                        <li><a class="nav-Link" href="#">Пресса</a>
                        </li>
                        <li><a class="nav-Link" href="#">Конфидененциальность</a>
                        </li>
                        <li><a class="nav-Link" href="#">Правила</a>
                        </li>
                        <li><a class="nav-Link" href="#">Язык</a>
                        </li>
                    </nav>
                    <p>&copy; Sessia, 2020
                    </p>
                </div>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/user/profile.js" type="text/javascript">
  </script>
  <script id="page/user/profile" type="text/html">
   <div class="reg-wrapper">
            <div class="auttorization-bg" data-bind="click: clickControl() ? hideList : null">
                <div class="auttorization" style="max-width: 100%;">
                    <div class="auttorization__bubbles">
                        <img id="bubble3" src="/web-version/newstart/img/3.png" alt="">
                        <img id="bubble2" src="/web-version/newstart/img/2.png" alt="">
                        <img id="bubble1" src="/web-version/newstart/img/1.png" alt="">
                        <img id="bubble4" src="/web-version/newstart/img/4.png" alt="">
                        <img id="bubble5" src="/web-version/newstart/img/5.png" alt="">
                    </div>
                    <div class="authorization__wrapper authorization_index">
                        <div class="white-layer"></div>
                        <div class="reg__app">
                            <div class="reg__wrapper reg__wrapper_iphone">
                                <h1 class="reg__header">Общение и покупки <br> С удовольствием и кэшбэками</h1>
                                <div class="reg__iphone">
                                    <div class="reg__iphone__inside">

                                        <div style="position:relative;">
                                            <img src="/web-version/newstart/img/iphone2.png" alt="">
                                            <img class="brow" src="/web-version/newstart/img/brow.png" alt="">
                                        </div>

                                        
                                    </div>
                                </div>
                                <p class="reg__text-app">Общайся с друзьями, совершай покупки<br>и получай кэшбэки!</p>
                            </div>
                        </div>
                        <div class="reg__form">
                            <div class="reg__center"><div class="reg__wrapper" data-bind="visible: visibleReg()">
                                    <div class="reg__header">Регистрация</div>
                                    <div class="reg__form-content"><img class="reg__sessia-logo" src="/web-version/newstart/img/sessia.png" alt="">
                                        <div class="reg__header_mob">Общение и покупки.</div>
                                        <div class="reg__header_mob">С удовольствием и кэшбэками.</div>

                                        <form class="reg__form-body" data-bind="with: form" >
                                            <div class="reg__block-input">
                                                                                                <input type="text" name="" data-bind="value: name, event: {keypress: $parent.validateInput}, attr:{placeholder: i18n('Укажите имя*')}">
                                            </div>
                                            <div class="reg__block-input">
                                                                                                <input type="text" name="" data-bind="value: surname, attr:{placeholder: i18n('Укажите фамилию*')}">
                                            </div><div class="reg__block-input" style="position:relative;" data-bind="with: $parent.promoCode">
                                                <div class="reg__bonus reg__license" data-bind="visible: $parents[1].visibleLicense">
                                                    <!-- ko with: app.userAgreementList.alone() -->
                                                    <img data-bind="attr: {src: company_logo_url}" class="reg__license-img"/>
                                                    <div data-bind="text: text" class="reg__license-text"></div>
                                                    <a href style="color: white" target="_blank" data-bind="
                                                        attr: { href: link },
                                                        text: name
                                                    "></a>
                                                    <!-- /ko -->
                                                    <label name="license" for="license-check">
                                                        <input type="checkbox" id="license-check" data-bind="checked: $parents[1].checkLicense"> с условиями ознакомился и согласен
                                                    </label>
                                                    <button data-bind="click: $parents[1].confirmLicense">ОК</button>
                                                </div>
                                                <input id="guarantor-code" type="text" data-bind="value: guarantor_code, enable: $parents[1].enablePromo, attr:{placeholder: i18n('Промокод')}">
                                                <div class="reg__bonus" data-bind="visible: $parents[1].visiblePopup">
                                                    Хотите применить промокод? <br>
                                                    <a href="" data-bind="click: $parents[1].promoFocus">Да</a>
                                                    <a href="" data-bind="click: $parents[1].refusePromoFunc, enable: $parent.isFormChanged">Нет</a>
                                                </div>
                                                                                                <div class="text-danger" data-bind="text: $parents[1].guarantorError"></div>
                                            </div><div class="reg__block-input" data-bind="visible:$parent.phoneStuff">
                                                <p>Укажите мобильный телефон*</p>
                                                <div class="reg__block-select">
                                                    <div data-bind="with: selectedCountry, click: $parent.dropList">
                                                        <div data-bind="attr: {country: id}" style="display:flex; align-items: center">

                                                            <img class="country" data-bind="attr: { src: 'https://sessia.com' + icon }" style="width: 32px; height: 32px; cursor: pointer">
                                                            <img src="/web-version/newstart/img/blue-arrow.png" alt="" style="margin: 0 0 0 11px; cursor: pointer;">
                                                        </div>
                                                    </div>
                                                    <div data-bind="with: selectedCountry" style="float:left; padding: 2px 10px;">
                                                        <div data-bind="text: code" style="color: #5e616b; font-size: 15px;">
                                                        </div>
                                                    </div>
                                                    <ul class="country-list-none" data-bind="foreach: COUNTRY_LIST">
                                                        <li class="country" >
                                                            <div class="item" data-bind="attr: {country: id}, click: $parents[1].selectCountry">
                                                                <img data-bind="attr: { src: 'https://sessia.com' + icon }" style="width: 32px; height: 32px; cursor: pointer">
                                                                <span data-bind="text: code"></span>
                                                                <span data-bind="text: name"></span>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                    <input type="text" data-bind="value: $parent.phone, event: {keyup: $parent.enterKeyReg}" name="">
                                                </div>
                                            </div>
                                            <div class="text-danger" data-bind="text: $parent.requestError"></div><div data-bind="visible: $parent.isConfirmWelcome">
                                                <form>
                                                    <p >Вам отправлен SMS-пароль</p>
                                                    <div class="reg__block-input reg__sms-block">
                                                        <input class="sms-number" type="text" id="js-confirm-code-reg" autocomplete="off"
                                                               data-bind="attr: {placeholder: !$parent.isConfirmWelcome() ? 'SMS-code' : ''},
                                                          enable: $parent.isConfirmWelcome,
                                                          value: $parent.confirmCode,
                                                          valueUpdate: 'keyup'" >
                                                        <button class="btn-sms" data-bind="click: $parent.confirmSmsCode">Подтвердить</button>
                                                    </div>
                                                    <div class="text-danger" data-bind="text: $parent.confirmError"></div>
                                                </form>
                                            </div><button class="reg__btn" href="" data-bind="visible: $data.regButtonEnable, click: $data.regButton/*, event: {keyup: $data.enterKeyReg}*/">Зарегистрироваться</button>
                                            <button class="reg__btn" href="" data-bind="visible: $data.regEndButtonEnable, click: $data.regEndButton">Завершить регистрацию</button>
                                            <div class="text-danger" data-bind="text: $data.errorMessage"></div>
                                        </form>

                                        <p class="reg__text-small"> Регистрируясь, вы принимаете наши <a data-bind="attr: {href: userAgreementLink}, click: gotoUserAgreement">Условия</a>, <a data-bind="attr: {href: privacyPolicyLink}, click: gotoPrivacyPolicy">Политику использования данных</a>  и <a data-bind="attr: {href: cookie}, click: gotoCookie">Политику в отношении файлов cookie</a></p>

                                        <div data-bind="visible: successReg()">
                                            <p class="reg__sucessfull">Вы успешно зарегистрировались!</p>
                                            <p class="reg__">Хотите заполнить свой профиль?</p>
                                            <a href="" class="reg__no" data-bind="click: gotoLenta">Нет</a>
                                            <a href="" class="reg__yes" data-bind="click: profileOn">Да</a>
                                        </div>

                                        <a class="reg__login" data-bind="visible: !$data.regEndButtonEnable(), click: gotoLogin" href="login">Есть аккаунт?<span>&nbsp; Вход</span></a>

                                        <div class="reg__text_mob">Установите приложение</div>
                                        <div class="mob-btn">
                                            <a href="https://play.google.com/store/apps/details?id=com.sessia&hl=ru" target="_blank" data-bind="click: gotoGooglePlay">
                                                <img src="/web-version/newstart/img/google-btn-black.png" alt="">
                                            </a>
                                            <a href="https://apps.apple.com/ru/app/sessia/id1220488838" target="_blank" data-bind="click: gotoAppleStore">
                                                <img src="/web-version/newstart/img/app-store-black.png" alt="">
                                            </a>
                                        </div>
                                    </div>
                                    <p class="reg__text-app" style="color: #fff;">Установите приложение</p>
                                    <div class="reg__links">
                                        <a href="https://play.google.com/store/apps/details?id=com.sessia&hl=ru" target="_blank" data-bind="click: gotoGooglePlay">
                                            <img src="/web-version/newstart/img/google-play.png" alt="">
                                        </a>
                                        <a href="https://apps.apple.com/ru/app/sessia/id1220488838" target="_blank" data-bind="click: gotoAppleStore">
                                            <img src="/web-version/newstart/img/app-store.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer__wrapper">
                <div class="footer__content">
                    <nav class="footer__nav">
                        <li><a class="nav-Link" href="https://www.sessia.com/team.html" data-bind="attr: {href: mainPage}">О нас</a>
                        </li>
                        <li><a class="nav-Link" href="https://www.sessia.com/team.html" data-bind="attr: {href: teamLink}">Команда</a>
                        </li>
                        <li><a class="nav-Link" href="https://www.sessia.com/instruments.html" data-bind="attr: {href: instruments}">Для бизнеса</a>
                        </li>
                        <li>
                            <a class="nav-link" href="https://www.sessia.com/press.html" data-bind="attr: {href: press}">Пресса</a>
                        </li>
                        <li><a class="nav-link" href="https://www.sessia.com/privacy.html" data-bind="attr: {href: privacy}">Конфиденциальность</a>
                        </li>
                        <li><a class="nav-link" href="https://www.sessia.com/conditions.html" data-bind="attr: {href: conditions}">Правила</a>
                        </li>
                        <li><a class="nav-link" href="https://www.sessia.com/web-version/ticket/index" target="_blank">Поддержка</a>
                        </li>
                        <li><span class="nav-link">                                <select id="page/login__language-select" data-bind="
                                options: i18n.LANGUAGE_LIST,
                                optionsValue: 'lang_short',
                                optionsText: 'name',
                                value: i18n.setLanguage,
                                valueAllowUnset: true
                            "></select>
                            </span>
                        </li>
                    </nav>
                    <p>&copy; Sessia, 2020
                    </p>
                </div>
            </div>
        </div>
  </script>
  <script id="page/profile_crop" type="text/html">
   <div>
            <canvas id="canvas"></canvas>
        </div>
        <br/>
  </script>
  <script src="/web-version/js/page/user/new.js" type="text/javascript">
  </script>
  <script id="page/user/new" type="text/html">
   <h3 class="page-title">Регистрация</h3>

        <div class="page-body">
            <div style="width: 800px">
                <section class="section section_disabled" data-bind="mod: stage.isEqual(1).and('active')">
                    <div class="section-header" style="
                        background: #c756f1;
                        color: white;
                        text-transform: uppercase;
                        font-weight: bold;
                    ">
                        Регистрация нового участника
                    </div>

                    <div class="section-header">
                        Шаг 1
                    </div>

                    <div class="section-body">
                        <form class="container-fluid" data-bind="
                            template: {
                                data: smsLoginForm,
                                afterRender: function() {
                                    $('#js-new-user-phone').focus()
                                }
                            },
                            enable: stage.isEqual(1)
                        ">
                            <div class="row form-group">
                                <label>Выберите страну нового участника</label>

                                <select class="form-control" data-bind="
                                    options: COUNTRY_LIST,
                                    optionsValue: 'id',
                                    optionsText: 'name',
                                    value: countryId,
                                    valueAllowUnset: true
                                "></select>
                            </div>

                            <div class="row form-group">
                                <label>Номер телефона участника</label>

                                <div class="input-group">
                                    <div class="input-group-addon" data-bind="text: countryCode.or('+#')"></div>

                                    <input type="tel" name="user-tel" class="form-control" placeholder="Телефон" autocomplete="off" data-bind="
                                        value: phone,
                                        valueUpdate: 'keyup',
                                        enable: countryCode.isNotEmpty(),
                                        attr: {
                                            placeholder: countryCode.and('Телефон').or('Выберите страну')
                                        }
                                    " />
                                </div>

                                                            </div>

                            <div class="row form-group text-center">
                                <button class="btn btn-action btn-half" data-bind="
                                    click: requestConfirmCode,
                                    enable: countryCode.and(phone)
                                ">Получить код</button>

                                <div class="text-danger" data-bind="text: requestError"></div>
                            </div>
                        </form>
                    </div>

                    <div class="section-body bg-info">
                        <form class="container-fluid" data-bind="
                            with: smsLoginForm,
                            enable: stage.isEqual(1)
                        ">
                            <div class="row form-group">
                                <label>
                                    На телефон участника будет отправлено SMS с кодом
                                </label>

                                <input type="text" id="js-confirm-code" class="form-control" autocomplete="off" data-bind="
                                    value: confirmCode,
                                    valueUpdate: 'keyup',
                                    enable: isConfirmWelcome
                                " />
                            </div>

                            <div class="row form-group text-center">
                                <button class="btn btn-forward btn-half" data-bind="
                                    click: confirmSmsCode,
                                    enable: isConfirmReady
                                ">Далее</button>

                                <div class="text-danger" data-bind="text: confirmError"></div>
                            </div>
                        </form>
                    </div>
                </section>

                <section class="section section_disabled" data-bind="mod: stage.isEqual(2).and('active')">
                    <div class="section-header">
                        Шаг 2
                    </div>

                    <div class="section-body" data-bind="with: profile">
                        <form class="container-fluid" data-bind="
                            template: {
                                data: $parent.stage.and(form),
                                afterRender: function(domz) {

                                    var language;

                                     switch(i18n.language()) {
                                        case 'vn':
                                            language = 'vi';
                                            break;
                                        case 'cn':
                                            language = 'zh-CN';
                                            break;
                                        case 'tw':
                                            language = 'zh-TW';
                                            break;
                                        case 'hk':
                                            language = 'en';
                                            break;
                                        case 'kz':
                                            language = 'ru';
                                            break;
                                        default:
                                            language = i18n.language();
                                            break;
                                    };
                                    $('#newUserBirthDate input').datepicker({
                                        assumeNearbyYear: true,
                                        autoclose: true,
                                        language: language,
                                        startView: 2
                                    });

                                    var $form = $(domz).parent();

                                    if (2 == $parent.stage()) {
                                        console.log( 'auto focus to',
                                            $(':input:visible', $form).first().focus()
                                        );
                                    }
                                }
                            },
                            enable: $parent.stage.isEqual(2)
                        ">
                            <div class="row form-group text-center">
                                <div style="display: inline-block">
                                    <label>
                                        <input type="file" style="display: none" data-bind="
                                            event: {
                                                change: $parent.processPhoto
                                            }
                                        " />

                                        <div class="logo logo_sm user-pic-logo" data-bind="
                                            style: {
                                                backgroundImage: photo() ? 'url(' + photo() + ')' : null
                                            }
                                        "></div>

                                        <br/>
                                        <div class="btn btn-success">Загрузите фотографию</div>
                                    </label>
                                </div>
                            </div>

                            <div class="row form-group">
                                <label>Имя</label>

                                <input type="text" class="form-control" data-bind="value: name" />
                            </div>

                            <div class="row form-group">
                                <label>Фамилия</label>

                                <input type="text" class="form-control" data-bind="value: surname" />
                            </div>

                            <div id="newUserBirthDate" class="row form-group">
                                <label>Дата рождения</label>

                                <input type="text" class="form-control" data-bind="value: birthDate" />
                            </div>

                            <div class="row form-group">
                                <label>E-mail</label>

                                <input type="text" class="form-control" data-bind="value: email" />
                            </div>

                            <div class="row form-group">
                                <label>Страна</label>

                                <select class="form-control" data-bind="
                                    options: COUNTRY_LIST,
                                    optionsValue: 'id',
                                    optionsText: 'name',
                                    value: countryId,
                                    valueAllowUnset: false,
                                    __autocomplete: {
                                        levenshtein: 1
                                    }
                                "></select>
                            </div>

                            <div class="row form-group">
                                <label>Город проживания</label>

                                <select class="form-control" __id="userCityFieldReg" data-bind="
                                    options: $parent.CITY_LIST,
                                    optionsValue: 'id',
                                    optionsText: 'ru_name',
                                    valueAllowUnset: true,
                                    value: city,
                                    autocomplete: {
                                        levenshtein: 1
                                    }
                                "></select>
                            </div>

                            <div class="row form-group">
                                <label class="col-md-6">
                                    <input type="radio" value="famale" data-bind="checked: gender" /> Женщина
                                </label>
                                <label class="col-md-6">
                                    <input type="radio" value="male" data-bind="checked: gender" /> Мужчина
                                </label>
                            </div>

                            <div class="row form-group text-center">
                                <button class="btn btn-forward btn-half" data-bind="click: $parent.save">Зарегистрировать</button>

                                <div class="text-danger" data-bind="text: $parent.errorMessage"></div>
                            </div>
                        </form>
                    </div>
                </section>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/login/login.js" type="text/javascript">
  </script>
  <script id="page/login" type="text/html">
   <div class="auttorization-bg"  data-bind="click: hideList">
            <div class="auttorization">
                <img id="bubble3" src="/web-version/newstart/img/3.png" alt="">
                <img id="bubble2" src="/web-version/newstart/img/2.png" alt="">
                <img id="bubble1" src="/web-version/newstart/img/1.png" alt="">
                <img id="bubble4" src="/web-version/newstart/img/4.png" alt="">
                <img id="bubble5" src="/web-version/newstart/img/5.png" alt="">
                <div class="authorization__wrapper authorization__login">
                    <div class="reg__form-content"><img class="reg__sessia-logo" src="/web-version/newstart/img/sessia.png" alt="">
                                              <div class="reg__form-body">
                            <div class="reg__block-input">
                                <p>Общение и покупки. <br> С удовольствием и кэшбэками</p>
                            </div>
                        </div>
                                               <div class="reg__hr"></div>
                        <div class="reg__form-body reg-tabs" data-bind="css: {'reg-tabs_active': tabs()[0]}">
                            <div class="reg__block-input">
                                <p>Укажите мобильный телефон
                                <form>
                                    <div class="reg__block-select">
                                                                                <div data-bind="with: selectedCountry, click: $data.dropList">
                                            <div data-bind="attr: {country: id}" style="display:flex; align-items: center">
                                                <img class="country" data-bind="attr: { src: 'https://sessia.com' + icon }" style="width: 32px; height: 32px; cursor: pointer">
                                                <img src="/web-version/newstart/img/blue-arrow.png" alt="" style="margin: 0 0 0 11px; cursor: pointer;">
                                            </div>
                                        </div>
                                        <div data-bind="with: selectedCountry" style="float:left; padding: 2px 10px;">
                                            <div data-bind="text: code" style="color: #5e616b; font-size: 15px;">
                                            </div>
                                        </div>
                                        <ul class="country-list-none" data-bind="foreach: COUNTRY_LIST">
                                            <li class="country" >
                                                <div class="item" data-bind="attr: {country: id}, click: $parent.selectCountry">
                                                    <img data-bind="attr: { src: 'https://sessia.com' + icon }" style="width: 32px; height: 32px; cursor: pointer">
                                                    <span data-bind="text: code"></span>
                                                    <span data-bind="text: name"></span>
                                                </div>
                                            </li>
                                        </ul>
                                                                                <input type="text" data-bind="value: phone" name="">
                                    </div>
                                    <button class="reg__btn" data-bind="click: requestConfirmCode">Получить SMS-пароль</button>
                                    <div class="text-danger" data-bind="text: requestError"></div>
                                </form>
                                </p>
                            </div>
                            <form data-bind="visible: isConfirmWelcome">
                                <p >Вам отправлен SMS-пароль</p>
                                <div class="reg__block-input reg__sms-block">
                                    <input class="sms-number" type="text" id="js-confirm-code" autocomplete="off"
                                           data-bind="attr: {placeholder: !isConfirmWelcome() ? 'SMS-code' : ''},
                                                      enable: isConfirmWelcome,
                                                      value: confirmCode,
                                                      valueUpdate: 'keyup'" >
                                    <button class="btn-sms" data-bind="click: confirmSmsCode">Подтвердить</button>
                                </div>
                                <div class="text-danger" data-bind="text: confirmError"></div>
                            </form>
                        </div>
                        <div class="reg__form-body reg-tabs" data-bind="css: {'reg-tabs_active': tabs()[1]}">
                            <div class="reg__block-input">
                                <p>Укажите мобильный телефон</p>
                                <form>
                                    <div class="reg__block-select">
                                                                                <div data-bind="with: selectedCountry, click: $data.dropList">
                                            <div data-bind="attr: {country: id}">
                                                <img class="country" data-bind="attr: { src: 'https://sessia.com' + icon }" style="width: 32px; height: 32px; cursor: pointer;">
                                            </div>
                                        </div>
                                        <div data-bind="with: selectedCountry" style="float:left; padding: 2px 10px;">
                                            <div data-bind="text: code" style="color: #5e616b; font-size: 15px;">
                                            </div>
                                        </div>
                                        <ul class="country-list-none" data-bind="foreach: COUNTRY_LIST">
                                            <li class="country" >
                                                <div class="item" data-bind="attr: {country: id}, click: $parent.selectCountry">
                                                    <img data-bind="attr: { src: 'https://sessia.com' + icon }" style="width: 32px; height: 32px; cursor: pointer;">
                                                    <span data-bind="text: code"></span>
                                                    <span data-bind="text: name"></span>
                                                </div>
                                            </li>
                                        </ul>
                                                                                <input type="text" data-bind="value: phone" name="">
                                    </div>
                                </form><a class="reg__btn" href="">Позвонить мне</a>
                            </div>
                            <form class="reg__form-body">
                                <p>Введите продиктованный номер</p>
                                <div class="reg__block-input reg__sms-block">
                                    <input class="sms-number" type="text" placeholder="Номер" name="" value="">
                                    <button class="btn-sms">Подтвердить</button>
                                </div>
                            </form>
                        </div>
                        <div class="reg__form-body reg-tabs" data-bind="css: {'reg-tabs_active': tabs()[2]}">
                            <form data-bind="with: emailForm">
                                <div class="reg__block-input">
                                    <label id="email">
                                        <p>Укажите свой E-mail</p>
                                        <input type="text" name="email" value="" data-bind="value: email, valueUpdate: 'keyup'">
                                    </label>
                                </div>
                                <div class="reg__block-input">
                                    <label id="password">
                                        <p>Пароль</p>
                                        <input type="password" name="password" value="" data-bind="value: password, valueUpdate: 'keyup'">
                                    </label>
                                </div><button class="reg__btn" data-bind="click: $parent.loginByEmail">Подтвердить</button><a class="reg__forgot-pass" data-bind="click: $data.gotoRemind" href="login/remind">Я забыл пароль</a>
                            </form>
                        </div><a class="reg__login" data-bind="click: gotoRegistration" href="user/profile">У вас еще нет аккаунта?<br><br><span style="font-weight:normal;">&nbsp; Зарегистрироваться</span></a>
                    </div>
                    <div class="reg__text_mob">Установите приложение
                        <div class="mob-btn">
                            <a href="https://play.google.com/store/apps/details?id=com.sessia&hl=ru" target="_blank" data-bind="click: gotoGooglePlay">
                                <img src="/web-version/newstart/img/google-btn-black.png" alt="">
                            </a>
                            <a href="https://apps.apple.com/ru/app/sessia/id1220488838" target="_blank" data-bind="click: gotoAppleStore">
                                <img src="/web-version/newstart/img/app-store-black.png" alt="">
                            </a>
                        </div>
                    </div>
                    <p class="reg__text-app" style="color: #fff;">Установите приложение
                    <div class="reg__links">
                        <a href="https://play.google.com/store/apps/details?id=com.sessia&hl=ru" target="_blank" data-bind="click: gotoGooglePlay">
                            <img src="/web-version/newstart/img/google-play.png" alt="">
                        </a>
                        <a href="https://apps.apple.com/ru/app/sessia/id1220488838" target="_blank" data-bind="click: gotoAppleStore">
                            <img src="/web-version/newstart/img/app-store.png" alt="">
                        </a>
                    </div>
                    </p>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer__wrapper">
                <div class="footer__content">
                    <nav class="footer__nav">
                        <li><a class="nav-Link" href="https://www.sessia.com/team.html" data-bind="attr: {href: mainPage}">О нас</a>
                        </li>
                        <li><a class="nav-Link" href="https://www.sessia.com/team.html" data-bind="attr: {href: teamLink}">Команда</a>
                        </li>
                        <li><a class="nav-Link" href="https://www.sessia.com/instruments.html" data-bind="attr: {href: instruments}">Для бизнеса</a>
                        </li>
                        <li>
                            <a class="nav-link" href="https://www.sessia.com/press.html" data-bind="attr: {href: press}">Пресса</a>
                        </li>
                        <li><a class="nav-link" href="https://www.sessia.com/privacy.html" data-bind="attr: {href: privacy}">Конфиденциальность</a>
                        </li>
                        <li><a class="nav-link" href="https://www.sessia.com/conditions.html" data-bind="attr: {href: conditions}">Правила</a>
                        </li>
                        <li><a class="nav-link" href="https://www.sessia.com/web-version/ticket/index" target="_blank">Поддержка</a>
                        </li>
                        <li><a class="nav-Link" href="#">                            <select id="page/login__language-select" data-bind="
                                options: i18n.LANGUAGE_LIST,
                                optionsValue: 'lang_short',
                                optionsText: 'name',
                                value: i18n.setLanguage,
                                valueAllowUnset: true
                            "></select>
                            </a>
                        </li>
                    </nav>
                    <p>&copy; Sessia, 2020
                    </p>
                </div>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/market/index.js" type="text/javascript">
  </script>
  <script id="page/market/index" type="text/html">
   <h3 class="page-title">Магазины</h3>

        <div class="page-body">
            <div class="wrapper-choose-shop">
                <ul data-bind="foreach: shopList" class="choose-shop">
                    <li class="choose-shop__list">
                        <a href data-bind="url: 'market/shop', data: { id: id }">

                            <img src="'/web-version/css/img/photo-stub.png" style="width: 100%;" data-bind="
                                attr:
                                    $data.logo_image ?  {
                                        src: app.utils.fixImageUrl(logo_image)
                                    } : {}
                            " />

                            <div class="choose-shop__names">
                                <div class="choose-shop__name" data-bind="text: name"></div>
                                <div class="choose-shop__sub-title" data-bind="text: $data.sub_title"></div>
                                                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/market/shop.js" type="text/javascript">
  </script>
  <script id="page/market/shop" type="text/html">
   <div class="page-body">
            <section class="section">
                <ul class="section-header tab-list" style="position: relative">
                    <li class="tab-item" data-bind="
                        mod: { active: tab.is('showcase') },
                        click: tab.bind(_, 'showcase'),
                        text: store.name
                    "></li>
                    <li class="tab-item" data-bind="mod: { active: tab.is('basket') }, click: tab.bind(_, 'basket')">
                        Корзина
                        <span class="quantity" data-bind="
                            text: store.basket2.quantityTotal.or(null),
                            mod: { large: store.basket2.quantityTotal.gt(9) }
                        "></span>
                    </li>
                    <li class="tab-item" data-bind="mod: { active: tab.is('orders') }, click: tab.bind(_, 'orders')">
                        Заказы
                        <sup data-bind="text: store.historyOrderList().length || null"></sup>
                    </li>

                    <li class="tab-item" style="position: absolute; right: 0; bottom: 1.5px" data-bind="with: store.basket2.freeCustomCurrencyForUse">
                        <div class="market__free-custom-currency-info market__free_button">
                            <div class="tab-item__cv"></div>
                            Вам доступно
                            <strong style="color: inherit">
                                <span style="color: inherit" data-bind="text: $data.toFixed(2)"></span>
                                подарочных CV
                            </strong>
                        </div>
                    </li>
                </ul>

                <!-- ko if: tab.is('showcase') -->

                <div class="section-body container-fluid" style="background-color: #edf0f5! important">
                    <div class="row">
                        <div class="shop__goods col-sm-8 col-md-9">
                            <div class="goods-list">
                                <div class="row" style="width: 100%" data-bind="ifnot: store.catalog.hasGoodsList">
                                    <div class="spinner" data-bind="visible: store.catalog.anybodyPending"></div>

                                    <!-- ko ifnot: store.catalog.anybodyPending -->
                                    <div class="text-center" data-bind="with: store.catalog.hasGoodsList.negate().and( store.catalog.currentFolder )">
                                        <i class="col-xs-12" data-bind="if: isLeaf">Нет товара в наличии на данный момент</i>
                                    </div>

                                    <div class="text-center" data-bind="ifnot: store.catalog.currentFolder">
                                        Выберите справа категорию товаров
                                    </div>
                                    <!-- /ko -->
                                </div>

                                <div class="goods-list" style="margin: 0; width: 100%" data-bind="foreach: store.catalog.currentGoodsList">
                                    <!-- ko if: 'header' === type -->
                                    <div class="goods-item_header col-xs-12" data-bind="text: name"></div>
                                    <!-- /ko -->

                                    <!-- ko if: 'goods' === type -->
                                    <div class="" style="padding: 0">
                                        <div class="goods-item goods-item_goods" data-bind="
                                            click: function(goods, event) {
                                                if ($data.landing_link && 0 === $(event.target).closest('[data-action-group]').length) {
                                                    /* previous version
                                                    window.open(landing_link, '', 'menubar=0,location=no,toolbar=0,status=0,width=1200,height=1000');
                                                    */

                                                    /* #2686 */
                                                    var $modal = app.modal({
                                                            girl: false,
                                                            title: goods.name,
                                                            bodyStyle: {
                                                                padding: 0
                                                            },
                                                            content: {
                                                                name: 'page/market/shop/goods-modal__content',
                                                                data: {
                                                                    goods: goods,
                                                                    store: $parent.store
                                                                }
                                                            },
                                                            buttons: {
                                                                'Добавить в корзину': {
                                                                    action: function() {
                                                                        if ($parent.store.canToBuyMore(goods)) {
                                                                            $parent.store.goodsQuantityIncrement(goods.id, +1);
                                                                        }
                                                                    },
                                                                    css: 'btn-success',
                                                                    close: true
                                                                },
                                                                'Закрыть': {
                                                                    css: 'btn-success',
                                                                    close: true
                                                                }
                                                            }
                                                        }, {
                                                            backdrop: true,
                                                            keyboard: true
                                                        });

                                                    return false;
                                                }
                                                return true;
                                            },
                                            style: $data.landing_link && {
                                                cursor: 'pointer'
                                            }
                                        ">

                                            <img class="goods-item__image" src alt="" data-bind="attr: { src: imageUrl }">

                                            <div class="goods-item__name" data-bind="text: name"></div>

                                            <!-- ko if: $data.price_cv -->
                                            <div class="goods-item__price-cv text-nowrap" data-bind="with: formatNumber(price_cv)">
                                                <!-- ko text: $data --><!-- /ko -->
                                                CV
                                            </div>
                                            <!-- /ko -->

                                            <div class="goods-item__price">
                                                <span class="text-nowrap">
                                                    <span class="goods-item__value" data-bind="text: formatNumber(cost)"></span>
                                                    <span class="goods-item__currency" data-bind="text: $parent.store.CURRENCY_SIGN"></span>
                                                </span>

                                                <div class="goods-item__price__sale" data-bind="if: price > cost">
                                                    <span class="goods-item__value-red text-nowrap">
                                                        <span data-bind="text: formatNumber(price)"></span>
                                                        <span data-bind="text: $parent.store.CURRENCY_SIGN"></span>
                                                    </span>
                                                </div>
                                            </div>

                                            <div class="goods-item__action-group" data-action-group>
                                                <!-- ko if: $data.landing_link -->
                                                <div class="goods-item__action goods-item__action_share" style="position: relative"
                                                     onclick="dropdown( $(event.target).closest('.goods-item__action').children() )">
                                                    <div style="position: absolute; bottom: 100%; left: 0; z-index: 2; display: none" data-bind="
                                                        template: {
                                                            name: 'etc/share-pane',
                                                            data: {
                                                                url: $data.landing_link,
                                                                title: _.compact([name, page.data.store.name()]).join(' - '),
                                                                description: ''
                                                            }
                                                        }
                                                    "></div>
                                                </div>
                                                <!-- /ko -->

                                                <!-- ko if: $parent.store.shownBuyGoodsByCustomCurrency($data) -->
                                                <div class="goods-item__action goods-item__action_buy-for-cv" data-bind="
                                                    click: $parent.store.canToBuyMore($data, 'CUSTOM_CURRENCY')
                                                        && $parent.store.goodsQuantityIncrementHandler(id, +1, 'CUSTOM_CURRENCY'),
                                                    mod: {
                                                        value: $parent.store.getGoodsQuantity(id, 'CUSTOM_CURRENCY'),
                                                        disabled: ! $parent.store.canToBuyMore($data, 'CUSTOM_CURRENCY')
                                                    }
                                                ">
                                                    <sup class="__value" data-bind="text: $parent.store.getGoodsQuantity(id, 'CUSTOM_CURRENCY')"></sup>
                                                </div>
                                                <!-- /ko -->

                                                <!-- ko ifnot: $data.store_show_in_stock_list && store_show_in_stock_list.length > 0 -->
                                                <div class="goods-item__action goods-item__action_buy" style="position: relative; z-index: 1" data-bind="
                                                    click: function(goods, event) {
                                                        if ($(event.target).closest('.js-drop-content').is('*')) return;

                                                        if (!$parent.store.canToBuyMore($data)) return;

                                                        $parent.store.goodsQuantityIncrement(id, +1);
                                                        dropdown(
                                                            $(event.target).closest('.goods-item__action_buy').find('.js-drop-content'),
                                                            true
                                                        );
                                                    },
                                                    mod: {
                                                        value: $parent.store.getGoodsQuantity(id, false) > 0,
                                                        disabled: ! $parent.store.canToBuyMore($data)
                                                    }
                                                ">
                                                    <sup class="__value" data-bind="text: $parent.store.getGoodsQuantity(id)"></sup>

                                                    <div class="js-drop-content" style="display: none; position: absolute; left: 100%; bottom: 10%; z-index:1;" data-bind="
                                                        click: function(position, event) {
                                                            $(event.target).is('[class*=close]')
                                                                || event.stopPropagation();
                                                        },
                                                        with: $parent.store.basket2.content
                                                            .find(_.compose(
                                                                _.isEqual.bind(_, id),
                                                                _.property('id'),
                                                                _.property('goods')
                                                            ))
                                                    ">
                                                        <div class="goods-item__action__dropdown">
                                                            <a href data-bind="click: $parents[1].tab.bind(_, 'basket')">В корзине</a>

                                                            <span class="goods-item__action__dropdown__close" onclick="dropdown($(event.target).closest('.js-drop-content'), false)">&times;</span>

                                                            <div class="input-group" style= "padding:10px 0;">
                                                                <div class="input-group-addon" tabindex="0" data-bind="
                                                                    click: $parents[1].store.goodsQuantityIncrementHandler(goods.id, -1)
                                                                ">-</div>

                                                                <input type="text" class="form-control" style="min-width: 44px; text-align: center" data-bind="
                                                                    value: quantity,
                                                                    event: {
                                                                        change: function(position, event) {
                                                                            quantity = parseInt(quantity) || 0;
                                                                            $(event.target).val(quantity);
                                                                            $parents[1].store.setGoodsQuantity(goods.id, quantity);
                                                                        }
                                                                    }
                                                                " />

                                                                <div class="input-group-addon" tabindex="0" data-bind="
                                                                    click: $parents[1].store.canToBuyMore(goods)
                                                                        && $parents[1].store.goodsQuantityIncrementHandler(goods.id, +1),
                                                                    style: {
                                                                        opacity: $parents[1].store.canToBuyMore(goods) ? 1 : .4
                                                                    }
                                                                ">+</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- /ko -->

                                                <!-- ko if: $data.store_show_in_stock_list && store_show_in_stock_list.length > 0 -->
                                                <div>Нет в наличии</div>
                                                <!-- /ko -->
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-4 col-md-3" style="padding-left: 0">
                            <div class="category-item shop__catalog" data-bind="mod: { pending: store.catalog.pending }">
                                <div class="category-item__catalog">Каталог</div>
                                <div class="category-item__contents" data-bind="
                                    template: {
                                        name: 'page/market/shop/catalog/folder__contents',
                                        data: store.catalog,
                                        ifnot: store.catalog.folderList.isEmpty()
                                    }
                                "></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- /ko -->

                <!-- ko if: tab.is('basket') -->
                <div class="section-body section-body-basket" data-bind="ifnot: store.paymentUrl">
                    <div class="basket__oder __h1">
                        Корзина

                        <i style="float: right; font-size: 70%">
                            <a href data-bind="click: store.basket2.clear">Очистить корзину</a>
                        </i>
                    </div>
                    <div class="basket__wrapper">
                        <table class="basket__content">
                            <thead>
                            <tr>
                                <td class="basket__content__name-table" style="padding: 0 40px">Наименование</td>
                                <td class="basket__content__name-table"></td>
                                <td class="basket__content__name-table">Стоимость</td>
                                <td class="basket__content__name-table">Количество</td>
                                <td class="basket__content__name-table"></td>
                            </tr>
                            </thead>

                            <tbody data-bind="foreach: store.basket2.content">
                            <tr style="height: 160px;">
                                <td style ="width: 30%">
                                    <img src style="max-width: 200px" data-bind="
                                        attr: {
                                            src: app.utils.fixImageUrl(_.first(_.pluck(goods.images, 'path')))
                                        }
                                    " />
                                </td>

                                <td style="position: relative" width="500">
                                    <!-- ko if: !!$data.custom_price -->
                                    <div class="basket__icon_gift basket__icon_small" style="position: absolute; margin-right: 6px; right: 100%"></div>
                                    <!-- /ko -->

                                    <span data-bind="text: goods.name"></span>
                                </td>

                                <td width="500">
                                    <span class="basket__total__through text-nowrap" data-bind="
                                        text: formatNumber(goods.cost),
                                        visible: goods.cost !== goods.price
                                    "></span>

                                    <!-- ko ifnot: $data.custom_currency -->
                                    <div class="basket__total__price text-nowrap">
                                        <!-- ko text: formatNumber(goods.cost) --><!-- /ko -->
                                        <span class="basket__total-rubl" data-bind="text: $parent.store.CURRENCY_SIGN"></span>
                                    </div>
                                    <!-- /ko -->

                                    <!-- ko if: $data.custom_currency -->
                                    <div class="basket__total__price text-nowrap">
                                        <!-- ko text: formatNumber($data.custom_price) --><!-- /ko -->
                                        <span class="basket__total-rubl">CV</span>
                                    </div>
                                    <!-- /ko -->

                                    <!-- ko if: $data.price_cv -->
                                    <div class="basket__bonus text-nowrap">
                                        <!-- ko text: formatNumber(price_cv) --><!-- /ko -->
                                        <span class="basket__bonus__cv">CV</span>
                                    </div>
                                    <!-- /ko -->
                                </td>

                                <td class="basket__position-quantity" width="250">
                                                                        <div class="input-group">
                                        <div class="input-group-addon" tabindex="0" data-bind="
                                            click: $parent.store.goodsQuantityIncrementHandler(goods.id, -1, !!$data.custom_price)
                                        ">-</div>

                                        <input type="text" class="form-control" data-bind="
                                            value: quantity,
                                            event: {
                                                change: function(position, event) {
                                                    quantity = parseInt(quantity) || 0;
                                                    $(event.target).val(quantity);
                                                    $parent.store.setGoodsQuantity(goods.id, quantity, !!$data.custom_price);
                                                }
                                            }
                                        " />

                                        <div class="input-group-addon" tabindex="0" data-bind="
                                            click: !$data.custom_price || $parent.store.canBuyGoodsByCustomCurrency(goods)
                                                ? $parent.store.canToBuyMore(goods, !!$data.custom_price)
                                                    && $parent.store.goodsQuantityIncrementHandler(goods.id, +1, !!$data.custom_price)
                                                : _.noop || app.modal.alert.bind(app, 'Недостаточно подарочных CV'),
                                            style: {
                                                opacity: $parent.store.canToBuyMore(goods, !!$data.custom_price) ? 1 : .4
                                            }
                                        ">+</div>
                                    </div>
                                </td>
                                <td class="" style="">
                                    <input type="button" class="form-control basket__position-remove" value="×" data-bind="
                                        click: $parent.store.removeGoodsPositionHandler(goods.id, !!$data.custom_price)
                                    ">
                                </td>
                            </tr>
                            </tbody>

                            <tfoot>
                            <tr class="basket__total" data-bind="with: store.basket2">
                                <td class="basket__content__name"></td>
                                <td class="basket__content__name"></td>
                                <td class="basket__content__name"></td>
                                <td colspan="2" class="basket__total-price basket__content__name" style="text-align: right">
                                    <div class="wrapper__total">
                                        <span class="check__violet">Итого</span>

                                        <span class="basket__total__through text-nowrap" data-bind="
                                            visible: contentSum.isEqual(paidSum).negate(),
                                            text: contentSum.formatNumber()
                                        "></span>

                                        <span class="basket__total__price text-nowrap">
                                            <!-- ko text: paidSum.formatNumber() --><!-- /ko -->
                                            <span class="basket__total-rubl" data-bind="text: $parent.store.CURRENCY_SIGN"></span>
                                        </span>

                                        <div class="basket__bonus-total text-nowrap" data-bind="with: contentCvSum">
                                            <!-- ko text: formatNumber($data) --><!-- /ko -->
                                            <span class="basket__bonus__cv">CV</span>
                                        </div>
                                    </div>
                                </td>
                                <div class="">
                                </div>
                            </tr>
                            </tfoot>
                        </table>
                    </div>




                    <div class="basket__error-list" data-bind="ifnot: store.basket2.isValid">
                        Внимание! Для оформления заказа внесите следующие исправления: уменьшите количество товара.
                        <ul data-bind="foreach: store.basket2.errorList">
                            <li class="basket__error-item" data-bind="text: description"></li>
                        </ul>
                    </div>

                    <div class="basket__error-list" data-bind="visible: store.basket2.content.isEmpty()">
                        <i>В корзине пусто</i>
                    </div>
                </div>

                <div class="section-body section-body-basket" data-bind="ifnot: store.paymentUrl">
                    <div class="basket-wrapper" data-bind="if: store.basket2.isValid">
                        <div class="basket">
                            <div class="basket__oder">Оформление заказа</div>
                        </div>

                        <div class="basket">

                            <!-- ko if: store.basket2.isAnyDeliverable -->
                            <div class="order__delivery__name">Выбор способа доставки</div>

                            <div class="order__delivery order__delivery__address-block" data-bind="
                                template: {
                                    if: store.deliveryAddress,
                                    data: store.deliveryAddress,
                                    afterRender: initCityAutocomplete
                                }
                            ">
                                <div class="order__delivery__address-item-col">
                                    <label>
                                        <span class="order__delivery__choose">Выберите страну</span>
                                        <select id="countries-list" class="order__delivery__select form-control" data-bind="
                                            options: MarketDeliveryAddress.countryListByStoreId($parent.store.id()),
                                            optionsValue: 'id',
                                            optionsText: 'name',
                                            value: countryId,
                                            valueAllowUnset: true,
                                            visible: !$parent.oneCountry()
                                        "></select>
                                        <input type="text" disabled class="form-control" data-bind="visible: $parent.oneCountry(), textInput: $parent.deliveringCountry">
                                    </label>
                                </div>

                                <div class="order__delivery__address-item-col">
                                    <label>
                                        <span class="order__delivery__choose">Город</span>
                                                                                                                        <input class="form-control" id="marketShopCityField" data-bind="
                                            value: cityName,
                                        "></input>
                                    </label>
                                </div>
                            </div>

                            <div class="order">
                                <div class="order__delivery">
                                    <label class="order__delivery__home-address" data-bind="
                                        style: {
                                            opacity: store.isAccessibleByPickup.property(false).and(1).or(.5)
                                        }
                                    ">
                                        <span>Доставить по адресу</span>

                                        <input class="order__delivery__address-input form-control" type="radio" name="pickup" value="false" style="display: none" data-bind="
                                            checked: store.deliveryPickup,
                                            enable: store.isAccessibleByPickup.property(false)
                                        ">

                                        <span class="order__delivery__img"></span>
                                    </label>

                                    <form class="order__delivery-form" data-bind="
                                        mod: {
                                            disabled: store.deliveryPickup.isNot('false')
                                        },
                                        disable: store.deliveryPickup.isNot('false')
                                    ">
                                        

                                        <div class="order__delivery__address-item-col">
                                            <select class="form-control" style="display: inline-block" data-bind="
                                                options: [{
                                                    id: '',
                                                    name: i18n('Новый адрес')
                                                }].concat(
                                                    store.deliveryAddressList().map(function(item) {
                                                        return {
                                                            id: item.id,
                                                            name: _.chain(item)
                                                                .pick('full_name', 'street', 'home_number', 'city_name', 'region_name', 'post_code').values()
                                                                .compact()
                                                                .value().join(', ')
                                                        };
                                                    })
                                                ),
                                                optionsValue: 'id',
                                                optionsText: 'name',
                                                value: store.deliveryAddressId,
                                                enable: store.isDeliveryMethodByAddress
                                            "></select>
                                        </div>

                                        <div class="order__delivery__address-block" data-bind="
                                            with: store.deliveryAddressId.isEmpty().and(store.deliveryAddress)
                                        ">
                                            <ul class="basket__list" style="margin-bottom: 1em !important">
                                                                                                <li>
                                                    <div class="order__delivery__address-item-col">
                                                        <label>
                                                            <span class="order__delivery__choose">Почтовый индекс</span>
                                                            <input type="text" class="form-control order__delivery__text" maxlength="10" data-bind="value: postCode" />
                                                        </label>
                                                    </div>
                                                </li>

                                                <li>
                                                    <div class="order__delivery__address-item-col">
                                                        <label>
                                                            <span class="order__delivery__choose">Улица</span>
                                                            <input type="text" class="form-control order__delivery__text" data-bind="value: street" />
                                                        </label>
                                                    </div>
                                                </li>

                                                <li>
                                                    <div class="order__delivery__address-item-col">
                                                        <label>
                                                            <span class="order__delivery__choose">Дом</span>
                                                            <input type="text" class="form-control order__delivery__text" data-bind="value: homeNumber" />
                                                        </label>
                                                    </div>
                                                </li>

                                                <li>
                                                    <div class="order__delivery__address-item-col">
                                                        <label>
                                                            <span class="order__delivery__choose">Квартира / офис</span>
                                                            <input type="text" class="form-control order__delivery__text" data-bind="value: roomNumber" />
                                                        </label>
                                                    </div>
                                                </li>

                                                <li>
                                                    <div class="order__delivery__address-item-col">
                                                        <label>
                                                            <span class="order__delivery__choose">Полное имя получателя</span>
                                                            <input type="text" class="form-control order__delivery__text" maxlength="255" data-bind="value: fullName" />
                                                        </label>
                                                    </div>
                                                </li>

                                                <li>
                                                    <div class="order__delivery__address-item-col">
                                                        <label>
                                                            <span class="order__delivery__choose">Телефон</span>
                                                            <input type="text" class="form-control order__delivery__text" data-bind="value: phone" />
                                                        </label>
                                                    </div>
                                                </li>
                                                                                            </ul>
                                        </div>


                                    </form>
                                </div>

                                <div class="order__info">
                                    
                                    <div class="order__info__block">
                                        <label class="order__delivery__block-address" data-bind="
                                            style: {
                                                opacity: store.isAccessibleByPickup.property(true).and(1).or(.5)
                                            }
                                        ">
                                            <span class="order__delivery__address">Самовывоз</span>

                                            <input class="order__delivery__address-input form-control" type="radio" name="pickup" value="true" style="display: none" data-bind="
                                                checked: store.deliveryPickup,
                                                enable: store.isAccessibleByPickup.property(true)
                                            ">
                                            <span class="order__delivery__img"></span>
                                        </label>


                                        <form class="order__info__form" data-bind="
                                            mod: {
                                                disabled: store.deliveryPickup.isNot('true')
                                            },
                                            disable: store.deliveryPickup.isNot('true')
                                        ">
                                            <ul class="basket__list" data-bind="foreach: store.deliveryMethodListByPickup.property(true)">
                                                <li data-bind="
                                                    style: {
                                                        backgroundColor: $parent.store.deliveryMethodId.isEqual(id).and('#f6f7fa')
                                                    }
                                                ">
                                                    <label class="order__info__item">
                                                        <div class="order__info-item">
                                                                                                                        <span class="order__info__delivery" data-bind="text: delivery_type.name"></span>

                                                            <span class="order__info__price" data-bind="ifnot: isNaN($data.cost)">
                                                                <!-- ko text: $data.cost --><!-- /ko -->
                                                                <span class="basket__total-rubl" data-bind="text: $parent.store.CURRENCY_SIGN"></span>
                                                            </span>

                                                            <input type="radio" name="pickup-method" class="order__delivery__address-input form-control" value data-bind="
                                                                value: id,
                                                                checked: $parent.store.deliveryMethodId
                                                            " />
                                                            <span class="order__delivery__img"></span>
                                                        </div>

                                                        <div class="order__info__item__text" data-bind="text: comment"></div>

                                                        <div class="text-center" data-bind="with: $data.image">
                                                            <img src style="max-width: 100%" data-bind="attr: { src: 'https://www.sessia.com/' + $data }" />
                                                        </div>
                                                    </label>
                                                </li>
                                            </ul>
                                        </form>
                                    </div>

                                    
                                </div>

                                
                            </div>
                            <!-- /ko -->


                            <div class="order__checkout__wrapper">
                                <div class="order__checkout">
                                    <div class="order__checkout__h1">Дополнительные опции</div>

                                    <!-- ko if: store.basket2.isAnyDeliverable -->
                                    <div class="order__checkout__h2">Вариант доставки, оплаты и оформление заказа</div>
                                    <!-- /ko -->

                                    <div class="order__checkout__form">

                                        <div class="order__checkout__item">

                                            <!-- ko if: store.basket2.isAnyDeliverable -->
                                            <form class="order__delivery-form" data-bind="
                                                mod: {
                                                    disabled: store.deliveryPickup.isNot('false')
                                                }
                                            ">
                                                <div class="order__info__block">
                                                    <ul class="basket__list" data-bind="foreach: store.deliveryMethodListByPickup.property(false)">
                                                        <li>
                                                            <label class="order__info__item" style="padding: 0;">
                                                                <div class="order__info-item">
                                                                    
                                                                    <input type="radio" name="pickup-method" class="order__delivery__address-input form-control" value data-bind="
                                                                        value: id,
                                                                        checked: $parent.store.deliveryMethodId,
                                                                        disable: $parent.store.deliveryPickup.isNot('false')
                                                                    " />
                                                                    <span class="order__delivery__img" style="margin-right: 1em"></span>

                                                                    <span class="order__info__delivery" data-bind="text: delivery_type.name"></span>

                                                                    <span class="order__info__price" data-bind="ifnot: isNaN($data.cost)">
                                                                        <!-- ko text: $data.cost --><!-- /ko -->
                                                                        <span class="basket__total-rubl" data-bind="text: $parent.store.CURRENCY_SIGN"></span>
                                                                    </span>
                                                                </div>
                                                            </label>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </form>
                                            <!-- /ko -->

                                        </div>

                                        <div class="order__checkout__item">
                                            <form class="order__delivery-form">
                                                <div class="order__info__block">
                                                    <ul class="basket__list">
                                                        <!-- ko if: store.basket2.walletAvailableBonusAmount -->
                                                        <li>
                                                            <label class="order__info__item" style="padding: 0;">
                                                                <div class="order__info-item">
                                                                    <span class="order__info__delivery">Оплатить бонусами</span>

                                                                    <span class="order__info__price text-nowrap">
                                                                        <!-- ko text: store.basket2.walletAvailableBonusAmount.formatNumber() --><!-- /ko -->
                                                                        <span class="basket__total-rubl" data-bind="text: store.CURRENCY_SIGN"></span>
                                                                    </span>

                                                                    <input type="checkbox" class="order__delivery__address-input form-control" style="display: none" data-bind="
                                                                        checked: store.useWalletBonus
                                                                    " />
                                                                    <span class="order__delivery__img"></span>
                                                                </div>
                                                            </label>
                                                        </li>
                                                        <!-- /ko -->

                                                        <!-- ko if: store.isPayoutAvailable -->
                                                        <li>
                                                            <label class="order__info__item" style="padding: 0;">
                                                                <div class="order__info-item">
                                                                    <span class="order__info__delivery">Оплатить вознаграждениями</span>

                                                                    <span class="order__info__price text-nowrap" data-bind="with: store.payout">
                                                                        <!-- ko text: formatNumber(canPayout) --><!-- /ko -->
                                                                        <span class="basket__total-rubl" data-bind="text: MarketStore.currencySignByCode(currency)"></span>
                                                                    </span>

                                                                    <input type="checkbox" class="order__delivery__address-input form-control" style="display: none" data-bind="
                                                                        checked: store.usePayout
                                                                    " />
                                                                    <span class="order__delivery__img"></span>
                                                                </div>
                                                            </label>
                                                        </li>
                                                        <!-- /ko -->

                                                        <!-- ko if: store.basket2.payDateList.property('length').gt(1) -->
                                                        <li>
                                                            <label class="order__info__item" style="padding: 0;">
                                                                <div class="order__info-item">
                                                                    <span class="order__info__delivery">Месяц заказа: </span>

                                                                    <span class="order__info__price">
                                                                        <select class="form-control" data-bind="
                                                                            options: store.basket2.payDateList,
                                                                            value: store.payDate
                                                                        "></select>
                                                                    </span>
                                                                </div>
                                                            </label>
                                                        </li>
                                                        <!-- /ko -->
                                                    </ul>
                                                </div>
                                            </form>
                                        </div>

                                                                            </div>
                                </div>
                            </div>
                        </div>

                        <div class="basket">
                            <div class="order__checkout__wrapper">
                                <div class="order__delivery__send" data-bind="with: store">
                                    <button class="order__delivery__send2" data-bind="
                                        click: saveOrder.bind(_, {}),
                                        mod: {
                                            pending: savePending
                                        },
                                        enable: basket2.isAnyDeliverable.negate()
                                            .or( deliveryMethodId )
                                            .andNot(savePending)
                                    ">Оформить и оплатить</button>

                                    <!-- ko if: isCanToForcePay -->
                                    <button class="order__delivery__send2" data-bind="
                                        click: saveOrder.bind(_, {
                                            payment_service: 2
                                        }),
                                        mod: {
                                            pending: savePending
                                        },
                                        enable: basket2.isAnyDeliverable.negate()
                                            .or( deliveryMethodId ).andNot(savePending)
                                    ">Оплата наличными</button>

                                    <button class="order__delivery__send2" data-bind="
                                        click: saveOrder.bind(_, {
                                            payment_service: 3
                                        }),
                                        mod: {
                                            pending: savePending
                                        },
                                        enable: basket2.isAnyDeliverable.negate()
                                            .or( deliveryMethodId ).andNot(savePending)
                                    ">Оплата через терминал</button>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-body" data-bind="if: store.paymentUrl">
                    <iframe src scrolling="auto" seamless
                            style="display: block; border: none; width: 100%; min-height: 800px; height: auto"
                            data-bind="
                        attr: {
                            src: store.paymentUrl
                        },
                        event: {
                            load: store.sniffPaymentSuccess
                        }
                    "></iframe>
                </div>
                <!-- /ko --> <!-- if tab is basket -->






                <!-- ko if: tab.is('orders') -->
                <div class="section-body">
                    <i data-bind="ifnot: store.hasHistory">Здесь будет история Ваших покупок</i>

                    <!-- ko if: store.hasHistory -->
                                        <h2>История покупок</h2>

                    <table class="table table-hover" data-bind="if: store.hasHistory">
                        <thead>
                        <tr class="active">
                            <td>Номер</td>
                            <td>Дата</td>
                            <td>Состав заказа</td>
                            <td></td>
                            <td>Сумма</td>
                            <td></td>
                        </tr>
                        </thead>
                        <tbody data-bind="foreach: store.historyOrderList">
                        <tr>
                            <td data-bind="text: id"></td>
                            <td data-bind="text: formatDate('dd.mm.yyyy', createDate())"></td>
                            <td data-bind="text: contentsText"></td>
                            <td data-bind="if: readyToPayment, css: readyToPayment && paymentUrl.negate().and('pending') ">
                                <!-- ko with: paymentUrl -->
                                <a href data-bind="click: $parent.store.paymentUrl.bind($parent, paymentUrl())">Оплатить</a>
                                <!-- /ko -->
                            </td>
                            <td class="text-money text-nowrap" data-bind="text: formatNumber(summary()) + ' ' + $parent.store.CURRENCY_SIGN()"></td>
                            <td data-bind="with: invoiceLink">
                                <a href target="_blank" data-bind="attr: { href: $data }">Смотреть инвойс</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
            </section>
        </div>
  </script>
  <script id="page/market/shop/goods-modal__content" type="text/html">
   <iframe class="iframe-news__body" src allowtransparency="true" width="100%" height="100%" scrolling="yes" allowfullscreen=""
                style="overflow: scroll!important; -webkit-overflow-scrolling: touch!important; min-height: 62vh; border: 0"
                data-bind="
                    attr: {
                        src: goods.landing_link
                    }
                "
        ></iframe>
  </script>
  <script id="page/market/shop/catalog/folder" type="text/html">
   <div class="category-item__title" data-bind="click: setAsCurrent">
            <span class="triangle"></span>
            <span data-bind="text: name"></span>
        </div>

        <div class="category-item__contents" data-bind="
            template: {
                name: 'page/market/shop/catalog/folder__contents',
                if: folderList.isNotEmpty().and(isOpen)
            }
        "></div>
  </script>
  <script id="page/market/shop/catalog/folder__contents" type="text/html">
   <ul class="category-list" data-bind="foreach: folderList">
            <li class="category-item" data-bind="
            template: 'page/market/shop/catalog/' + type,
            mod: _.extend(_.object([type], [true]), {
                pending: pending,
                current: isCurrent,
                open: isOpen,
                leaf: isLeaf
            })
        "></li>
        </ul>
  </script>
  <script src="/web-version/js/page/lenta/lenta.js" type="text/javascript">
  </script>
  <script id="page/lenta" type="text/html">
   <h3 class="page-title">Лента</h3>

        <div tabindex="-1" class="modal fade" id="gallery-modal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button class="close" type="button" data-dismiss="modal">×</button>
                        <h3 class="modal-title"></h3>
                    </div>
                    <div class="modal-body">
                        <div id="modal-carousel" class="carousel">
                            <div class="carousel-inner"></div>
                            <a class="carousel-control left" href="#modal-carousel" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>
                            <a class="carousel-control right" href="#modal-carousel" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="page-body post-list">

            <div class="communities">
                <div class="communities__header">
                    <div class="communities__headline">
                        <div class="">
                            <h4>Сообщества</h4>
                        </div>
                        <div class="">
                            <button class="communities__settings" data-bind="click: $data.subscribeListShow,
                                css: {communities__settings_active: $data.optionsToggled(), communities__settings: !$data.optionsToggled()}">
                            </button>
                        </div>
                    </div>
                </div>
                <div data-bind="foreach: subscribeList, visible: subscribeListVisibility" class="communities__items">
                    <div class="communities__item" data-bind="mod: $parent.subscribeIds.isEqual(community.id).and('checked')">
                        <label class="communities__label">
                            <input type="radio" data-bind="value: community.id, checked: $parent.subscribeIds" class="communities__choose">
                            <span data-bind="text: community.title"></span>
                        </label>
                    </div>
                </div>
                <div class="communities__subscribe-items">
                    <div data-bind="foreach: communityList, visible: communityListVisibility" >
                        <div class="communities__subscribe-item" data-bind="if: !subscribe" >
                            <label>
                                <input type="checkbox" data-bind="value: community.id, checked: subscribe" class="communities__subscribe-choose">
                                <span data-bind="text: community.title"></span>
                            </label>
                        </div>
                    </div>
                    <div data-bind="foreach: communityList, visible: communityListVisibility" >
                        <div class="communities__subscribe-item" data-bind="if: subscribe">
                            <label>
                                <input type="checkbox" data-bind="value: community.id, checked: subscribe" class="communities__subscribe-choose">
                                <span data-bind="text: community.title"></span>
                            </label>
                        </div>
                    </div>
                    <button class="communities__btn" data-bind="visible: communityListVisibility, click: $data.subscribeUpdate">Применить</button>
                </div>
            </div>

            <!-- ko foreach: { data: filteredPostList, afterAdd: afterPostRender } -->

            <section class="post-item section section_width_middle" style="margin-top: -2px;" data-bind="mod: { __illegal__no_no_no: CommunitySubscription.hasNo }">
                <div class="section-header post-header" data-bind="attr: {
                    style: 'background-color: ' + community.color
                }">
                    <i class="logo logo_xsm post-header__community-logo" data-bind="attr: {
                        style: 'background-image: url(' + app.utils.fixImageUrl(community.logo) + ');'
                    }"></i>

                    <div class="post-header__header-block">
                        <div class="post-header__community-title post-header__title" data-bind="text: community.title"></div>
                        <div class="post-header__publish-date post-header__header-data" style="float: right" data-bind="text: publishRelativeDate"></div>
                    </div>
                </div>

                <!-- ko ifnot: checkFile -->
                <!-- ko with: images[0] -->
                <div class="section-body post-body" style="padding: 15px;">
                    <img src style="width: 100%;" data-bind="attr: { src: src }"/>
                </div>
                <!-- /ko -->
                <!-- /ko -->

                <!-- ko if: galleryImageFiles -->
                <div class="section-body post-body text-center">
                    <div class="gallery">
                        <div class="file file_gallery">
                            <div class="file__head">
                                <button class="btn btn-default" onclick="dropdown()">Галерея</button>
                                <span>
                                    <%= galleryImageFiles.length %> фото
                                </span>
                            </div>
                            <div class="contents container-fluid row" style="display: none;" data-bind="foreach: galleryImageFiles">
                                <a href target="_blank" title class="col-xs-6" data-bind="attr: { href: src, title: title }">
                                    <img src class="thumbnail img-responsive" data-bind="attr: { src: src }" />
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /ko -->

                <div class="section-body post-body" data-bind="foreach: files">
                    <div class="file file_video" data-bind="if: /^video/.test(type)">
                        <div class="file__head">
                            <button class="btn btn-default">Видео</button>
                            <div style="font-size: 1.5em;" data-bind="text: title"></div>
                        </div>

                        <video class="contents" controls controlsList="nodownload" style="max-height: 100vh; display: none;">
                            <source src type data-bind="attr: { src: src, type: type }">
                            Your browser does not support HTML5 video.
                        </video>
                    </div>

                    <div class="file file_audio" data-bind="if: /^audio/.test(type)">
                        <div class="file__head">
                            <button class="btn btn-default">Аудио</button>
                            <div style="font-size: 1.5em;" data-bind="text: title"></div>
                        </div>
                        <audio class="contents" controls controlsList="nodownload" style="display: none;">
                            <source src type data-bind="attr: { src: src, type: type }">
                            Your browser does not support the audio element.
                        </audio>
                    </div>

                    <div class="file file_image dropdown" data-bind="if: /^image/.test(type)">
                        <div class="file__head">
                            <button class="btn btn-default">Картинка</button>
                            <div style="font-size: 1.5em;" data-bind="text: title"></div>
                        </div>
                        <img class="contents" src style="display: none;" data-bind="attr: { src: src }" />
                    </div>

                    <div class="file file_document" data-bind="ifnot: /^(video|audio|image)/.test(type)">
                        <a class="file__head" target="_blank" data-bind="attr: { href: src }">
                            <button class="btn btn-default">Документ</button>
                            <div style="font-size: 1.5em;" data-bind="text: title"></div>
                        </a>
                    </div>
                </div>


                <!-- ko ifnot: checkFile -->
                <div class="section-body post-body" style="__cursor: pointer__;" data-bind="
                    click: function(post, event) {
                        if ($(event.target).closest('a').is('*')) {
                            return true;
                        }

                        isCommentsShown(true);
                        isFullShown(true);
                    }
                ">
                    <h3 data-bind="text: title"></h3>

                    <!-- ko ifnot: isFullShown -->
                    <p class="post-paragraph" data-bind="text: description"></p>
                    <!-- /ko -->

                    <!-- ko if: isFullShown -->
                    <!-- ko foreach: paragraphList -->
                    <p class="post-paragraph" data-bind="html: $data"></p>
                    <!-- /ko -->
                    <!-- /ko -->


                    <!-- ko if: CommunitySubscription.has.andNot(isFullShown) -->
                    <p>
                        <a href data-bind="click: isFullShown.switcher()">Подробнее</a>
                    </p>
                    <!-- /ko -->
                </div>
                <!-- /ko -->

                <!-- ko with: checkData -->
                <div class="section-body post-body">
                    <div class="purchase" style="margin: -15px 0;">
                        <div class="purchase__btn-shop">
                            <a href class="purchase__link-shop" data-bind="
                                text: store.name,
                                url: 'market/shop', data: { id: store.id }
                            "></a>
                        </div>

                        <div class="purchase__user" data-bind="with: $parent.user">
                                                        <div class="purchase__block-name">
                                <div class="purchase__name" data-bind="text: _.compact([name, surname]).join(' ')"></div>

                                <div class="purchase__status" data-bind="if: status">
                                    <img src data-bind="
                                        attr: {
                                            src: '/img/users/status/' + status_icon
                                        }
                                    " />
                                    <span data-bind="text: status"></span>
                                </div>

                                <!-- ko with: new Date($parent.server_payment_date).valueOf() && $parent.server_payment_date -->
                                <div class="purchase__time" data-bind="text: relativeDateFormat($data)"></div>
                                <!-- /ko -->
                            </div>
                        </div>

                        <div class="purchase__shop">
                            <!-- ko with: store.logo_image -->
                            <div class="purchase__image" data-bind="style: { backgroundImage: 'url(' + $data + ')' }"></div>
                            <!-- /ko -->

                            <div class="purchase__bill" style="cursor: pointer" data-bind="
                                click: function() {
                                    app.modal({
                                        girl: false,
                                        title: 'Чек на ' + formatNumber(order_sum) + ' ' + store.currency,
                                        content: {
                                            name: 'page/lenta::post_check-modal',
                                            data: $parent
                                        },
                                        buttons: {
                                            Закрыть: {
                                                css: 'btn-success',
                                                close: true
                                            }
                                        }
                                    }, {
                                        backdrop: true,
                                        keyboard: true
                                    });
                                }
                            ">
                                <div class="purchase__shop-name" data-bind="text: store.name"></div>

                                <div class="purchase__bill-wrapper">
                                    <div class="purchase__border"></div>
                                    <ul class="purchase__bill-list">
                                        <li class="purchase-item">
                                            <div>Товаров</div>
                                            <div>
                                                <span data-bind="
                                                    text: _.chain(content)
                                                        .pluck('quantity')
                                                        .compact()
                                                        .reduce(function(a, b) { return a + b }, 0)
                                                "></span>
                                                <span>шт.</span>
                                            </div>
                                        </li>

                                        
                                        <li class="purchase-item">
                                            <div>
                                                                                              <div class="purchase__total-summ">итого</div>
                                            </div>

                                            <div>
                                                                                            <div class="purchase__total-summ">
                                                    =<span data-bind="text: formatNumber(order_sum)"></span>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <div class="purchase__border"></div>

                                <ul class="purchase__bill-list">
                                    <li class="purchase-item">
                                        <div class="purchase__qr-code" alt="QR-code" data-bind="
                                            attr: {
                                                alt: 'QR-code `' + ($data._qrCodeData = $parent.id() + ' ' + order_sum) + '`',
                                                id: _.delay(function() {
                                                    new QRCode(document.getElementById($data._qrCodeData), {
                                                        text: $data._qrCodeData,
                                                        width: 200,
                                                        height: 200,
                                                        colorDark : '#000000',
                                                        colorLight : '#ffffff',
                                                        correctLevel : QRCode.CorrectLevel.H
                                                    });
                                                }) && $data._qrCodeData
                                            }
                                        "></div>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="purchase__total" data-bind="text: $parent.title"></div>

                        
                                            </div>
                </div>
                <!-- /ko -->


                <div class="section-body post-info" style="padding-top:0">
                    <div class="row">
                        <div class="post-info__likes col-xs-6">
                            <i class="icon-likes"></i>
                            <%= likeCount.declension('# человек', '# человека', '# человек') %>
                        </div>

                        <div class="col-xs-6 text-right">
                            <a href data-bind="click: isCommentsShown.switcher()">
                                <span class="text-primary" data-bind="ifnot: isCommentsShown">
                                    Показать <%= commentCount.declension('# комментарий', '# комментария', '# комментариев') %>

                                    <!-- ko if: newCommentCount -->
                                        / <%= newCommentCount.declension('# новый', '# новых') %>
                                    <!-- /ko -->
                                </span>
                                <span class="text-info" data-bind="if: isCommentsShown">
                                    Скрыть комментарии
                                </span>
                            </a>
                        </div>
                    </div>

                    <div class="row">
                        <div class="post-info__like col-xs-4" data-bind="mod: { yes: isLike }">
                            <span style="cursor: pointer" data-bind="
                                click: CommunitySubscription.required( isLike.switcher() )
                            ">
                                <i class="icon-like"></i>
                                Мне нравится
                            </span>
                        </div>

                        <div class="col-xs-4 text-center">
                            <span style="color: #00aff0">🗎</span>
                            <a href class="text-muted" data-bind="
                                click: CommunitySubscription.required(function(post, event) {
                                    post.isCommentsShown(true);
                                    $(event.target).closest('.post-item').find('.post-comment-editor').focus();
                                })
                            ">Комментировать</a>
                        </div>

                        <div class="col-xs-4 text-right">
                            <a href style="position: relative" onclick="dropdown( $(event.target).closest('a').children(':last') )">
                                <div style="position: absolute;top: -4px;right: 104%;">
                                    <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24">
                                        <path fill="gray" d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path>
                                    </svg>
                                </div>
                                Поделиться
                                <div style="position: absolute; bottom: 0; right: 0; display: none" data-bind="
                                    template: {
                                        name: 'etc/share-pane',
                                        data: {
                                            url: 'https://www.sessia.com/community/post/' + id(),
                                            title: title(),
                                            description: description()
                                        }
                                    }
                                "></div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- ko if: CommunitySubscription.has.and(isCommentsShown) -->
                <div class="section-body container-fluid">
                    <div class="row">
                        <div class="col-xs-12 fixme_maybe__col-md-8" style="margin-top: 1em">
                            <!-- ko if: commentsPending -->
                            <div class="spinner"></div>
                            <!-- /ko -->

                            <!-- ko foreach: commentGroupList -->
                            <div class="post-comment">
                                <!-- ko with: $data[0] -->
                                <div class="post-comment__ava" data-bind="
                                    attr: {
                                        style: 'background-image: url(' + user.photo + ')',
                                        title: user.id
                                    }
                                "></div>
                                <!-- /ko -->

                                <div class="post-comment__content">
                                    <!-- ko with: $data[0] -->
                                    <div class="post-comment__name" data-bind="
                                        text: user.name + ' ' + user.surname
                                    "></div>
                                    <!-- /ko -->

                                    <div class="post-comment__message-list" data-bind="foreach: $data">
                                        <div class="post-comment__message-item" data-bind="style: { zIndex: 9999 - $index() }">
                                            <div class="post-comment__message-content" data-bind="html: commentHtml"></div>

                                            <div class="post-comment__message-moment" data-bind="text: moment"></div>
                                        </div>
                                        <br/>
                                    </div>
                                </div>
                            </div>
                                                        <!-- /ko -->

                            <div class="post-new-comment-area">
                                <div class="post-comment-editor__pane">
                                    <div class="community-stickers-pane" data-bind="with: CommunityPost.stickersDataAccessor()">
                                        <ul style="overflow: auto;" class="community-stickers-pane__menu-list" data-bind="foreach: collections">
                                            <li class="community-stickers-pane__menu-item" data-bind="mod: { active: type === $parent.currentCollectionType() }">
                                                <label>
                                                    <input type="radio" data-bind="value: type, checked: $parent.currentCollectionType" style="display: none" />
                                                    <img style="width: 100%;" src data-bind="
                                                        attr: {
                                                            src: CommunityPost.stickerUrl(type, null, 'menu'),
                                                            alt: name, title: name
                                                        }
                                                    " />
                                                </label>
                                            </li>
                                        </ul>

                                        <ul class="community-stickers-pane__sticker-list" data-bind="foreach: currentStickerIds">
                                            <li class="community-stickers-pane__sticker-item">
                                                <img style="height: 72px;" src data-bind="
                                                    attr: {
                                                        src: CommunityPost.stickerUrl($parent.currentCollectionType(), $data, 'big')
                                                    },
                                                    style: { maxHeight: '72px', maxWidth: '72px' },
                                                    click: function(stickerId, event) {
                                                        var post = $parentContext.$parent,
                                                            stickerHtml = CommunityPost.stickerHtml($parent.currentCollectionType(), $data, 'big'),
                                                            commentHtml = post.newCommentHtml();

                                                        if (!$.trim( commentHtml )) {
                                                            post.sendComment(stickerHtml);
                                                        } else {
                                                            post.newCommentHtml(commentHtml + stickerHtml);
                                                        }

                                                        // close stickers
                                                        dropdown( $(event.target).closest('.community-stickers-pane') );
                                                    }
                                                " />
                                            </li>
                                        </ul>
                                    </div>
                                    <button class="btn-link" onclick="dropdown( $(event.target).prev() )">☺</button>

                                    <button type="submit" class="btn btn-link btn-send" style="color: rgb(200, 109, 237); width: auto; padding: 15px; color: #fff;" data-bind="
                                        click: sendComment,
                                        disable: sendCommentPending
                                    ">Отправить</button>
                                </div>

                                <div class="post-comment-editor post-comment-editor__placeholder"
                                     data-bind="style: { display: newCommentHtml() && 'none' }"
                                     onclick="$(this).next()[0].focus()"
                                >Добавить комментарий</div>

                                <div class="post-comment-editor" contenteditable="true"
                                     data-bind="contentEditableHtml: newCommentHtml"
                                     onfocus="$(this).prev()[0].style.opacity = .2"
                                     onblur="$(this).prev()[0].style.opacity = .5"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /ko -->
            </section>
            <!-- /ko -->

            <!-- ko if: postsPending -->
            <div class="spinner"></div>
            <!-- /ko -->

            <!-- ko if: showMore -->
            <button class="btn btn-action btn-half" style="margin-top: 1em" data-bind="click: loadMore">Есть ещё</button>
            <!-- /ko -->
        </div>
  </script>
  <script id="page/lenta::post_check-modal" type="text/html">
   <div>
            <div class="purchase__bill" style="width: 100%" data-bind="with: checkData">
                <div class="purchase__shop-name" data-bind="text: store.name"></div>
                <div class="purchase__bill-wrapper">
                    <div class="purchase__border"></div>
                    <ul class="purchase__bill-list">
                        <li class="purchase-item">
                            <div>Товаров</div>
                            <div>
                                <span data-bind="
                                    text: _.chain(content)
                                        .pluck('quantity')
                                        .compact()
                                        .reduce(function(a, b) { return a + b }, 0)
                                "></span>
                                <span>шт.</span>
                            </div>
                        </li>


                        <li>
                            <ol style="padding-left: 0" data-bind="foreach: _.filter(content, function(item) { return item.goods.product_type.id !== 100; })">
                                <li class="purchase-item">
                                    <div>
                                        <span data-bind="text: $index() + 1 + '. '"></span>
                                        <span data-bind="text: goods.name"></span>
                                    </div>

                                    <!-- ko if: $data.currency_code -->
                                    <div style="font-weight: bolder" data-bind="text: currency_code"></div>
                                    <div>
                                        <span data-bind="text: quantity"></span>
                                        &times;
                                        <span data-bind="text: custom_price"></span>
                                    </div>
                                    <!-- /ko -->

                                    <!-- ko ifnot: $data.currency_code -->
                                    <div>
                                        <span data-bind="text: quantity"></span>
                                        &times;
                                        <span data-bind="text: price"></span>
                                    </div>
                                    <!-- /ko -->
                                </li>
                                                            </ol>
                        </li>

                        <li class="purchase-item">
                            <div>
                                                               <div class="purchase__total-summ">итого</div>
                            </div>
                            <div>
                                                              <div class="purchase__total-summ">
                                    =<span data-bind="text: formatNumber(order_sum)"></span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="purchase__border"></div>

                <ul class="purchase__bill-list">
                    <li class="purchase-item">
                        <div class="purchase__qr-code" alt="QR-code" data-bind="
                            attr: {
                                alt: 'QR-code `' + ($data._qrCodeData = $parent.id() + ' ' + order_sum + ' :modal') + '`',
                                id: _.delay(function() {
                                    new QRCode(document.getElementById($data._qrCodeData), {
                                        text: $data._qrCodeData,
                                        width: 200,
                                        height: 200,
                                        colorDark : '#000000',
                                        colorLight : '#ffffff',
                                        correctLevel : QRCode.CorrectLevel.H
                                    });
                                }) && $data._qrCodeData
                            }
                        "></div>
                    </li>
                </ul>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/reports/reports.js" type="text/javascript">
  </script>
  <script id="page/reports" type="text/html">
   <h3 class="page-title">Отчёты</h3>

        <a class="findPartnersButton icon_find" style="position: absolute; right:20px; top: 40px" data-bind="click: showFoundList"></a>

        <div class="page-body container-fluid">
            <div class="row">
                <div class="col-xs-5 instance-list" data-bind="foreach: reportFolderList">
                    <div class="instance-item" style="border: 0; position: relative">
                        <div style="position: absolute; bottom: 1em; left: 1em; color: white; z-index: 1" data-bind="text: name"></div>

                        <img src style="width: 100%" data-bind="
                            attr: { src: icon },
                            click: $parent.selectedFolderId.bind(_, id()),
                            style: {
                                opacity: $parent.selectedFolderId.isEqual(id).and(1).or(.6)
                            }
                        " />
                    </div>
                </div>

                <div class="col-xs-7" style="min-height: 100vh;" data-bind="with: selectedFolder() && _.extend({ level: 2 }, selectedFolder())">
                    <div class="spinner" data-bind="visible: childs.isEmpty()"></div>

                    <div class="container-fluid" style="font-size: 1.3em" data-bind="
                        template: {
                            name: 'page/reports::report',
                            foreach: childs/*,
                            ifnot: childs.isEmpty()*/
                        }
                    "></div>
                </div>
            </div>
        </div>
  </script>
  <script id="page/reports::action:/cpt/addwallet" type="text/html">
   <form data-bind="with: form">
            <div class="text-info text-uppercase">Укажите Ваш Ethereum / CPT кошелек</div>

            <input class="form-control" data-bind="value: ethereumWallet" />

            <dl>
                <dt>
                    <span>Пример</span>:
                </dt>
                <dd>0x493c4afb73b490e988650b9758e7736c72af748f</dd>
            </dl>
        </form>
  </script>
  <script id="page/reports::report" type="text/html">
   <!-- ko with: $data instanceof KoFieldset ? _.extend($data.getState(), { $report: $data }) : $data -->
        <div class="report-item row"  data-bind="
            style: {
                backgroundColor: backgroundColor,
                color: textColor,

                cursor: (
                    $parents[1].level === 2 && childs.length ||
                    $parent.specialAction()
                ) && 'pointer'
            },
            attr: {
                'data-id': id,
                'data-filter-id': filterId,
                'data-value': value,
                'data-countable': $data.$report && $report.countable
            },
            mod: [
                type,
                (_.has($data, 'value') || $data.countable) && 'has-value',
                /*childs.length > 0 && 'childrenns_yes',*/
                $data.countable ? 'countable_yes' : 'countable_no',

                !! $parent.specialAction() && 'action'
            ],

            wakeup: countable && function() {
                $report.updateMe();
            },

            template: 'page/reports::report_' + type,

            click: function(item, event) {
                var special = $parent.specialAction();

                if (_.isFunction(special)) {
                    special(item, event);
                }
                else if ($parents[1].level === 2 && childs.length > 0) {
                    app.modal({
                        title: name,
                        girl: false,
                        content: {
                            name: 'page/reports::report',
                            foreach: childs
                                .map(function(child) {
                                    return child instanceof KoFieldset ? child : new SessiaReport(child);
                                })
                        },
                        buttons: {
                            Закрыть: {
                                css: 'btn-success',
                                close: true
                            }
                        },
                        modalContentStyle: {
                            minWidth: '800px'
                        }
                    }, {
                        backdrop: true,
                        keyboard: true
                    });
                }
                else {
                    return true;
                }
            }
        "></div>

        <div class="report-item__children" data-bind="
            template: {
                name: 'page/reports::report',
                foreach: childs
                    .map(function(child) {
                        return child instanceof KoFieldset ? child : new SessiaReport(child);
                    }),
                ifnot: $parents[1].level === 2
            }
        "></div>
        <!-- /ko -->
  </script>
  <script id="page/reports::report__name" type="text/html">
   <!-- ko if: ! $data.link || (! app.router.has(link) && ! $data.linkIsExternal) -->
        <span data-bind="text: name, style: {color: textColor}"></span>
        <!-- /ko -->

        <!-- ko if: $data.link && app.router.has(link) && ! $data.linkIsExternal -->
        <a href data-bind="
            text: name,
            click: app.direct.bind(app, link)
        "></a>
        <!-- /ko -->

        <!-- ko if: $data.link && $data.linkIsExternal -->
        <a href target="_blank" data-bind="
            text: name,
            attr: {
                href: link
            }
        "></a>
        <!-- /ko -->
  </script>
  <script id="page/reports::report_picture_string" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-6" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value col-xs-6 text-nowrap" data-bind="attr: { 'data-value': $report.value }">
            <!-- ko if: $report.value -->
            <div data-bind="css: { updating: $report.countable }"></div>

            <span data-bind="text: $report.value.or(0).formatNumber(), style: { color: $report.countable.and('transparent').or('inherit') }"></span>

            <small data-bind="text: unit"></small>

            <small data-bind="text: sub"></small>
            <!-- /ko -->
        </div>
  </script>
  <script id="page/reports::report_string" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-6" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value col-xs-6 text-nowrap" data-bind="attr: { 'data-value': $report.value }">
            <!-- ko if: $report.value -->
            <div data-bind="css: { updating: $report.countable }"></div>

            <span data-bind="text: $report.value.or(0).formatNumber(), style: { color: $report.countable.and('transparent').or('inherit') }"></span>

            <small data-bind="text: unit"></small>

            <small data-bind="text: sub"></small>
            <!-- /ko -->
        </div>
  </script>
  <script id="page/reports::report_progress_bar" type="text/html">
  </script>
  <script id="page/reports::report_chart" type="text/html">
   <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'" style="padding-left: 15px;"></div>

        <div class="report-item__value col-xs-4 text-nowrap" data-bind="attr: { 'data-value': $report.value }" style="padding: 0;">
            <div data-bind="css: { updating: $report.countable }"></div>

            <span data-bind="text: $report.value.or(0).formatNumber(), style: { color: $report.countable.and('transparent').or('inherit') }"></span>

            <small data-bind="text: unit, style: {color: textColor}"></small>
            <small data-bind="text: sub"></small>
        </div>

        <div id="chart-container" style="height:40vh; width:100%;margin-bottom:2.9em; margin-top: 60px; background-color: white">
            <span class="col-xs-8" data-bind="foreach: periodTabs" style="font-size: 14px; display: inline-flex; flex-direction: row; align-items: center; margin-left: -7px;">
                <input style="margin-right: 6px;" type="radio" data-bind="value: SessiaReport.PERIOD_VALUE_LIST[period], checked: $parents[1].selectedChartPeriod"/>
                <span style="margin-right: 6px;" data-bind="style: {color: '#6c6c6c'}, text: SessiaReport.PERIOD_NAME_LIST[period]"></span>
            </span>
            <canvas class="report-item__chart" data-bind="reportChart: {'data': $data}"></canvas>
        </div>
  </script>
  <script id="page/reports::report_table" type="text/html">
   <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value col-xs-2" data-bind="text: name_first"></div>
        <div class="report-item__value col-xs-2" data-bind="text: name_second"></div>
  </script>
  <script id="page/reports::report_report" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value col-xs-2 text-nowrapp">
            <div data-bind="css: { updating: $report.countable }"></div>

            <span data-bind="text: $report.value.or(0).formatNumber(), style: { color: $report.countable.and('transparent').or('inherit') }"></span>

            <small class="text-muted" data-bind="text: unit"></small>
        </div>

        <div class="report-item__value col-xs-2 text-nowrapp">
            <span data-bind="text: $report.value2.formatNumber()"></span>

            <small class="text-muted" data-bind="text: unit2"></small>
        </div>
  </script>
  <script id="page/reports::report_filter" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value col-xs-4 text-nowrapp" data-bind="attr: { 'data-value': $report.value }">
            <div data-bind="css: { updating: $report.countable }"></div>

            <span data-bind="text: $report.value.or(0).formatNumber(), style: { color: $report.countable.and('transparent').or('inherit') }"></span>

            <small class="text-muted" data-bind="text: unit"></small>
            <small class="text-muted" data-bind="text: sub"></small>
        </div>
  </script>
  <script id="page/reports::report_reward" type="text/html">
   <div>
        <div style="" class="report-item_reward_progress">
            <div class="report-item__icon report-item__icon_progress" data-bind="
                style: {
                    backgroundImage: 'url(' + icon + ')',
                    backgroundColor: iconBackgroundColor
                }
            ">
                           </div>

            <div style="display: flex; flex-direction: column; align-items: center; font-size: 22px!important; line-height: 32px!important; max-width: 180px; margin: 0 auto;">
                <div class="report-item__name" data-bind="template: 'page/reports::report__name'" style="line-height: 20px; padding: 15px 0 0 0;"></div>

                <div class="report-item__value text-nowrap" data-bind="attr: { 'data-value': $report.value }" style="color: #fff; line-height: 1.5em;">
                    <div data-bind="css: { updating: $report.countable }"></div>

                    <span data-bind="text: $report.value.or(0).formatNumber(), style: { color: $report.countable.and('transparent').or('inherit') }"></span>

                    <small data-bind="text: unit"></small>

                    <small data-bind="text: sub"></small>
                </div>
            </div>
        </div>
        </div>
  </script>
  <script id="page/reports::account_list" type="text/html">
   <div class="bg-warning" style="
            background-color: #f2dede;
            text-transform: uppercase;
            margin: -15px;
            padding: 15px;
            margin-bottom: 15px;
        ">Аккаунты</div>

        <div class="js-account-list" style="max-height: 75vh; overflow-y: auto" data-bind="foreach: accountPageList">
            <!-- ko foreach: $data -->
            <div class="report-item account-item" style="font-size: 1.4em; line-height: 1.6em; border-bottom: 1px solid lightgrey">
                <div style="font-size: 1.5em">
                    <!-- ko if: $data.photo -->
                    <div class="report-item__icon" style="margin-top: .3em" data-bind="style: { backgroundImage: 'url(' + photo + ')' }"></div>
                    <!-- /ko -->

                    <!-- ko ifnot: $data.photo -->
                    <div class="report-item__icon" style="margin-top: .3em" data-bind="style: { backgroundColor: photoStubColor }, text: fio.substr(0, 1).toUpperCase()"></div>
                    <!-- /ko -->
                </div>

                <div class="report-item__name" style="margin-left: 2em">
                    <div data-bind="text: parent_name"></div>

                    <div>
                        <span>&rdca;</span>
                        <span data-bind="text: fio"></span>
                    </div>

                    <div data-bind="with: region">
                        <span style="visibility: hidden">&rdca;</span>
                        <span class="text-muted" data-bind="text: $data"></span>
                    </div>

                    <div style="display: flex; flex-wrap: wrap;">
                        <!-- ko with: status_icon -->
                        <img src style="height: 1em; margin-right: .33em" data-bind="attr: { src: $data }" />
                        <!-- /ko -->

                        <span data-bind="text: status"></span>

                        <div class="report-item__star"></div>
                                                <strong style="margin: 0 .33em;" data-bind="text: Math.round(rating)"></strong>

                        <span data-bind="text: $data.value"></span>
                    </div>
                </div>

                            </div>
            <!-- /ko -->

            <div class="spinner" data-bind="visible: $parent.pagePending"></div>
        </div>
  </script>
  <script id="page/reports::found_list" type="text/html">
   <div class="bg-warning" style="
            background-color: #00078a;
            text-transform: uppercase;
            margin: -15px;
            padding: 15px;
            margin-bottom: 15px;
        ">
            <input type="text" style="width: 100%; color: black" data-bind="
                value: searchString,
                valueUpdate: 'keyup',
                event: {
                    keyup: _.throttle(nameRequest, 600, { leading: false })
                }
            "/>
        </div>
        <div class="spinner" data-bind="visible: foundPagePending() && start() == 0"></div>
        <div class="js-account-list" style="max-height: 75vh; overflow-y: auto" data-bind="foreach: foundPageList">
            <!-- ko foreach: $data -->
                <div class="report-item account-item" style="font-size: 1.4em; line-height: 1.6em; border-bottom: 1px solid lightgrey">
                    <div style="font-size: 1.5em">
                        <!-- ko if: $data.photo -->
                        <div class="report-item__icon" style="margin-top: .3em" data-bind="style: { backgroundImage: 'url(' + photo + ')' }"></div>
                        <!-- /ko -->

                        <!-- ko ifnot: $data.photo -->
                        <div class="report-item__icon" style="margin-top: .3em" data-bind="style: { backgroundColor: photoStubColor }, text: fio.substr(0, 1).toUpperCase()"></div>
                        <!-- /ko -->
                    </div>

                    <div class="report-item__name" style="margin-left: 2em">
                        <div data-bind="text: parent_name"></div>

                        <div>
                            <span>&rdca;</span>
                            <span data-bind="text: fio"></span>
                        </div>

                        <div>
                            <span style="visibility: hidden">&rdca;</span>
                            <span class="text-muted" data-bind="text: region"></span>
                        </div>

                        <div>
                            <strong data-bind="text: $data.value"></strong>
                        </div>
                    </div>
                </div>
            <!-- /ko -->
            <div class="spinner" data-bind="visible: $parent.foundPagePending"></div>
        </div>
  </script>
  <script id="page/reports::report_caption" type="text/html">
   <div class="report-item__name col-xs-12" data-bind="template: 'page/reports::report__name'"></div>
  </script>
  <script id="page/reports::report_folder" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value" data-bind="text: String(value) || value2"></div>
  </script>
  <script id="page/reports::report_folder_narrow" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value" data-bind="text: String(value) || value2"></div>
  </script>
  <script id="page/reports::report_folder_grid" type="text/html">
   <div class="report-item__icon" data-bind="style: { backgroundImage: 'url(' + icon + ')', backgroundColor: iconBackgroundColor }"></div>

        <div class="report-item__name col-xs-8" data-bind="template: 'page/reports::report__name'"></div>

        <div class="report-item__value" data-bind="text: String(value) || value2"></div>
  </script>
  <script id="page/reports::report_delimiter" type="text/html">
   <div class="col-xs-12" data-bind="style: { height: ( (value || 4) / 8 ) + 'em' }"></div>
  </script>
  <script src="/web-version/js/page/notifications/notifications.js" type="text/javascript">
  </script>
  <script id="page/notifications" type="text/html">
   <h3 class="page-title">События</h3>

        <div class="page-body container-fluid">
            <div class="row">
                <div class="col-xs-12">
                    <section class="section">
                        <div class="section-body container-fluid" style="border-top: 3px solid #af62c8;">
                            <div class="section-header text- section_header-events">
                                Все события
                            </div>
                            <i data-bind="ifnot: notificationList().length">Пусто</i>
                            <!-- ko template: { name: 'notification-item', foreach: notificationList } --><!-- /ko -->

                            <!-- ko if: postsPending -->
                                <div class="spinner"></div>
                            <!-- /ko -->

                            <!-- ko if: showMore -->
                                <button class="btn btn-action" style="margin-top: 1em" data-bind="click: loadMore">Есть ещё</button>
                            <!-- /ko -->
                            </div>
                    </section>
                </div>
                                            </div>
        </div>
  </script>
  <script id="notification-item" type="text/html">
   <div class="row instance-item container-fluid" style="min-height: 5em">
            <div class="col-xs-1">
                <!-- ko with: user-->
                <div class="logo logo_xsm user-pic-logo" data-bind="style: {
                    backgroundImage: $data.photo ? 'url(' + photo + ')' : null,
                    float: 'right'
                }"></div>
                <!-- /ko -->
                <!-- ko ifnot: user -->
                    <div class="logo logo_xsm user-pic-logo" data-bind="style: {
                        backgroundImage: $data.iconUrl ? 'url(' + iconUrl() + ')' : null,
                        float: 'right'
                    }"></div>
                <!-- /ko -->
            </div>
            <div class="col-xs-11">
                <div class="datetime" style="float: right" data-bind="text: relativeDateFormat(createdDate())"></div>

                <div class="text-lg" data-bind="with: user">
                    <strong data-bind="text: $data.surname"></strong>
                    <strong data-bind="text: name"></strong>
                    <!-- ko ifnot: $parent.hasAttachement -->
                        <p data-bind="text: $parent.message"></p>
                    <!-- /ko -->
                </div>
                <!-- ko ifnot: user -->
                    <strong data-bind="text: title"></strong>
                <!-- /ko -->
                <div data-bind="if: hasAttachement">
                    <div data-bind="foreach: attachmentList">
                        <!-- ko with: app.router.parse(path()) -->
                            <a href data-bind="url: route.name, data: data, text: $parents[1].message"></a>
                        <!-- /ko -->

                        <!-- ko ifnot: app.router.parse(path()) -->
                            <!-- ko if: NotificationAttachment.TYPE_APP_LINK === typeId() && !app.router.parse(path())-->
                                <a href target="_blank" data-bind="attr: { href: path }, text: $parent.message"></a>
                            <!-- /ko -->

                            <!-- ko if: NotificationAttachment.TYPE_AUDIO_RECORD === typeId() -->
                                <p data-bind="text: $parent.message"></p>
                                <audio style="width: 100%;" controls>
                                    <source src data-bind="attr: { src: path }">
                                    Your browser does not support the audio element.
                                </audio>
                            <!-- /ko -->
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/ticket/one.js" type="text/javascript">
  </script>
  <script id="page/ticket/one" type="text/html">
   <!-- ko with: ticket -->
        <div class="row">
            <div class="col-lg-1">
                <div class="page-title chat-header-support" data-bind="text: 'id' + id()"></div>
            </div>
            <div class="col-lg-7">
                <div class="page-title chat-header-support" style="color: #332467; margin-top: -2px; float:left" data-bind="text: categoryName()"></div>
                <div class="page-title chat-header-support" style="margin-top: -2px; float:right">
                    <span class="support-ticket-status" data-bind="text: SupportTicket.STATUS_NAME_BY_ID[statusId()], style: {color: 'white', background: $parent.statusBgColor[statusId()]}"></span>
                </div>
            </div>
        </div>
        <!-- /ko -->

        <div class="page-body">
            <!-- ko with: ticket -->
                <div class="support-ticket-item" style="background-color: inherit; width: 75%;">
                    <div class="clearfix" style="margin-bottom: 1em">
                        <ul style="display: flex; flex-direction: column;" class="ticket-message-list clearfix" data-bind="
                            foreach: isShowAllMessages.bind(_, true).and( messageList ),
                        ">
                            <li class="post-comment__message-item post-comment__message-item_purple" data-bind="mod: { owned: isByTicketOwner }">
                                <!-- ko if:api.user() -->
                                    <div class="ticket-message-item__user-name" data-bind="text: isByTicketOwner() ? api.user().name() : 'Специалист поддержки'"></div>
                                <!-- /ko -->
                                <!-- ko ifnot:api.user() -->
                                    <div class="ticket-message-item__user-name" data-bind="text: isByTicketOwner() ? 'Пользователь' : 'Специалист поддержки'"></div>
                                <!-- /ko -->
                                <div class="ticket-message-item__content ticket-message-item__user-text" data-bind="html: CommunityPost.referencedTextToHtml(message())"></div>
                                <div class="ticket-message-item__datetime ticket-message-item__datetime_right" data-bind="text: createDate.relativeDateFormat()"></div>

                                <a href data-bind="if: image, attr: { href: image }">
                                    <img src style="max-width: 100%" data-bind="attr: { src: image }" />
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="report-item account-item row chat-send chat-send_support" data-bind="visible: statusId() !== 4">
                    <input type="text" class="form-control chat-send__message chat-send__message_support" data-bind="value: $parent.newMessage" placeholder="Введите сообщение..."/>

                    <div class="chat-send__buttons chat-send__buttons_support">
                        <div style="background-color: #fff; margin-bottom: 6px; border: 1px solid #d0d0d0; padding: 0 10px;">
                            <label style="cursor: pointer">
                                <input style="color: #B0B0B0; font-weight: 500;" id="filePicker" type="file" accept="image/jpeg,image/png,image/gif,video/mp4"
                                       data-bind="event: { change: $parent.selectFile }"/>
                            </label>
                            <a href="#" data-bind="
                                click: $parent.sendFile,
                                visible: $parent.fileForSend(),
                                text: 'Отправить файл (' + readableFileSize($parent.fileForSend().size) + ')'
                            "></a>
                        </div>
                        <a class="chat-send__btn" href="#" style="" data-bind="
                                    click: function() {
                                        if ($.trim($parent.newMessage() )) {
                                            $parent.sendMessage($parent.newMessage());
                                        }
                                    },
                                    visible: !$parent.fileForSend()
                                ">Отправить
                        </a>
                    </div>
                </div>
            <!-- /ko -->
            <div data-bind="ifnot: ticket">
                К сожалению, запрошенный тикет не найден
            </div>
        </div>
  </script>
  <script src="/web-version/js/page/ticket/index.js" type="text/javascript">
  </script>
  <script id="page/ticket/index" type="text/html">
   <div class="page-title support-header">
            <div style="font-size: 24px;">Поддержка</div>
            <div class="support-new-ticket">
                <a href data-bind="click: createNewTicket">Создать новый запрос</a>
            </div>
        </div>

        <div class="page-body">
            
            <!-- ko with: newTicket -->
            <form style="max-width: 800px" data-bind="template: 'page/ticket::ticket_form_new' "></form>
            <!-- /ko -->

            <div class="support-ticket-list" data-bind="foreach: SupportTicket.ticketList">
                <div class="support-ticket-elem">
                    <div style="background: white; padding: 10px 0; font-size: 16px" class="row">
                        <div class="col-lg-1 support-ticket-id">
                            <a href data-bind="url: 'ticket/one', id: id, text: 'id'+ id()"></a>
                        </div>
                        <div class="col-lg-8">
                            <span data-bind="text: categoryName()"></span>
                        </div>
                        <div class="col-lg-3" style="text-align: right;">
                            <span style="color: #898888;" data-bind="text: createDate.relativeDateFormat()"></span>
                        </div>
                    </div>
                    <div style="background: rgba(255,178,252,0.13); padding: 10px;" class="row">
                        <div style="display: flex; justify-content: space-between; width: 100%">
                            <div class="" style="padding: 0; max-width: 650px;">
                                <span class="support-message" data-bind="text: messageList.property(0).property('message')"></span>
                            </div>
                            <div class="">
                                <span class="support-ticket-status" data-bind="text: SupportTicket.STATUS_NAME_BY_ID[statusId()], style: {color: 'white', background: $parent.statusBgColor[statusId()]}"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
  </script>
  <script id="page/ticket::ticket_view" type="text/html">
   <div class="clearfix" style="margin-bottom: 1em">
            <div style="float: left; display: inline-block">
                <div data-bind="text: modifyDate.relativeDateFormat(), visible: messageList.isEmpty()"></div>

                <div data-bind="ifnot: newMessage.or( $data.isStatusClose() )">
                    <a href data-bind="click: createNewMessage">Отправка сообщения</a>
                </div>

                <div data-bind="with: newMessage">
                    <button class="form-control" style="width: auto; display: inline-block" data-bind="
                        click: $parent.sendNewMessage,
                        enable: message.or(image)
                    ">Отправить</button>

                    <a href style="margin-left: 1em" data-bind="click: $parent.resetNewMessage">Отмена</a>

                    <label style="margin-left: 1em; cursor: pointer">
                        <span style="font-size: 1.2em">&#128206;</span>

                        <input type="file" style="display: none" accept="image/jpeg,image/png,image/gif" data-bind="
                            dataURL: image,
                            dataType: 'image/*',
                            dataFormat: 'base64'
                        " />

                        <span data-bind="text: readableFileSize(image().length * 6/8), visible: image"></span>
                    </label>
                </div>
            </div>

            <div style="float: right; display: inline-block">
                <span class="text-muted" data-bind="text: i18n(SupportTicket.STATUS_NAME_BY_ID[ statusId() ])"></span>

                <span data-bind="text: categoryName"></span>
            </div>
        </div>

        <!-- ko with: newMessage -->
        <textarea class="ticket-message-item ticket-message-item_owned form-control" data-bind="
            value: message,
            valueUpdate: 'keyup'
        "></textarea>
        <!-- /ko -->

        <ul class="ticket-message-list clearfix" data-bind="foreach: messageList()">
            <li class="ticket-message-item" data-bind="mod: { owned: isByTicketOwner }">
                <div class="ticket-message-item__datetime" data-bind="text: createDate.relativeDateFormat()"></div>

                <div class="ticket-message-item__content" data-bind="text: message"></div>

                <a href data-bind="if: image, attr: { href: image }">
                    <img src style="max-width: 100%" data-bind="attr: { src: image }" />
                </a>
            </li>
        </ul>
  </script>
  <script id="page/ticket::ticket_form_new" type="text/html">
   <div class="form-group">
            <label>Выберите категорию проблемы</label>
            <select class="form-control" data-bind="
                options: SupportTicket.CATEGORY_LIST,
                optionsCaption: i18n('Выберите категорию'),
                optionsText: 'name',
                optionsValue: 'id',
                value: category,
                valueAllowUnset: false
            "></select>
        </div>

        <!-- ko if: api.ready.andNot(SupportTicket.loggedUser) -->
        <div class="form-group">
            <label>Имя</label>
            <input class="form-control" placeholder="Имя" data-bind="value: name" />
        </div>

        <div class="form-group">
            <label>E-mail</label>
            <input class="form-control" placeholder="E-mail" data-bind="value: email" />
        </div>

        <div class="form-group">
            <label>Телефон</label>
            <input class="form-control" placeholder="Телефон" data-bind="value: phone" />
        </div>
        <!-- /ko -->

        <div class="form-group">
            <label>
                Сообщение

                <label style="margin-left: 1em; cursor: pointer">
                    <span style="font-size: 1.2em">&#128206;</span>

                    <input type="file" style="display: none" accept="image/jpeg,image/png,image/gif" data-bind="
                        dataURL: image,
                        dataType: 'image/*',
                        dataFormat: 'base64'
                    " />

                    <span data-bind="text: readableFileSize(image().length * 6/8), visible: image"></span>
                </label>
            </label>
            <textarea class="form-control" placeholder="" data-bind="value: body"></textarea>
        </div>

        <div class="form-group">
            <pre class="text-danger" data-bind="text: errorMessage, visible: errorMessage.isNotEmpty()"></pre>

            <button class="form-control" style="width: auto; display: inline-block" data-bind="click: $parent.createAsNew">Отправить</button>

            <a href style="" data-bind="click: $parent.resetNewTicket">Отмена</a>
        </div>
  </script>
  <script src="/web-version/js/page/index/index.js" type="text/javascript">
  </script>
  <script id="page/index" type="text/html">
   <h3 class="page-title">Добро пожаловать</h3>

        <div class="page-body">
            <a data-bind="url: 'market/index'">Магазины</a>
        </div>
  </script>
  <script id="debug/json" type="text/html">
   <pre class="dbg" data-bind="
            html: jsonSyntaxHighlight( JSON.stringify( _.mapObject($data, ko.unwrap), undefined, 2 ) )
        "></pre>
  </script>
  <script type="text/javascript">
   $(function() {
            // start to load translations
            api.request('directory/app-translations', i18n.translationList);

            // dev stub for has no translated phrases detection
            i18n.translationMap.then(function(translationMap) {
                i18n.traslationsLeft = _.unique(
                    _.filter(i18n._phrases, function(phrase) {
                        return i18n(phrase) === phrase;
                    })
                );

                if (! _.isEmpty(i18n.traslationsLeft)) {
//                    console.warn('Has no translate', i18n.traslationsLeft);
                }
            });

            $('script[type*=html]').each(function() {
                var template = $(this).text();
                $(this).text( i18n.prepareKoTemplate(template) );
            });

            // start view & init app
            ko.applyBindings();
            app.init();
        });
  </script>
 </head>
 <body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
   <iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-5CSZCVV" style="display:none;visibility:hidden" width="0">
   </iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div class="layout" data-bind="template: app.selectLayout()">
  </div>
 </body>
</html>
