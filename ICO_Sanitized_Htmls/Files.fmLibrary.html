<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="adaptive_html" lang="EN">
 <head>
  <meta charset="utf-8"/>
  <meta content="WVoCXGP9WWz7ZO3hqGZASmZCYQ2jhO7WxIRwsepEgV" name="globalsign-domain-verification"/>
  <meta content="#2b3d52" name="theme-color"/>
  <title>
   File upload and sharing. Large file transfers. Free online cloud storage.
  </title>
  <meta content="ftp file upload, file hosting, android, file cloud, cloud storage, file sharing, failu glabāšana, bilžu hostings, bilžu apmaiņa, failu apmaiņa, failu serveris, failu koplietošana, failu rezerves kopijas, failu backup, file hosting, file sharing, file exchange, file storage, image hosting, file upload, files, file share, web file hosting, internet file storage, image upload, free upload, photo sharing, online photo gallery, photos online, data backup, online backup" name="keywords"/>
  <meta content="File upload and sharing. Large file transfers. Free online cloud storage." property="og:title"/>
  <meta content="Free file upload and Sharing 5GB+. Store, Share or Sell your content: photos, videos, music, podcasts or documents. Free signup, large file support." property="og:description"/>
  <meta content="Free file upload and Sharing 5GB+. Store, Share or Sell your content: photos, videos, music, podcasts or documents. Free signup, large file support." name="description"/>
  <meta content="https://files.fm/images/files.fm-fb.png?v=2" property="og:image"/>
  <meta content="https://files.fm" property="og:url"/>
  <meta content="website" property="og:type"/>
  <meta content="Files.Fm" property="og:site_name"/>
  <meta content="303254966461402" property="fb:app_id"/>
  <link href="https://files.fm/" rel="canonical"/>
  <link href="https://files.fm/" hreflang="x-default" rel="alternate"/>
  <link href="https://files.fm/" hreflang="en" rel="alternate"/>
  <link crossorigin="" href="https://www.googletagmanager.com" rel="preconnect"/>
  <link crossorigin="" href="https://files.fm" rel="preconnect"/>
  <link crossorigin="" href="https://s7.addthis.com" rel="preconnect"/>
  <link crossorigin="" href="https://www.google-analytics.com" rel="preconnect"/>
  <link crossorigin="" href="https://www.googleadservices.com" rel="preconnect"/>
  <link crossorigin="" href="https://googleads.g.doubleclick.net" rel="preconnect"/>
  <link crossorigin="" href="https://stats.g.doubleclick.net" rel="preconnect"/>
  <link crossorigin="" href="https://www.google.com" rel="preconnect"/>
  <link crossorigin="" href="https://www.google.lv" rel="preconnect"/>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-1970559-10">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  
  /* TJV 2020-05-27: traucē Cloudflare kešošanai
  gtag('set', 'linker', {'domains': ['files.fm', 'failiem.lv', 'file.fm']});
  */
  
  gtag('js', new Date());
  
  // GA main files.fm 
  gtag('config', 'UA-1970559-10');

  // GA failiem.lv 
  //gtag('config', 'UA-1970559-6');
  // GA files.fm
  //gtag('config', 'UA-1970559-12');
  // GA file.fm
  //gtag('config', 'UA-1970559-19');
  
  // Google Ads tracking: Files.fm account: 1043031755
  gtag('config', 'AW-1043031755');
  </script>
  <script src="/js/google_conversion.js?v=3">
  </script>
  <base href="https://files.fm/"/>
  <meta content="4MHpv5CF+UNp34oMIZOxnVwoSslLpr+5GPkxFp94Wq8=" name="verify-v1"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <link href="/css/reset.css?v=1429376391" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/global.css?v=1584458932" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/header.css?v=1595416010" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/messages/messages.css?v=1576094031" media="all" rel="stylesheet" type="text/css"/>
  <link href="/ts/chat/dist/chat.css?v=1582713860" media="all" rel="stylesheet" type="text/css"/>
  <script src="/js/jquery-1.9.1.min.js?v=1568974187">
  </script>
  <script src="/js/jquery-migrate-1.2.1.js?v=1429376368">
  </script>
  <script src="/js/JSON/json2.js?v=1429376364">
  </script>
  <script src="/js/JSON/cycle.js?v=1429376364">
  </script>
  <script src="/error_handler_client?v=4">
  </script>
  <link href="/images/cloud.png" rel="icon" type="image/png"/>
  <script>
   var DOMAIN_NAME = 'files.fm';
				
				var HTTP_HOST = 'files.fm';

				// capitalize first letter of domain
                DOMAIN_NAME = DOMAIN_NAME.charAt(0).toUpperCase() + DOMAIN_NAME.slice(1);

				var lang_code = 'EN';

				var DOCUMENT_IS_LOADED = false;

				var MMVD = false;
				var STDT = new Date().getTime();

				var WEB_ROOT_PATH = '';

				var FB_APP_ID = '303254966461402';

				$(function(){

					DOCUMENT_IS_LOADED=true

                    var intScrollTop = $('html').scrollTop();
					intScrollTop = Math.max(intScrollTop, $('body').scrollTop());
					
                    if ( intScrollTop > 0 )
                    {
                        $('body').addClass('scrolled');
                    }

                    
                    $(window).on('scroll', function (){
                        
                        var intScrollTop = $('html').scrollTop();
                        intScrollTop = Math.max(intScrollTop, $('body').scrollTop());
                        
                        if ( intScrollTop > 0 )
                        {
                            $('body').addClass('scrolled');
                        }
                        else
                        {
                            $('body').removeClass('scrolled');
                            checkMenuItems();
                        }
                    });

					$( document ).mousemove( function( event )
					{
						if ( ! MMVD )
						{
							if ( ( ( new Date().getTime() ) - STDT ) > 1000 )
							{
								MMVD = true;
							}
						}
					});
				});


				function changeLanguage(strLangCode, strTitle)
				{
					var strUrl = '';
					switch (strLangCode)
					{
						case 'lv':
                            strUrl = 'https://failiem.lv/';
                            break;
						case 'en':
                            strUrl = 'https://files.fm/';
                            break;
						case 'ru':
                            strUrl = 'https://ru.files.fm/';
                            break;
						case 'de':
                            strUrl = 'https://de.files.fm/';
                            break;
						case 'fi':
                            strUrl = 'https://fi.files.fm/';
                            break;
                        case 'es':
                            strUrl = 'https://es.files.fm/';
                            break;
                        case 'ko':
                            strUrl = 'https://ko.files.fm/';
                            break;
					}
					window.location = strUrl + WEB_ROOT_PATH;// + '?lng='+strLangCode;
					$('.language_dropdown .activator SPAN').each(function (){
						var img = $('IMG', this).clone();
						$(this).html(strTitle + ' ').append(img);
					});
					hidePopups();
				}


				function gaev(strCategory, strAction, strLabel, strValue) {

					if (typeof gtag != 'undefined') {
						// old ga.js
						//_gaq.push(['_trackEvent', strCategory, strAction, strLabel]);
						
						// Send the event to the gtag.js Google Analytics property
						// with tracking ID GA_MEASUREMENT_ID.
						gtag('event', 'Events', {
						  'send_to': 'UA-1970559-10',
						  'event_category': strCategory,
						  'event_action': 	strAction,
						  'event_label': 	strLabel,
						  'value':			strValue
						});
						
						/*gtag('event', 'strEveryEventTest', {
						  'send_to': 'UA-1970559-10',
						  'event_category': 'EveryEvent',
						  'event_action': 	'TestAction',
						  'event_label': 	'TestLabel'
						});*/

					};
				}
				
				function logClick(strButton)
				{
										if (typeof gtag != 'undefined')
					{
						//_gaq.push(['_trackEvent', 'ActionLine', strButton, 'List']);

						gtag('event', 'Clicks', {
						  'send_to': 'UA-1970559-10',
						  'event_category': 'ActionLine',
						  'event_action': 	strButton,
						  'event_label': 	'List'
						});
					};
									}


				function printAdwordsConversion(strIframeName) {

					var  iframe = document.createElement('iframe');
					iframe.style.width = '0px';
					iframe.style.height = '0px';
					document.body.appendChild(iframe);

					iframe.src = 'https://files.fm/server_scripts/google_adwords/'+ strIframeName +'.php';
				}
  </script>
  <script>
   var IS_MOBILE = false;
  </script>
  <!--[if lt IE 9]>
				<script type="text/javascript" src="./js/html5.js"></script>
				<script type="text/javascript" src="./js/css3-mediaqueries.js"></script>
			<![endif]-->
  <script>
   var tb_lang = new Object();  	tb_lang["close"] = "Close";  	tb_lang["or_esc_key"] = "or press the Esc key";
  </script>
  <script>
   Math._round = function(number, precision)
				{
					precision = Math.abs(parseInt(precision)) || 0;
					var coefficient = Math.pow(10, precision);
					return Math.round(number*coefficient)/coefficient;
				}

				function file_size_format (filesize, intPrecision) {
				    
				    if (typeof(intPrecision) == 'undefined' || intPrecision==null)
				        intPrecision = 2;
				    
					if (filesize >= 1073741824)
					{
						filesize = Math._round(filesize / 1073741824, 2).toFixed(intPrecision) + '&nbsp;GB';
					}
					else
					{
						if (filesize >= 1048576)
						{
							filesize = Math._round(filesize / 1048576, 2).toFixed(intPrecision) + '&nbsp;MB';
						}
						else
						{
							if (filesize >= 1024)
							{
								filesize = Math._round(filesize / 1024, 0).toFixed(intPrecision) + '&nbsp;KB';
							}
							else
							{
								filesize = filesize + '&nbsp;B';
							};
						};
					};
					return filesize;
				};
  </script>
  <script>
   /**
     * @param strEmails - one or more emails delimited with ","
     * @param bolIsSingleEmail - is strEmails only one email
     */
    function EmailValidator(strEmails, bolIsSingleEmail)
    {
        this.state = EmailValidator.states.READY;
        this.strSuggestedEmails = "";
        this.strEmails = strEmails.trim();
        this.strNoMxEmails = "";
        this.strInputID = "";
        this.bolIsSingleEmail = bolIsSingleEmail;

        // set default invalid cb
        this.setOnInvalidCB(function(){});
        this.strErrorClass = "has-error";
    }
    
    EmailValidator.regexTest = function(email) 
    {
        var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        
        return re.test( email )
            // disallow single quotes
            && email.indexOf( "'" ) === -1;
    };
    
    //<editor-fold desc="Setters">
    /**
     * this.onValidCB and this.onInvalidCB and this.setOnSuggestionCB execution order:
     *  1. remove this.strErrorClass from this.strInputID
     *  2. show or hide modal - only for onInvalid and onValid
     *  3. run callback
     */
    EmailValidator.prototype.setOnValidCB = function (onValidCB)
    {
        this.onValidCB = applyTo(this, function ()
        {
            if (this.strModalID && $('#' + this.strModalID).css('opacity') == 0)
            {
                showModal(this.strModalID);
            }
            this.removeClassFromInput();
            onValidCB();
        });

        return this;
    };
    EmailValidator.prototype.setOnInvalidCB = function (onInvalidCB)
    {
        this.onInvalidCB = applyTo(this, function ( strInvalidEmails)
        {
            if( typeof strInvalidEmails === 'undefined' )
            {
                strInvalidEmails =  '';
            }
            
            if (this.strModalID && $('#' + this.strModalID).css('opacity') == 0)
            {
                showModal(this.strModalID);
            }
            this.addErrorClassToInput();
            onInvalidCB(strInvalidEmails);
        });

        return this;
    };
    EmailValidator.prototype.setOnSuggestionCB = function (onSuggestionCB)
    {
        this.revalidate = function ()
        {
            this.addErrorClassToInput();
            onSuggestionCB();
        };
        return this;
    };
    
    EmailValidator.prototype.setModalID = function (strModalID)
    {
        this.strModalID = strModalID;
        return this;
    };

    EmailValidator.prototype.setInputID = function (strInputID)
    {
        this.strInputID = strInputID;
        return this;
    };

    EmailValidator.prototype.setErrorClass = function (strErrorClass)
    {
        this.strErrorClass = strErrorClass;
        return this;
    };
    //</editor-fold>
    
    EmailValidator.prototype.onTooManyEmails = function () 
    {
        fError("You cannot send more than 5 emails at one time.", "", "OK", applyTo(this, this.onInvalidCB));
    };

    /**
     * adds this.strErrorClass to element with ID this.strInputID
     */
    EmailValidator.prototype.addErrorClassToInput = function ()
    {
        if (this.strInputID)
        {
            $("#" + this.strInputID).addClass(this.strErrorClass);
        }
    };

    /**
     * removes this.strErrorClass from element with ID this.strInputID
     */
    EmailValidator.prototype.removeClassFromInput = function ()
    {
        if (this.strInputID)
        {
            $("#" + this.strInputID).removeClass(this.strErrorClass);
        }
    };

    EmailValidator.prototype.run = function ()
    {
        if(this.strEmails === "") 
        {
            this.state = EmailValidator.states.INVALID;
            this.onInvalidCB();
            return;
        }
        
        // onValid, onInvalid and strEmails are necessary!
        if (!this.onValidCB || !this.onInvalidCB)
        {
            throw new Error("EmailValidator is missing essential data!");
        }
        
        var emails;

        // check if not over allowed email count
        if( !this.bolIsSingleEmail )
        {
            emails = this.strEmails.split(",");
            if( emails.length > 50 ) {
                this.state = EmailValidator.states.TOO_MANY_EMAILS;
                this.onTooManyEmails();
                return;
            }
        }
        else
        {
            emails = [ this.strEmails ];
        }

        // test emails against email regex before posting them
        for (var i in emails)
        {
            if ( emails.hasOwnProperty(i) && !EmailValidator.regexTest( emails[i].trim() ) )
            {
                this.state = EmailValidator.states.INVALID;
                this.onInvalidCB( emails[i].trim() );
                return;
            }
        }

        this.state = EmailValidator.states.RUNNING;

        $.post('/chkMail.php', {'q': this.strEmails}, applyTo(this, this.onResponse));
    };

    EmailValidator.prototype.onResponse = function (data)
    {
        var arrReturn = JSON.parse(data);

        if (arrReturn['result'] === 0)
        {
            this.state = EmailValidator.states.VALID;
            this.onValidCB(this);
        }
        else if(arrReturn['result'] === EmailValidator.states.INVALID) 
        {
            this.state = EmailValidator.states.INVALID;
            this.onInvalidCB();
        }
        else if (arrReturn['result'] === 2)
        {
            this.strSuggestedEmails = arrReturn['suggest'];

            if (arrReturn['no_mx'])
            {
                this.strNoMxEmails = arrReturn['no_mx'];
                this.state = EmailValidator.states.MISSING_MX_RECORDS;
            }
            else
            {
                this.state = EmailValidator.states.POSSIBLE_TYPO;
            }

            // this calls onSuggestionCB
            this.revalidate();
        }
        else if (arrReturn['result'] === 4)
        {
            this.state = EmailValidator.states.TOO_MANY_EMAILS;
            this.onTooManyEmails();
        }
    };

    EmailValidator.prototype.revalidate = function ()
    {
        // add typo suggestions and emails with no mx records to string
        var strMsg = '';
        if (this.strSuggestedEmails !== '')
        {
            strMsg += "Did you mean:";
            strMsg += " " + this.strSuggestedEmails + "?\n";
        }
        if (this.strNoMxEmails !== '')
        {
            if(this.bolIsSingleEmail)
            {
                strMsg += "It\u2019s possible that this e-mail address is incorrect:"            }
            else 
            {
                strMsg += "These e-mail addresses might be invalid:"            }
            
            strMsg += " " + this.strNoMxEmails + ".\n";
        }

        if(this.bolIsSingleEmail)
        {
            strMsg += "Please verify that the entered e-mail is correct. If it is correct, press OK.";
        }
        else 
        {
            strMsg += "Please verify that the entered e-mails are correct! If all e-mails are correct, press OK.";
        }

        this.addErrorClassToInput();

        // hide the original modal to avoid overlapping
        if (this.strModalID && $('#'+this.strModalID).css('opacity') == 1)
        {
            hideModal(this.strModalID);
        }

        fConfirm(
            strMsg,
            "Potential error",
            "OK",
            "Cancel",
            applyTo(this, function ( bolResult)
            {
                // execute onInvalid only if user declines
                if (bolResult === false)
                {
                    this.state = EmailValidator.states.INVALID;
                    this.onInvalidCB();
                }
            }),
            applyTo(this, function ()
            {
                this.state = EmailValidator.states.ACCEPTED_TYPO;
                this.onValidCB();
            }, this)
        );
    };

    EmailValidator.prototype.isSubmittable = function ()
    {
        return [EmailValidator.states.VALID, EmailValidator.states.ACCEPTED_TYPO].indexOf(this.state) !== -1;
    };

    EmailValidator.states = {
        READY: -2,              // initial state
        RUNNING: -1,            // request has started and server has not responded yet

        // => onValidCB
        VALID: 0,

        // => onInvalidCB
        INVALID: 1,

        // => revalidate => onSuggestionCB
        POSSIBLE_TYPO: 2,       // there are typos in the submitted emails
        MISSING_MX_RECORDS: 3,  // some emails have missing mx records
        TOO_MANY_EMAILS: 4,     // too many emails are submitted

        // => revalidate => onSuggestionCB (clicked OK) => onValid 
        ACCEPTED_TYPO: 5        // typo was spotted but user dismissed it
    };
    
    // the function is defined in functions.js, but because this script is included in bergafoto, lets check to make sure.
    if ( typeof applyTo !== 'function' )
    {
        /**
         * Magic function that makes vanilla JS objects usable
         *  - execute fn in the context of $this with passed parameters
         *  - you can also pass parameters to the fn that is returned, they will be added to the fn call
         * @param $this - Object scope
         * @param fn - Object method to execute
         * @param var1 - first parameter to be passed to fn
         * @returns {Function}
         */
        window.applyTo = function( $this, fn, var1 )
        {
            if ( !$this )
            {
                throw new Error( "Invalid usage of closure function, scope must be defined." );
            }
        
            if ( !fn )
            {
                throw new Error( "Invalid usage of closure function, fn must be defined." );
            }
        
            var finalArgs = [];
        
            // skip first 3 arguments (callee, $this, fn)
            for ( var i = 2; i < arguments.length; ++i )
            {
                // add to list of args
                finalArgs.push( arguments[ i ] );
            }
        
            return function ()
            {
                // add all arguments
                for ( var i = 0; i < arguments.length; ++i )
                {
                    finalArgs.push( arguments[ i ] );
                }
            
                // first arguments will be the ones passed to closure, then the ones passed to this function
                return fn.apply( $this, finalArgs );
            };
        }
    }
  </script>
  <link href="/bootstrap/css/dropdown.css?v=1536455916" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/global_facelift.css?v=1588057239" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/inputs.css?v=1536456142" media="all" rel="stylesheet" type="text/css"/>
  <link href="/js/jquery-ui-1.11.4.custom/jquery-ui.min.css?v=1458758345" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/thickbox.css?v=1429376391" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/modal.css?v=1571147423" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/font-awesome-new/css/font-awesome.min.css?v=1563280607" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/font-awesome-pro/css/light.min.css?v=1563280607" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/font-awesome-pro/css/brands.min.css?v=1563280607" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/font-awesome-pro/css/fontawesome.min.css?v=1563280607" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/alert.css?v=1571153133" media="all" rel="stylesheet" type="text/css"/>
  <link href="/js/FlexSlider/flexslider.css?v=1429376370" media="all" rel="stylesheet" type="text/css"/>
  <link href="/css/info_slider.css?v=1455794632" media="all" rel="stylesheet" type="text/css"/>
  <script src="/js/jquery.cookie.js?v=1429376362">
  </script>
  <script src="/js/jquery-ui-1.11.4.custom/jquery-ui.min.js?v=1458758349">
  </script>
  <script src="/js/global.js?v=1595416010">
  </script>
  <script src="/js/info_tooltips.js?v=1557302526">
  </script>
  <script src="/js/share_functions.js?v=1486841181">
  </script>
  <script src="/js/jquery-ui-1.11.4.custom/jquery-ui.min.js?v=1458758349">
  </script>
  <script src="/js/ajax2_norm.js?v=1429376364">
  </script>
  <script src="/js/dom_table.js?v=1429376366">
  </script>
  <script src="/js/event.js?v=1429376370">
  </script>
  <script src="/js/functions.js?v=1557731886">
  </script>
  <script src="/js/thickbox.js?v=1429376368">
  </script>
  <script src="/js/modal.js?v=1560771844">
  </script>
  <script src="/js/alert.js?v=1487078178">
  </script>
  <script src="/js/FlexSlider/jquery.flexslider.js?v=1429376370">
  </script>
  <link href="/css/stripe_payment_form.css?v=102" media="all" rel="stylesheet" type="text/css"/>
  <script id="stripe_js_script" src="https://js.stripe.com/v3/">
  </script>
  <script src="/js/stripe_payment_form.js?v=103">
  </script>
  <script>
   var PHPSESSID = 'adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7';
	var STRIPE_PUBLIC_KEY = 'pk_live_qdaFEN4KBX40UvEYnwlKCIX8';
	var STRIPE_LOCALE = 'auto';

	var arrStripePaymentFormErrorMsg = {
		'FinishOrder' : 'An error occurred while processing the order. Please contact support@files.fm!' ,
		'Processing' : 'An error occurred while processing the payment. Please try again or contact support@files.fm!' ,
		'InvalidData' : 'Please enter valid payment card details!' ,
		'BankDeclined' : 'An error occurred while processing payment - your bank declined the payment. Please check if your bank account has enough funds; if your payment card is authorized to make payments on the Internet. Or contact your bank, or use another payment card.' ,
		'NotEnoughFunds' : 'Your bank account does not have enough funds. Please supplement the account or use another payment card!' ,
		'InvalidCVV' : 'Please check and enter a valid payment card CVV code!'
	};
  </script>
 </head>
 <body class="lang_en use_vh">
  <noscript>
   <iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-N9HRMM7" style="display:none;visibility:hidden" width="0">
   </iframe>
  </noscript>
  <noscript>
   <iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-5ZNTW54" style="display:none;visibility:hidden" width="0">
   </iframe>
  </noscript>
  <script>
   $( window ).bind( 'load', function()
	{
		if	( window.location.search === '?coupon' || window.location.search === "?kupons" ) 
		{
			showCreateAccount();
            adaptFormForCoupon();
        }
	} );
  </script>
  <div class="filesfm" id="container">
   <noscript>
    <table class="alert_container alert_container_danger" style="display: block">
     <tr>
      <td>
       <i class="fa fa-exclamation-circle">
       </i>
      </td>
      <td>
       <div class="alert_main_text">
        Your browser does not support Javascript. To use this page turn on JavaScript or use another browser.
       </div>
      </td>
     </tr>
    </table>
   </noscript>
   <header class="overflow-hidden" id="header">
    <nav>
     <div class="container">
      <div class="nav-left">
       <a class="navbar-brand menu-link" href="/" onclick="gaev('HeaderClick', 'Logo', '');">
        <img alt="Files.fm" class="logo" src="/images/logo/filesfm_logo_full.svg?v=2"/>
       </a>
       <button aria-controls="mega-menu" aria-expanded="false" aria-label="Toggle menu" class="navbar-toggler collapsed" data-skip-hide-popups="1" data-target="#mega-menu" data-toggle="collapse" id="navbar-toggler" type="button">
        <img alt="Toggle file upload menu" data-skip-hide-popups="1" src="/images/header/grid.svg"/>
       </button>
      </div>
      <div class="navbar" id="main-nav">
       <ul>
        <li class="nav-right nav-button" data-priority="2">
         <a class="nav-link" href="/storage-plans" onclick="gaev('HeaderClick', 'Storage_plans_and_prices', '');">
          Features and pricing
         </a>
        </li>
        <li class="nav-right" data-priority="1">
         <div>
          <a href="javascript:void(0);" id="signup" onclick="gaev('HeaderClick', 'Sign_up', ''); showCreateAccount(); return false;" title="">
           Sign up
          </a>
         </div>
        </li>
        <li class="nav-right" data-priority="0">
         <div id="login">
          <a href="javascript:void(0);" id="login_button" onclick="gaev('HeaderClick', 'Log_in', ''); showSignIn(); return false;">
           <span id="login_button_text">
            Log in
           </span>
           <img alt="Login to upload files for free" src="/images/header/sign-in.svg"/>
          </a>
         </div>
        </li>
        <li class="nav-right dropdown-menu-container" data-priority="1" id="lang_switch">
         <span aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" onclick="gaev('HeaderClick', 'Lang_switch', 'Text'); $( this ).parent().find( '.dropdown-menu.dropdown-menu-right' ).toggle()" role="button">
          <img src="/images/header/globe.svg"/>
         </span>
         <div class="dropdown-menu dropdown-menu-right">
          <a class="dropdown-item" href="javascript:changeLanguage('en', 'EN');">
           <span>
            English
           </span>
          </a>
          <a class="dropdown-item" href="javascript:changeLanguage('es', 'ES');">
           <span>
            Español
           </span>
          </a>
          <a class="dropdown-item" href="javascript:changeLanguage('de', 'DE');">
           <span>
            Deutsch
           </span>
          </a>
          <a class="dropdown-item" href="javascript:changeLanguage('fi', 'FI');">
           <span>
            Suomi
           </span>
          </a>
          <a class="dropdown-item" href="javascript:changeLanguage('ru', 'РУ');">
           <span>
            Русский
           </span>
          </a>
          <a class="dropdown-item" href="javascript:changeLanguage('lv', 'LV');">
           <span>
            Latviešu
           </span>
          </a>
         </div>
        </li>
       </ul>
      </div>
      <script>
       function addAnonymousUploads()
                {
                    var addUploads = confirm('Would you like to add the uploads made from this computer anonymously to your account?');
                    if (addUploads == true)
                    {
                        $('.add_anonym_uplaods').val('1');
                    }
                }
      </script>
     </div>
     <div class="collapse" id="mega-menu">
      <div class="container event_ignore_click">
       <div class="transparent">
       </div>
       <ul id="nav-functional">
       </ul>
       <div class="other-apps">
        <ul>
         <li class="">
          <a href="/sync-share" onclick="gaev('HeaderClick', 'SyncShare', '');">
           <img alt="Store and sync files" class="dark" src="/images/header/store.svg"/>
           <img alt="Store and sync files" class="white" src="/images/header/store_white.svg"/>
           Cloud storage and Sync tool
          </a>
          <div class="description">
           <h5>
            Files.fm Sync app helps you securely share files between people and devices
           </h5>
           <p>
            Secure document management and remote access
           </p>
           <a href="/sync-share" onclick="gaev('HeaderClick', 'SyncShare', '');">
            Explore
           </a>
          </div>
         </li>
         <li class="">
          <a href="/sell-files" onclick="gaev('HeaderClick', 'SellFiles', '');">
           <img alt="Sell files" class="dark" src="/images/header/sell.svg"/>
           <img alt="Sell files" class="white" src="/images/header/sell_white.svg"/>
           Monetize your content
          </a>
          <div class="description">
           <h5>
            Create your personal content store in 5 mins and start selling
           </h5>
           <p>
            Convenient tools to sell digital downloads or views and receive payments
           </p>
           <a href="/sell-files" onclick="gaev('HeaderClick', 'SellFiles', '');">
            Explore
           </a>
          </div>
         </li>
         <li class="">
          <a href="/events" onclick="gaev('HeaderClick', 'SportEvents', '');">
           <img alt="Sport events photo publishing" class="dark" src="/images/header/events.svg"/>
           <img alt="Sport events photo publishing" class="white" src="/images/header/events_white.svg"/>
           Events
          </a>
          <div class="description">
           <h5>
            Event photo publishing powered with AI
           </h5>
           <p>
            Publish photos and allow event participants to find their pictures
           </p>
           <a href="/events" onclick="gaev('HeaderClick', 'SportEvents', '');">
            Explore
           </a>
          </div>
         </li>
         <li class="">
          <a href="/servers" onclick="gaev('HeaderClick', 'ServerRental', '');">
           <img alt="Secure private servers" class="dark" src="/images/header/publish.svg"/>
           <img alt="Secure private servers" class="white" src="/images/header/publish_white.svg"/>
           Virtual servers
          </a>
          <div class="description">
           <h5>
            Windows / Linux private server rental for business
           </h5>
           <p>
            to deploy web and other software solutions
           </p>
           <a href="/servers" onclick="gaev('HeaderClick', 'ServerRental', '');">
            Explore
           </a>
          </div>
         </li>
         <li class="">
          <a href="/backup" onclick="gaev('HeaderClick', 'Backup', '');">
           <img alt="Backup solutions" class="dark" src="/images/header/backup.svg"/>
           <img alt="Backup solutions" class="white" src="/images/header/backup_white.svg"/>
           Encrypted Backup tool
          </a>
          <div class="description">
           <h5>
            Encrypted file backup for computers and servers
           </h5>
           <p>
            Backup solution that allows you to create automatic backup copies with strong AES-256 encryption
           </p>
           <a href="/backup" onclick="gaev('HeaderClick', 'Backup', '');">
            Explore
           </a>
          </div>
         </li>
         <li class="">
          <a href="/upload-form" onclick="gaev('HeaderClick', 'Filebox', '');">
           <img alt="File upload form" class="dark" src="/images/header/receive.svg"/>
           <img alt="File upload form" class="white" src="/images/header/receive_white.svg"/>
           Receive and Integrate
          </a>
          <div class="description">
           <h5>
            File upload form for websites
           </h5>
           <p>
            Use your website to get photos, videos and documents from your customers in a convenient and customizable way
           </p>
           <a href="/upload-form" onclick="gaev('HeaderClick', 'Filebox', '');">
            Explore
           </a>
          </div>
         </li>
        </ul>
       </div>
      </div>
      <div class="overlay">
      </div>
     </div>
     <div id="navbar-css">
     </div>
    </nav>
   </header>
   <script src="/js/Captcha/Google/LazyGoogleReCaptchaV2.js">
   </script>
   <script>
    objLazyGoogleReCaptchaV2.strLanguageKey = "en";
                objLazyGoogleReCaptchaV2.strSiteKey = "6LflqXQUAAAAAP2CM782IqIgjzooEt9soXTCwxX2";
   </script>
   <link href="/css/sign_in_form.css?v=23" media="all" rel="stylesheet" type="text/css"/>
   <div aria-hidden="true" aria-labelledby="createaccount-header signin-header" class="modal-container" id="sign-in" role="dialog" style="display:none" tabindex="-1">
    <div class="modal-inner">
     <div id="sign-in-header">
      <span id="signin-header" onclick="if( !$( '#signin-modal-content' ).is( ':visible' ) ) showSignIn(); return false;">
       Log in
       <img alt="Login to upload files" id="signin-header_icon_inactive" src="/images/signup_form/log_in.svg"/>
       <img alt="Login to upload files" id="signin-header_icon_active" src="/images/signup_form/log_in_blue.svg"/>
      </span>
      <span id="createaccount-header" onclick="if( !$('#createaccount-modal-content').is(':visible')) showCreateAccount(); return false;">
       Sign up
      </span>
      <i class="fa fa-times-circle" id="sign-in-header_close" onclick="hideModal('sign-in')">
      </i>
     </div>
     <div id="createaccount-referral-container" style="display:none">
      <span class="referrer-container">
       You have been invited by
       <span id="createaccount-referral-referrer">
       </span>
       to create account and get 1GB
      </span>
      <hr/>
     </div>
     <div id="createaccount-message-container">
      <table class="alert_container alert_container_danger">
       <tr>
        <td>
         <i class="fa fa-exclamation-circle">
         </i>
        </td>
        <td>
         <div class="alert_main_text">
         </div>
        </td>
       </tr>
      </table>
     </div>
     <div class="modal-content" id="createaccount-modal-content">
      <div class="info">
      </div>
      <div class="signin-modal-content-social">
       <div class="signin-modal-content-social-title">
        Sign up with:
       </div>
       <div class="signin-modal-content-social-buttons-container">
        <div class="fb_button social_login_button" onclick="checkSocialLogin('facebook');">
         <img alt="Sign up with Facebook to upload files for free" src="/images/signup_form/facebook.svg"/>
         <span>
          Facebook
         </span>
        </div>
        <div class="standard_button google_button social_login_button" onclick="checkSocialLogin('google');">
         <img alt="Sign up with Google to upload files for free" src="/images/signup_form/google.svg"/>
         <span>
          Google
         </span>
        </div>
        <div class="justify_el">
        </div>
       </div>
      </div>
      <div class="or-delimiter">
       or
      </div>
      <div id="createaccount-simple-container">
       <input id="createaccount-referral-hash" name="inviter_hash" type="hidden"/>
       <input id="createaccount-referral-user" name="inviter_user" type="hidden"/>
       <div id="register_coupon_code">
        <div class="createaccount-input-container">
         <input id="register_coupon_code_input" name="coupon_code" placeholder="Coupon code" type="text"/>
        </div>
        <div class="createaccount-input-container">
        </div>
       </div>
       <div class="no-coupon-link">
        <a href="" onclick="revertFormFromCoupon(); return false">
         I do not have a coupon code »
        </a>
       </div>
       <div class="createaccount-input-container">
        <input autocomplete="off" id="createaccount_name" name="createaccount_name" placeholder="First name" type="text"/>
       </div>
       <div class="createaccount-input-container">
        <input autocomplete="off" id="createaccount_surname" name="createaccount_surname" placeholder="Last name" type="text"/>
       </div>
       <div class="createaccount-input-container">
        <input autocomplete="off" id="createaccount_email" name="createaccount_email" onchange="createUsername(this.value);" placeholder="E-mail" type="email"/>
       </div>
       <div class="createaccount-input-container">
        <input autocomplete="off" id="createaccount_password" name="createaccount_password" placeholder="Password" type="password"/>
       </div>
       <div class="justify_el">
       </div>
       <div id="your_public_profile_container_info_before">
        You can use your pofile page to publish and receive files
       </div>
       <div id="your_public_profile_container">
        <div id="your_public_profile_label_text_before">
         Your profile:
        </div>
        <div id="your_public_profile_label">
         <span id="your_public_profile_label_text">
          Your profile:
         </span>
         <span id="your_public_profile_label_host">
          https://files.fm/
         </span>
        </div>
        <div id="your_public_profile_field_input">
         <input autocomplete="off" id="createaccount_username" name="createaccount_username" onkeyup="usernameChanged();" placeholder="Username" type="text"/>
        </div>
       </div>
       <div id="createaccount_coupon_info" onclick="showSignIn()">
        I already have a Files.fm account »
       </div>
       <div class="error_msg" id="createaccount_error_msg">
       </div>
       <div class="sign_in_captcha" id="createaccount_captcha">
        <div class="google-recaptcha-v2-container" id="71381991-E63C-6F11-6EFC-15919344C453">
        </div>
        <script>
         function loadCreateAccountCaptcha()
                                {
                                    (function () {
            var init = function (){
                // Wait for include to load
                if ( typeof(objLazyGoogleReCaptchaV2) !== "undefined" )
                {
                    objLazyGoogleReCaptchaV2.initInstance (
                        "71381991-E63C-6F11-6EFC-15919344C453",
                        captchaCreateAccountLoaded,
                        captchaCreateAccountSubmitted
                    )
                }
                else
                {
                    setTimeout(init, 50);
                }
            };
            init();
        })();
                                }
        </script>
       </div>
       <div class="sign_in_submit_bn" onclick="checkCreateAccountForm();">
        Sign up
        <img alt="Sign up to upload files for free" src="/images/signup_form/sign_up.svg"/>
       </div>
       <div id="createaccount_info">
        Registered users can store files permanently and get more features. By using this site, you agree to the terms.
        <a href="/storage-plans" target="_blank">
         More info »
        </a>
       </div>
       <div id="createaccount_info_ico">
        Registred users can store and access files for unlimited time and choose to publish them in their profile.
        <a href="/storage-plans" target="_blank">
         More info »
        </a>
       </div>
       <div id="createaccount_termsandcondtotions_ico">
        By signing up, you agree to our
        <a href="/terms" target="blank">
         terms of use »
        </a>
       </div>
       <input id="register_from_ico" name="from_ico" type="hidden" value="0"/>
       <input class="login_return_url" name="login_return_url" type="hidden" value=""/>
       <input class="dont_redirect_after_login" name="dont_redirect_after_login" type="hidden" value=""/>
      </div>
     </div>
     <div class="modal-content" id="signin-modal-content">
      <table class="alert_container alert_container_info" id="signin-modal-content-error">
       <tr>
        <td>
         <i class="fa fa-exclamation-circle">
         </i>
        </td>
        <td>
         <div class="alert_main_text">
         </div>
        </td>
       </tr>
      </table>
      <div class="signin-modal-content-social">
       <div class="signin-modal-content-social-title">
        Identify via:
       </div>
       <div class="signin-modal-content-social-buttons-container">
        <div class="standard_button fb_button social_login_button" onclick="checkSocialLogin('facebook');">
         <img alt="Login with Facebook to upload files for free" src="/images/signup_form/facebook.svg"/>
         <span>
          Facebook
         </span>
        </div>
        <div class="standard_button google_button social_login_button" onclick="checkSocialLogin('google');">
         <img alt="Login with Google to upload files for free" src="/images/signup_form/google.svg"/>
         <span>
          Google
         </span>
        </div>
        <div class="justify_el">
        </div>
       </div>
      </div>
      <div class="or-delimiter">
       or
      </div>
      <div id="signin-modal-content-simple">
       <form id="login_filesfm" onsubmit="checkSignInForm(); return false;">
        <div id="signin_input_container">
         <input id="l_coupon_code" name="coupon_code" placeholder="Coupon code" type="text"/>
         <div class="no-coupon-link">
          <a href="" onclick="revertFormFromCoupon(); return false">
           I do not have a coupon code »
          </a>
         </div>
         <input id="l_user" name="l_user" placeholder="Username or e-mail" type="text"/>
         <input id="l_pass" name="l_pass" placeholder="Password" type="password"/>
        </div>
        <div id="signin_coupon_info" onclick="showCreateAccount()">
         I do not have a Files.fm account »
        </div>
        <div class="error_msg" id="signin_error_msg">
        </div>
        <input style="display: none;" type="submit"/>
        <div class="sign_in_submit_bn" onclick="checkSignInForm()">
         Log in
         <img alt="Sign up" src="/images/signup_form/sign_up.svg"/>
        </div>
       </form>
       <div id="signin-modal-link-container">
        <a href="" id="signin-modal-forgot-link" onclick="showForgotPassword(); return false">
         <span>
          Forgot password
         </span>
         <img alt="Forgot password" src="/images/signup_form/link_arrows.svg"/>
        </a>
        <a href="javascript:void(0)" id="signin-modal-coupon-link" onclick="adaptFormForCoupon()">
         <span>
          Use a coupon
         </span>
         <img alt="Use a coupon" src="/images/signup_form/link_arrows.svg"/>
        </a>
       </div>
       <input class="login_return_url" name="login_return_url" type="hidden" value=""/>
       <input class="dont_redirect_after_login" name="dont_redirect_after_login" type="hidden" value=""/>
      </div>
     </div>
     <div class="modal-content" id="forgotpassword-modal-content">
      <form onsubmit="return false;">
       <div id="forgotpassword_text">
        Enter your email address to reset your password. You may need to check your spam folder::
       </div>
       <input id="forgotpassword_email" placeholder="E-mail" type="text"/>
       <div class="error_msg" id="forgotpassword_error_msg">
       </div>
       <div class="sign_in_submit_bn" onclick="checkForgotPasswordForm();">
        Send recovery email
        <img alt="Send recovery email" src="/images/signup_form/sign_up.svg"/>
       </div>
      </form>
     </div>
     <div class="modal-content" id="addcookieuploads-modal-content">
      <div id="addcookieuploads_info">
       Would you like to add the uploads made from this computer anonymously to your account?
      </div>
      <div id="addcookieuploads_button_container">
       <div class="addcookieuploads_button" id="addcookieuploads_button_yes" onclick="setAddCookieUploads(true)">
        Yes
       </div>
       <div class="addcookieuploads_button" id="addcookieuploads_button_no" onclick="setAddCookieUploads(false)">
        No
       </div>
      </div>
     </div>
     <div class="modal-content" id="createaccountsuccessmessage-modal-content">
      <div id="createaccountsuccessmessage_info">
       <div>
        Thank you! Your Files.fm account is created and an e-mail with account access data is sent to you.
       </div>
       <div>
        Close this form, fill in the information about the folder and press the button "Save and send the link".
       </div>
      </div>
      <div id="createaccountsuccessmessage_button" onclick="hideModal('sign-in')">
       Close
      </div>
     </div>
     <div class="modal-content" id="twofactor_authcode-modal-content" style="display:none">
      <div id="twofactor_authcode_container">
       <div class="error_msg" id="twofactor_error_msg">
       </div>
       <div class="twofactor_code_required_message">
        Please enter the two factor authentication code from your email!
       </div>
       <input id="twofactorcode" name="twofactorcode" placeholder="Authentification code" type="text"/>
       <div class="sign_in_submit_bn" onclick="trySignIn( $('#twofactorcode').val() )">
        Log in
        <img alt="Log in" src="/images/signup_form/sign_up.svg"/>
       </div>
       <div id="twofactor-modal-link-container">
        <a href="" id="twofactor-modal-goback-link" onclick="bolPrevFinished_checkSignInForm = true; showSignIn(); return false">
         <span>
          Go back
         </span>
        </a>
       </div>
      </div>
     </div>
     <div style="display: none">
      <form action="/" id="login_facebook" method="get">
       <input name="fb_login" type="hidden" value=""/>
       <input class="add_anonym_uplaods" name="add_anonym_uplaods" type="hidden" value=""/>
       <input class="login_return_url" name="login_return_url" type="hidden" value=""/>
       <input class="dont_redirect_after_login" name="dont_redirect_after_login" type="hidden" value=""/>
       <input name="inviter_user" type="hidden" value=""/>
       <input name="inviter_hash" type="hidden" value=""/>
       <input class="standard_button" style="width: 100%" type="submit" value="Log in with Facebook"/>
      </form>
      <form action="/" id="login_google" method="get">
       <input name="google_login" type="hidden" value=""/>
       <input class="add_anonym_uplaods" name="add_anonym_uplaods" type="hidden" value=""/>
       <input class="login_return_url" name="login_return_url" type="hidden" value=""/>
       <input class="dont_redirect_after_login" name="dont_redirect_after_login" type="hidden" value=""/>
       <input name="inviter_user" type="hidden" value=""/>
       <input name="inviter_hash" type="hidden" value=""/>
       <input class="standard_button" style="width: 100%" type="submit" value="Log in with Google"/>
      </form>
     </div>
     <div id="sign-in_disable_form">
      <i class="fa fa-spinner fa-spin">
      </i>
     </div>
    </div>
    <div class="modal-close" data-close="Close" data-dismiss="modal" id="sign-in_modal_close">
    </div>
   </div>
   <script>
    var bolRewriteUrlHash = true;
	
    var bolSigninCaptchaRequired = Boolean();
    var bolSignupCaptchaRequired = Boolean(1);
    
    var strSinginCaptchaContainerID = 'signin_captcha';
    var strSignupCaptchaContainerID = 'createaccount_captcha';
    
    
	function showCreateAccount( bolICO )
	{
        if( typeof bolICO === 'undefined' )
        {
            // if switching forms, get bolICO from other form
            bolICO = $( "#register_from_ico" ).val() > 0;
        }
        
        $( '#signin-header' ).removeClass( 'active' );
        $( '#createaccount-header' ).addClass( 'active' );

		$( '#signin-modal-content' ).hide();
		$( '#forgotpassword-modal-content' ).hide();
		$( '#addcookieuploads-modal-content' ).hide();
		$( '#createaccountsuccessmessage-modal-content' ).hide();

		$('#createaccount-modal-content').show();
		
		if( bolICO )
        {
            $( "#business_account_chechbox_container" ).hide();
            $( "#createaccount_info_ico" ).show();
            $( "#createaccount_termsandcondtotions_ico" ).show( );
            $( "#createaccount_termsandcondtotions" ).hide( );
            $( "#createaccount_info" ).hide();
            $( "#register_from_ico" ).val( 1 );
        }
        else
        {
            $( "#business_account_chechbox_container" ).show();
            $( "#createaccount_termsandcondtotions" ).show( );
            $( "#createaccount_termsandcondtotions_ico" ).hide( );
            $( "#createaccount_info_ico" ).hide();
            $( "#createaccount_info" ).show();
            $( "#register_from_ico" ).val( 0 );
        }

		showModal( 'sign-in' );
  
		if ( bolSignupCaptchaRequired )
            loadCreateAccountCaptcha();
		
		if ( bolRewriteUrlHash )
		{
			window.location.hash = 'sign_up';
		}
	}
	
	function setRegisterReferral( strInviter, hash, strInviteeEmail )
    {
        $( "#createaccount-referral-referrer" ).text( strInviter );
        $( "#createaccount-referral-container" ).show();
        
        if ( strInviteeEmail )
        {
            $( "#createaccount_email" )
                .val( strInviteeEmail )
                .attr( 'disabled', 'true' );
        }
    
        $("input[name='inviter_user']").val( strInviter );
        $("input[name='inviter_hash']").val( hash );
    }

	function showSignIn( bolICO )
	{
	    if( typeof bolICO === 'undefined' )
        {
            // if switching forms, get bolICO from other form
            bolICO = $( "#register_from_ico" ).val() > 0;
        }

        $( '#signin-header' ).addClass( 'active' );
        $( '#createaccount-header' ).removeClass( 'active' );
        
	    	    if( typeof closeGallery === "function" )
        {
            closeGallery();
        }
        		
		$( '#createaccount-modal-content' ).hide();
		$( '#forgotpassword-modal-content' ).hide();
		$( '#addcookieuploads-modal-content' ).hide();
		$( '#createaccountsuccessmessage-modal-content' ).hide();
        $( '#twofactor_authcode-modal-content' ).hide();
        
        if ( bolICO )
        {
            $( "#register_from_ico" ).val( 1 );
        }
        else
        {
            $( "#register_from_ico" ).val( 0 );
        }

		$( '#signin-modal-content' ).show();

		showModal( 'sign-in' );
  
		if ( bolSigninCaptchaRequired )
            loadSignInCaptcha();
		
		if ( bolRewriteUrlHash )
		{
			window.location.hash = 'log_in';
		}
	}
    
    /*** Start: Captcha callbacks ***/
    
    function captchaCreateAccountLoaded( bolSuccess )
    {
        if ( ! bolSuccess )
        {
            addError(strSignupCaptchaContainerID, "createaccount_error_msg", "An error has occurred! Please check your internet connection and try again later. If the problem does not resolve, please contact support@files.fm");
        }
        else
        {
            removeError( strSignupCaptchaContainerID );
            removeAllErrors( "createaccount_error_msg" );
            $("#"+strSignupCaptchaContainerID).append('<input type="hidden" class="captcha_response" value="" />');
        }
    }
    
    function captchaCreateAccountSubmitted( strResponse )
    {
        removeError( strSignupCaptchaContainerID );
        removeAllErrors( "createaccount_error_msg" );
        $('#' + strSignupCaptchaContainerID + ' .captcha_response').val( strResponse );
    }
    
    
    function captchaSignInLoaded( bolSuccess )
    {
        if ( ! bolSuccess )
        {
            addError(strSinginCaptchaContainerID, "signin_error_msg", "An error has occurred! Please check your internet connection and try again later. If the problem does not resolve, please contact support@files.fm");
        }
        else
        {
            removeError( strSinginCaptchaContainerID );
            removeAllErrors( "signin_error_msg" );
            $("#"+strSinginCaptchaContainerID).append('<input type="hidden" class="captcha_response" value="" />');
        }
    }
    function captchaSignInSubmitted( strResponse )
    {
        removeError( strSinginCaptchaContainerID );
        removeAllErrors( "signin_error_msg" );
        $('#' + strSinginCaptchaContainerID + ' .captcha_response').val( strResponse );
    }
    /*** End: Captcha callbacks ***/
    
    
	function revertFormFromCoupon()
    {
	    $( '#sign-in' ).removeClass( 'coupun_form' );
    }
    
    function adaptFormForCoupon()
    {
	    $( '#sign-in' ).addClass( 'coupun_form' );
    }

	function showForgotPassword( strEmail )
	{
	    if ( typeof strEmail != 'undefined' )
	    {
			$( '#sign-in-header' ).hide();
			$( '#forgotpassword_email' ).val( strEmail );
	    }

		$( '#signin-header' ).insertBefore( $( '#createaccount-header' ) );
		
		$( '#createaccount-modal-content' ).hide();
		$( '#signin-modal-content' ).hide();
		$( '#addcookieuploads-modal-content' ).hide();
		$( '#createaccountsuccessmessage-modal-content' ).hide();

		$( '#forgotpassword-modal-content' ).show();

		showModal( 'sign-in' );

		if ( bolRewriteUrlHash )
		{
			window.location.hash = 'forgot_password';
		}
	}

	function showAddCookieUploads()
	{
		$( '#createaccount-modal-content' ).hide();
		$( '#forgotpassword-modal-content' ).hide();
		$( '#signin-modal-content' ).hide();
		$( '#createaccountsuccessmessage-modal-content' ).hide();

		$( '#addcookieuploads-modal-content' ).show();

		showModal( 'sign-in' );
	}

	function showCreateAccountSuccessMessage()
	{
		$( '#createaccount-modal-content' ).hide();
		$( '#forgotpassword-modal-content' ).hide();
		$( '#signin-modal-content' ).hide();
		$( '#addcookieuploads-modal-content' ).hide();
		
		$( '#createaccountsuccessmessage-modal-content' ).show();
		
		showModal( 'sign-in' );
	}


	var bolHasCookieUploads = false;
	var bolAddCookieUploadsAnswered = false;
	var bolAddCookieUploads = false;
	var strActiveForm = '';

	function setAddCookieUploads(val) {

		bolAddCookieUploads = val;
		bolAddCookieUploadsAnswered = true;

		if (val) {
			$('#login_facebook .add_anonym_uplaods').val('1');
			$('#login_google .add_anonym_uplaods').val('1');
			$('#login_draugiem .add_anonym_uplaods').val('1');
		}

		if (strActiveForm == 'signin') {
			checkSignInForm();
			showSignIn();
		}
		else if (strActiveForm == 'createaccount') {
			checkCreateAccountForm();
			showCreateAccount();
		}
		else if (strActiveForm == 'facebook' || strActiveForm == 'google' || strActiveForm == 'draugiem') {

			checkSocialLogin(strActiveForm);
		}
	}


	var bolPrevFinished_checkCreateAccountForm = true;
	function checkCreateAccountForm(bolCouponCheckResult) {
        
        var jqCaptchaResultInput = $('#' + strSignupCaptchaContainerID + ' .captcha_response');
	    
		if ( bolCouponCheckResult === undefined )
		{
			bolCouponCheckResult = null;
		}

		if (bolPrevFinished_checkCreateAccountForm)
		{
			bolPrevFinished_checkCreateAccountForm = false;
			$('#sign-in_disable_form').show();
   
			var bolCreateBusinessAccountDataOk = true;
			if (bolCreateBusinessAccount)
			{
				bolCreateBusinessAccountDataOk = false;

				if ($('#createaccount_company_name').val().trim().length < 4 ) {

					addError('createaccount_company_name', 'createaccount_error_msg', 'Please enter a company name that is at least 4 characters long.');
				}
				else {

					removeError('createaccount_company_name');

					if ($('#createaccount_company_phone').val().trim().length < 4 ) {

						addError('createaccount_company_phone', 'createaccount_error_msg', 'The company phone number must be at least 4 digits long!');
					}
					else {

						removeError('createaccount_company_phone');

						bolCreateBusinessAccountDataOk = true;
					}
				}
			}
            
            if ( $( "#register_coupon_code" ).css("display") !== "none" && !bolCouponCheckResult )
            {
                // coupon field is visible -> so it must be filled
                if( bolCouponCheckResult === false )
                {
                    addError( 'register_coupon_code_input', 'createaccount_error_msg', 'The coupon code you entered is invalid or already used!' );
                    
                    bolPrevFinished_checkCreateAccountForm = true;
                    $('#sign-in_disable_form').hide();
                    return;
                }
                else if( !bolCouponCheckResult )
                {
                    removeError( 'register_coupon_code_input' );
                    
                    bolPrevFinished_checkCreateAccountForm = true;
                    verifyCouponCode( 'register_coupon_code_input', 'createaccount_error_msg', checkCreateAccountForm );
                    return;
                }                
            }
			
			if ( bolCreateBusinessAccountDataOk )
			{
				if ($('#createaccount_name').val().trim().length < 2 ) {

					addError('createaccount_name', 'createaccount_error_msg', 'Please enter a name that is at least 2 characters long.');

					bolPrevFinished_checkCreateAccountForm = true;
					$('#sign-in_disable_form').hide();
				}
				else {

					removeError('createaccount_name');

					if ($('#createaccount_surname').val().trim().length < 2 ) {

						addError('createaccount_surname', 'createaccount_error_msg', 'Please enter a surname that is at least 2 characters long.');

						bolPrevFinished_checkCreateAccountForm = true;
						$('#sign-in_disable_form').hide();
					}
					else {
                        function isURL(url) {
                           return url.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g) !== null;
                        }
                        
                        if ( isURL( $( '#createaccount_surname' ).val().trim() ) )
                        {
                            addError('createaccount_surname', 'createaccount_error_msg', 'Invalid name!');
                            
                            bolPrevFinished_checkCreateAccountForm = true;
                            $('#sign-in_disable_form').hide();
                            return;
                        }
                        else 
                        {
                            removeError( 'createaccount_surname' );
                        }
                        
                        if ( isURL( $( '#createaccount_name' ).val().trim() ) )
                        {
                            addError('createaccount_name', 'createaccount_error_msg', 'Invalid name!');
                            
                            bolPrevFinished_checkCreateAccountForm = true;
                            $('#sign-in_disable_form').hide();
                            return;
                        }
                        else
                        {
                            removeError( 'createaccount_name' );
                        }
					    
						removeError('createaccount_surname');

						if (!validateEmail($('#createaccount_email').val())) {

							addError('createaccount_email', 'createaccount_error_msg', 'Enter a valid e-mail!');

							bolPrevFinished_checkCreateAccountForm = true;
							$('#sign-in_disable_form').hide();
						}
						else {
				            new EmailValidator( $('#createaccount_email').val(), true)
                                .setOnValidCB(function(){
                                    $.ajax({
                                    type: "POST",
                                    dataType: "json",
                                    url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
                                    data: {
                                        'check_email' : true ,
                                        'email' : $('#createaccount_email').val()
                                    },
                                    success: function(data) {
                                        if (data['status'] != 'ok') {
                                            var strError = "This e-mail address is already taken!";
                                            strError += "<br/><a href='' onclick='showForgotPassword(); return false'>" + 'Forgot password' + "</a>";

                                            addHTMLError('createaccount_email', 'createaccount_error_msg', strError );

                                            bolPrevFinished_checkCreateAccountForm = true;
                                            $('#sign-in_disable_form').hide();
                                        }
                                        else {

                                            removeError('createaccount_email');

                                            if ($('#createaccount_username').val().trim().length < 4 ) {

                                                addError('createaccount_username', 'createaccount_error_msg', 'Please enter a username that is at least 4 characters long!');

                                                bolPrevFinished_checkCreateAccountForm = true;
                                                $('#sign-in_disable_form').hide();
                                            }
                                            else {

                                                if (!validateUsername($('#createaccount_username').val().trim())) {

                                                    addError('createaccount_username', 'createaccount_error_msg', 'Can only contain "a-z", "A-Z", "0-9" and "_.@-"');

                                                    bolPrevFinished_checkCreateAccountForm = true;
                                                    $('#sign-in_disable_form').hide();
                                                }
                                                else
                                                {
                                                    $.ajax({
                                                        type: "POST",
                                                        dataType: "json",
                                                        url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
                                                        data: {
                                                            'check_username' : true ,
                                                            'username' : $('#createaccount_username').val()
                                                        },
                                                        success: function(data) {
                                                            if (data['status'] != 'ok') {

                                                                addError('createaccount_username', 'createaccount_error_msg', 'This username is already taken! Please enter a different one!');

                                                                bolPrevFinished_checkCreateAccountForm = true;
                                                                $('#sign-in_disable_form').hide();
                                                            }
                                                            else {

                                                                removeError('createaccount_username');

                                                                if ($('#createaccount_password').val().trim().length < 4 ) {

                                                                    addError('createaccount_password', 'createaccount_error_msg', 'Please enter a password that is at least 4 characters long!');

                                                                    bolPrevFinished_checkCreateAccountForm = true;
                                                                    $('#sign-in_disable_form').hide();
                                                                }
                                                                else
                                                                {
                                                                    removeError('createaccount_password');
    
                                                                    var bolCaptchaOk = true;
                                                                    if ( bolSignupCaptchaRequired )
                                                                    {
                                                                        bolCaptchaOk = false;
                                                                        
                                                                        if ( jqCaptchaResultInput.length && jqCaptchaResultInput.val().length )
                                                                        {
                                                                            bolCaptchaOk = true;
                                                                            removeError( strSignupCaptchaContainerID );
                                                                        }
                                                                        else
                                                                        {
                                                                            if ( ! jqCaptchaResultInput.length )
                                                                            {
                                                                                addError( strSignupCaptchaContainerID, "createaccount_error_msg", "An error has occurred! Please check your internet connection and try again later. If the problem does not resolve, please contact support@files.fm" );
                                                                            }
                                                                            else
                                                                            {
                                                                                addError( strSignupCaptchaContainerID, 'createaccount_error_msg', 'Please fill out Captcha!' );
                                                                            }
                                                                        }
                                                                    }
                                                                    
                                                                    if ( ! bolCaptchaOk )
                                                                    {
                                                                        bolPrevFinished_checkCreateAccountForm = true;
                                                                        $( '#sign-in_disable_form' ).hide();
                                                                    }
                                                                    else
                                                                    {
                                                                        removeError( 'createaccount_password' );
                                                                        removeError( strSignupCaptchaContainerID );
        
                                                                        removeAllErrors( 'createaccount_error_msg' );
        
        
                                                                        if ( bolHasCookieUploads == true && bolAddCookieUploadsAnswered == false )
                                                                        {
            
                                                                            strActiveForm = 'createaccount';
                                                                            showAddCookieUploads();
            
                                                                            bolPrevFinished_checkCreateAccountForm = true;
                                                                            $( '#sign-in_disable_form' ).hide();
                                                                        }
                                                                        else
                                                                        {
                                                                            var postData = {
                                                                                'create_account': true,
                                                                                'username': $( '#createaccount_username' ).val(),
                                                                                'email': $( '#createaccount_email' ).val(),
                                                                                'password': $( '#createaccount_password' ).val(),
                                                                                'add_cookie_uploads': bolAddCookieUploads,
                                                                                'first_name': $( '#createaccount_name' ).val(),
                                                                                'surname': $( '#createaccount_surname' ).val(),
                                                                                'create_business_account': bolCreateBusinessAccount,
                                                                                'company_name': $( '#createaccount_company_name' ).val(),
                                                                                'company_phone': $( '#createaccount_company_phone' ).val(),
                                                                                'company_country': $( '#createaccount_company_country' ).val(),
                                                                                'from_ico': $( "#register_from_ico" ).val() ,
                                                                                'recaptcha_response': (jqCaptchaResultInput.length ? jqCaptchaResultInput.val() : '')
                                                                            };

                                                                            // add referral fields if the container is visible
                                                                            if ( $( "#createaccount-referral-container" ).css( "display" ) !== "none" )
                                                                            {
                                                                                postData[ 'inviter_hash' ] = $( "#createaccount-referral-hash" ).val();
                                                                                postData[ 'inviter_user' ] = $( "#createaccount-referral-user" ).val();
                                                                            }
                                                                            
                                                                            if ( $( "#register_coupon_code" ).css( "display" ) !== "none" )
                                                                            {
                                                                                postData.coupon_code = $( "#register_coupon_code_input" ).val().trim();
                                                                            }

                                                                                        
                                                                            $.ajax( {
                                                                                type: "POST",
                                                                                dataType: "json",
                                                                                url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
                                                                                data: postData,
                                                                                success: function ( data )
                                                                                {
                                                                                    if ( data[ 'status' ] == 'ok' )
                                                                                    {
                        																                        																
                                                                                        if ( $( '.dont_redirect_after_login' ).val() == '' )
                                                                                        {
                            
                                                                                            if ( $( '.login_return_url' ).val() != '' )
                                                                                            {
                                
                                                                                                if (
                                                                                                    ( "/" + $( '.login_return_url' ).val() ).search( window.location.pathname ) != -1 &&
                                                                                                    $( '.login_return_url' ).val() != 'sync-share?create_cloud_files_user' &&
                                                                                                    $( '.login_return_url' ).val() != 'library?after_login' &&
                                                                                                    ( "/" + $( '.login_return_url' ).val() ).search( 'lifetime-storage' ) == -1
                                                                                                )
                                                                                                {
                                                                                                    if ( location.hash == '#sign_up' )
                                                                                                    {
                                                                                                        location.hash = '';
                                                                                                    }
                                    
                                                                                                    if ( $( '.login_return_url' ).val() == 'storage-plans#subscribe' )
                                                                                                    {
                                                                                                        location.hash = 'subscribe';
                                                                                                    }
                                    
                                                                                                    location.reload();
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    window.location = "https://files.fm/" + $( '.login_return_url' ).val();
                                                                                                }
                                
                                                                                            }
                                                                                            else
                                                                                            {
                                
                                                                                                window.location = "/account";
                                                                                            }
                                                                                        }
                                                                                        else
                                                                                        {
                            
                                                                                            showCreateAccountSuccessMessage();
                            
                                                                                            bolPrevFinished_checkCreateAccountForm = true;
                                                                                            $( '#sign-in_disable_form' ).hide();
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                        
                                                                                        addError( 'createaccount_error_msg', 'createaccount_error_msg', 'There was an error, contact the Files.fm team!' );
                        
                                                                                        bolPrevFinished_checkCreateAccountForm = true;
                                                                                        $( '#sign-in_disable_form' ).hide();
                                                                                    }
                                                                                },
                                                                                error: function ( data )
                                                                                {
                    
                                                                                    addError( 'createaccount_error_msg', 'createaccount_error_msg', 'An error occurred. Please try again or contact support@files.fm!' );
                    
                                                                                    bolPrevFinished_checkCreateAccountForm = true;
                                                                                    $( '#sign-in_disable_form' ).hide();
                                                                                }
                                                                            } );
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        } ,
                                                        error: function(data) {

                                                            addError('createaccount_error_msg', 'createaccount_error_msg', 'An error occurred. Please try again or contact support@files.fm!');

                                                            bolPrevFinished_checkCreateAccountForm = true;
                                                            $('#sign-in_disable_form').hide();
                                                        }
                                                    });
                                                }
                                            }
                                        }
                                    } ,
                                    error: function(data) {

                                        addError('createaccount_error_msg', 'createaccount_error_msg', 'An error occurred. Please try again or contact support@files.fm!');

                                        bolPrevFinished_checkCreateAccountForm = true;
                                        $('#sign-in_disable_form').hide();
                                    }
                                })
                                }).setOnInvalidCB(function() {
                                    bolPrevFinished_checkCreateAccountForm = true;
                                    $('#sign-in_disable_form').hide();
                                    addError('createaccount_email', 'createaccount_error_msg', 'Enter a valid e-mail!');
                                }).setModalID("sign-in").run();
						}
					}
				}
			}
			else
			{
				bolPrevFinished_checkCreateAccountForm = true;
				$('#sign-in_disable_form').hide();
			}
		}
	}

	function getSigninReturnRedirectUrl()
    {
        if ($('.login_return_url').val() != '') {

            if ($('.dont_redirect_after_login').val() == '') {
                if (
                    ("/"+$('.login_return_url').val()).search(window.location.pathname) != -1 &&
                    $('.login_return_url').val() != 'sync-share?create_cloud_files_user' && 
                    $('.login_return_url').val() == 'storage-plans#subscribe' 
                )
                {
                    return '#subscribe';
                }
                else {
                    return $('.login_return_url').val();
                }
            }
        }

        
	    return false;
    }
     
    function verifyCouponCode( strCouponInputID, strErrorID, fnCallback, bolResult )
    {
    	if ( bolResult === undefined )
		{
    		bolResult = null;
		}

        var strCouponInputSelector = "#" + strCouponInputID;
        
        var onError = function ()
        {
            addError( strCouponInputID, strErrorID, 'Invalid coupon code!' );
            
            bolPrevFinished_checkCreateAccountForm = true;
            $( '#sign-in_disable_form' ).hide();
        };
        
        if ( bolResult === false )
        {
            onError();
            return false
        }
        else if ( bolResult === true )
        {
            return true;
        }
        
        if ( $( strCouponInputSelector ).css( "display" ) !== "none" )
        {
            // coupon field is visible -> so it must be filled
            if ( $( strCouponInputSelector ).val().trim().length !== 8 )
            {
                onError();
                return false
            }
            else
            {
                if ( !bolResult )
                {
                    removeError( strCouponInputID );
                    
                    $.ajax( {
                        type: "POST",
                        dataType: "json",
                        url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
                        global: false,
                        data: {
                            'check_coupon': true,
                            'coupon_code': $( strCouponInputSelector ).val().trim()
                        },
                        success: function ( data )
                        {
                            fnCallback( typeof data[ 'status' ] !== "undefined" && data[ 'status' ] === 'ok' );
                        },
                        error: function ( )
                        {
                            fnCallback( false );
                        }
                    } );
                    return false;
                }
                else
                {
                    return true;
                }
            }
        }
        else
        {
            return true;
        }
    }

	var bolPrevFinished_checkSignInForm = true;

    function trySignIn( strTwoFactorAuthCode )
    {
        if ( typeof strTwoFactorAuthCode === "undefined" )
        {
            strTwoFactorAuthCode = "";
        }

        var jqCaptchaResultInput = $( '#' + strSinginCaptchaContainerID + ' .captcha_response' );

        removeAllErrors( 'signin_error_msg' );
       
        var strReturnUrl = getSigninReturnRedirectUrl();

        var objPostData = {
            'signin': true,
            'username': $( '#l_user' ).val(),
            'password': $( '#l_pass' ).val(),
            'remember_me': $( '#remember_me' ).prop( 'checked' ),
            'from_ico': $( '#register_from_ico' ).val(),
            'add_cookie_uploads': bolAddCookieUploads,
            'recaptcha_response': ( jqCaptchaResultInput.length ? jqCaptchaResultInput.val() : '' )
        };

        if ( strTwoFactorAuthCode )
        {
            objPostData[ 'two_factor_auth_code' ] = strTwoFactorAuthCode;
        }

        if ( strReturnUrl )
        {
            objPostData[ 'override_return_url' ] = strReturnUrl;
        }

        if ( $( "#l_coupon_code" ).css( "display" ) !== "none" )
        {
            objPostData.coupon_code = $( "#l_coupon_code" ).val().trim();
        }

        
        $.ajax( {
            type: "POST",
            dataType: "json",
            url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
            crossDomain: true,
            data: objPostData,
            success: function ( data )
            {
                var strAdditionalMessage = "";
                
                if ( typeof data[ 'login_attempts_left' ] !== 'undefined' )
                {
                    var strPartOne = +data[ 'login_attempts_left' ] === 1 ? ' You have ' : ' You have ';
                    var strPartTwo = +data[ 'login_attempts_left' ] === 1 ? ' login attempt left before your account is automatically blocked.' : ' more login attempts before your account is automatically blocked.';

                    strAdditionalMessage = strPartOne + data[ 'login_attempts_left' ] + strPartTwo;
                }
                
                if ( ( data[ 'status' ] === 'ok' || data[ 'status' ] === 'missing_account_data' ) && typeof data[ 'redirect_to' ] !== 'undefined' )
                {
                    
                    if ( data[ 'redirect_to' ].substring( 0, 17 ) == '/lifetime-storage' )
                    {
                        data[ 'redirect_to' ] += '?after_login';
                    }

                    window.location = data[ 'redirect_to' ];
                }
                else if ( data[ 'status' ] === 'invalid_auth_code' )
                {
                    $( '#twofactor_error_msg' ).text( 'The entered code is invalid! Please try again!' + strAdditionalMessage ).show();
                    bolPrevFinished_checkSignInForm = true;
                    $( '#sign-in_disable_form' ).hide();
                }
                else
                {
                    var $errorCont;
                    if( strTwoFactorAuthCode )
                    {
                        $errorCont = $( '#twofactor_error_msg' );
                    }
                    else
                    {
                        $errorCont = $( '#signin_error_msg' );
                    }
                    
                    if ( typeof data[ "message" ] === "undefined" )
                    {
                       $errorCont.text( 'Incorrect username or password! Access can be restored via your email address.' + strAdditionalMessage );
                       console.log( 'SIGNIN ERROR CODE : 1' );
                    }
                    else
                    {
                        $errorCont.text( data[ "message" ] + strAdditionalMessage );
                    }
                    $errorCont.show();

                    bolPrevFinished_checkSignInForm = true;
                    $( '#sign-in_disable_form' ).hide();
                }
            },
            error: function ( data )
            {

                $( '#signin_error_msg' ).text( 'An error occurred. Please try again or contact support@files.fm!' );
                $( '#signin_error_msg' ).show();

                bolPrevFinished_checkSignInForm = true;
                $( '#sign-in_disable_form' ).hide();
            }
        } );
    }

    function show2FAPrompt()
    {
        $( '#createaccount-modal-content' ).hide();
        $( '#forgotpassword-modal-content' ).hide();
        $( '#addcookieuploads-modal-content' ).hide();
        $( '#createaccountsuccessmessage-modal-content' ).hide();
        $( '#signin-modal-content' ).hide();

        $( '#twofactor_authcode-modal-content' ).show();
    }
    
	function checkSignInForm(bolCouponCheckResult) {

		if ( bolCouponCheckResult === undefined )
		{
			bolCouponCheckResult = null;
		}
        
        var jqCaptchaResultInput = $('#' + strSinginCaptchaContainerID + ' .captcha_response');
        
		if (bolPrevFinished_checkSignInForm) {

			bolPrevFinished_checkSignInForm = false;
            $('#sign-in_disable_form').show();
            
            if ( $( "#l_coupon_code" ).css("display") !== "none" )
            {
                if ( bolCouponCheckResult )
                {
                    $( "#signin_error_msg" ).hide();
                }
                else if ( bolCouponCheckResult === null )
                {
                    bolPrevFinished_checkSignInForm = true;
                    return verifyCouponCode( "l_coupon_code", "signin_error_msg", checkSignInForm, bolCouponCheckResult );
                }
                else
                {
                    $( "#signin_error_msg" )
                        .text( "The coupon code you entered is invalid or already used!" )
                        .show();
                    bolPrevFinished_checkSignInForm = true;
                    $( '#sign-in_disable_form' ).hide();
                    return false;
                }
            }
                
			bolError = false;

			if ($('#l_user').val() == '' ) {

				$('#l_user').addClass( 'has_error' );
				bolError = true;
			}
			else {
				$('#l_user').removeClass( 'has_error' );
			}

			if ($('#l_pass').val() == '' ) {
				$('#l_pass').addClass( 'has_error' );
				bolError = true;
			}
			else {
				$('#l_pass').removeClass( 'has_error' );
			}
            
            
            if ( bolSigninCaptchaRequired )
            {
                if ( jqCaptchaResultInput.length === 0 )
                {
                    bolError = true;
    
                    addError(strSinginCaptchaContainerID, "signin_error_msg", "An error has occurred! Please check your internet connection and try again later. If the problem does not resolve, please contact support@files.fm");
                }
                else if ( jqCaptchaResultInput.val().length === 0 )
                {
                    bolError = true;
    
                    addError(strSinginCaptchaContainerID, "signin_error_msg", "Please fill in the captcha field!");
                }
                else
                {
                    removeError( strSinginCaptchaContainerID );
                }
            }

			if (!bolError) {

				$.ajax({
					type: "POST",
					dataType: "json",
					url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
                    crossDomain: true,
                    data: {
						'check_signin' : true ,
						'username' : $('#l_user').val() ,
						'password' : $('#l_pass').val()
					},
					success: function(data) {
                        if ( data[ 'status' ] === 'ok' )
                        {
                            if ( bolHasCookieUploads == true && bolAddCookieUploadsAnswered == false && data[ 'show_add_cookie_uploads' ] == true )
                            {
                                strActiveForm = 'signin';
                                showAddCookieUploads();

                                bolPrevFinished_checkSignInForm = true;
                                $( '#sign-in_disable_form' ).hide();
                            }
                            else
                            {
                                trySignIn();
                            }
                        }
                        else if ( data[ 'status' ] === 'requires_auth_code' )
                        {
                            $( '#sign-in_disable_form' ).hide();
                            bolPrevFinished_checkSignInForm = true;
                            
                            show2FAPrompt();
                        }
                        else
                        {
                            var strMessage = 'Incorrect username or password! Access can be restored via your email address.';

                            if ( typeof data[ 'message' ] !== "undefined" )
                            {
                                strMessage = data[ 'message' ];
                            } 
                            else if ( typeof data[ 'login_attempts_left' ] !== 'undefined' ) 
                            {
                                var strPartOne = +data['login_attempts_left'] === 1 ? ' You have ' : ' You have ';
                                var strPartTwo = +data['login_attempts_left'] === 1 ? ' login attempt left before your account is automatically blocked.' : ' more login attempts before your account is automatically blocked.';
                                
                                strMessage += strPartOne + data[ 'login_attempts_left' ]  + strPartTwo;
                            }
                            else
                            {
                                console.log( 'SIGNIN ERROR CODE : 2' );
                            }

                            $( '#signin_error_msg' ).text( strMessage );
							$('#signin_error_msg').show();

							bolPrevFinished_checkSignInForm = true;
							$('#sign-in_disable_form').hide();
						}
					} ,
					error: function(data) {

						$('#signin_error_msg').text('An error occurred. Please try again or contact support@files.fm!');
						$('#signin_error_msg').show();

						bolPrevFinished_checkSignInForm = true;
						$('#sign-in_disable_form').hide();
					}
				});
			}
			else {

				bolPrevFinished_checkSignInForm = true;
				$('#sign-in_disable_form').hide();
			}
		}
	}


	function checkForgotPasswordForm() {

		if (!validateEmail($('#forgotpassword_email').val())) {

			addError('forgotpassword_email', 'forgotpassword_error_msg', 'Enter a valid e-mail!');
		}
		else {

			removeError('forgotpassword_email');

			$.ajax({
				type: "POST",
				dataType: "json",
				url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
				data: {
					'recover_password' : true ,
					'email' : $('#forgotpassword_email').val()
				},
				success: function(data) {
					if (data['status'] == 'ok') {

						removeAllErrors('forgotpassword_error_msg');

						$('#forgotpassword_error_msg').addClass('ok_msg_active');
						$('#forgotpassword_error_msg').text('Password recovery link was sent to your e-mail.');
						$('#forgotpassword_error_msg').show();
					}
					else {

						addError('forgotpassword_email', 'forgotpassword_error_msg', 'This e-mail is not registered.');
					}
				}
			});
		}
	}

	function checkSocialLogin(strType) {

		if (bolHasCookieUploads == true && bolAddCookieUploadsAnswered == false) {

			strActiveForm = strType;
			showAddCookieUploads();
		}
		else {

			if ($('.dont_redirect_after_login').val() == 'true')
			{
				$('#sendfiles').submit();
				$('.add_anonym_uplaods').val('true');
			}

			if (strType == 'facebook') {

				$('#login_facebook').submit();
			}
			else if (strType == 'google') {

				$('#login_google').submit();
			}
			else if (strType == 'draugiem') {

				$('#login_draugiem').submit();
			}
		}
	}


	function validateEmail(email) {
		var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		var result = re.test(email);
		return result;
	}

	function validateUsername(username) {

		var re = /^[a-zA-Z0-9_\.@\-]+$/;
		var result = re.test(username);
		return result;
	}
    
    function addHTMLError(strDomId, strErrorMsgId, strErrorMsgText) {
        $('#' + strDomId).addClass( 'has_error' );
        $('#' + strErrorMsgId).html(strErrorMsgText);
        $('#' + strErrorMsgId).show();
    }

	function addError(strDomId, strErrorMsgId, strErrorMsgText) {
		$('#' + strDomId).addClass( 'has_error' );
		$('#' + strErrorMsgId).text(strErrorMsgText);
		$('#' + strErrorMsgId).show();
	}

	function removeError(strInputId) {
		$('#' + strInputId).removeClass( 'has_error' );
	}

	function removeAllErrors(strErrorMsgId) {
		$('#' + strErrorMsgId).text('');
		$('#' + strErrorMsgId).hide();
	}

	var isUsernameChanged = false;
	function usernameChanged()
	{
		isUsernameChanged = true;
	}

	function createUsername(strEmail)
	{
		if( !isUsernameChanged && strEmail != '' && validateEmail(strEmail))
		{
			var arrEmail = strEmail.split("@");

			var strUsername = arrEmail[0];
			while (strUsername.length < 4)
			{
				strUsername += '1';
			}


			$.ajax(
			{
				type: "POST",
				dataType: "json",
				url: "./ajax/sign_in.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
				data:
				{
					'get_username' : true ,
					'username' : strUsername
				},
				success: function(data)
				{
					if (data['status'] == 'ok' && data['username'])
					{
						$('#createaccount_username').val(data['username']);
					}
				}
			});
		}
	}

	var bolCreateBusinessAccount = false;
	function toggleCreateBusinessAccount()
	{
		if (bolCreateBusinessAccount)
		{
			bolCreateBusinessAccount = false;
			$('#create_business_account_container').hide();
		}
		else
		{
			bolCreateBusinessAccount = true;
			$('#create_business_account_container').show();
		}
	}
   </script>
   <script>
    $('#mega-menu .other-apps LI').on('click', function (){
        if ( $('A:first-child', this).attr('href') != null && $('A:first-child', this).attr('href').indexOf('javascript:') == -1 )
        {
            window.location = $('A:first-child', this).attr('href');
        }
    });
    
    /*** Dropdowns ***/
    $('HEADER .dropdown-toggle').on('click', function (){
        var jqMenu = $(this).closest('.dropdown-menu-container');
        var bolShow = ! $('.dropdown-menu', jqMenu).is(':visible');
        
        
        // hide all other popups if dropdon not inside main meu popup
        if ( $(this).closest('#mega-menu').length == 0 )
            hidePopups();
        
        if ( bolShow )
        {
            jqMenu.addClass('active');
        }
        else
        {
            jqMenu.removeClass('active');
        }
    });
    /***/
    

    /*** Dropdowns ***/
    $('HEADER .dropdown-menu-container').on('hover', function (){
        
        // hide all other popups if dropdon not inside main meu popup
        if ( $(this).closest('#mega-menu').length == 0 )
            hidePopups();
        
        $(this).addClass('active');
    });
    $('HEADER .dropdown-menu-container').on('mouseleave', function (){
        $(this).removeClass('active');
    });
    /***/
    
    // Show nav bar on mouse enter
    $('#navbar-toggler').on('mouseenter', function (){

        // If clicked on ovelay, event fired immediately
        var intTimeFromPreviousMegamenuHide = null;
        if ( intMegamenuHideTime !== null )
            intTimeFromPreviousMegamenuHide = (new Date()).getTime() - intMegamenuHideTime;

        if ( ! $('#mega-menu').hasClass('show') && ( intTimeFromPreviousMegamenuHide === null || intTimeFromPreviousMegamenuHide > 300) )
        {
            $('#mega-menu').addClass('show');
        }
    });

    // Hide navbar on mouse leave
    $('#mega-menu .container').on('mouseleave', function (){
        $('#mega-menu').removeClass('show');
    });

    $('#navbar-toggler').on('click', function (){
        var bolShow = ! $('#mega-menu').hasClass('show');
        hidePopups();
        if ( bolShow )
        {
            $('#mega-menu').addClass('show');
        }
        else
        {
            $('#mega-menu').removeClass('show');
        }
    });
   </script>
   <div id="content">
    <input id="upload_hash" type="hidden" value=""/>
    <script>
     var bolHasFlashSupport = false;

	var a = !1,	b = "";
	function c(d) {

		d = d.match(/[\d]+/g);
		d.length = 3;
		return d.join(".")
	}
	if (navigator.plugins && navigator.plugins.length) {

		var e = navigator.plugins["Shockwave Flash"];
		e && (a = !0, e.description && (b = c(e.description)));
		navigator.plugins["Shockwave Flash 2.0"] && (a = !0, b = "2.0.0.11")
	} else {

		if (navigator.mimeTypes && navigator.mimeTypes.length) {

			var f = navigator.mimeTypes["application/x-shockwave-flash"];
			(a = f && f.enabledPlugin) && (b = c(f.enabledPlugin.description))
		} else {

			try {

				var g = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),
					a = !0,
					b = c(g.GetVariable("$version"))
			} catch (h) {

				try {

					g = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"), a = !0, b = "6.0.21"
				} catch (i) {

					try {

						g = new ActiveXObject("ShockwaveFlash.ShockwaveFlash"), a = !0, b = c(g.GetVariable("$version"))
					} catch (j) {}
				}
			}
		}
	}
	var k = b;

	bolHasFlashSupport = a ? true : false;

	var strUploadType = 'simple';

	document.write('<script src="/js/client_detection.js?t=v1"><'+'/script>');

	if (typeof(Worker) == 'undefined' || typeof(FormData) == 'undefined' || typeof(FileReader) == 'undefined' || typeof(Uint8Array) == 'undefined') {

		if (bolHasFlashSupport) {

			strUploadType = 'flash';
			document.write('<script src="js/uplodify_fla/jquery.uploadify-3.1.custom.js?t=v23"><\/script>');
			document.write('<link rel="stylesheet" type="text/css" href="js/uplodify_fla/uploadify.css?t=1596307011">');
		}
		else {

			strUploadType = 'simple'
			document.write('<script src="js/file_chooser.v2.js?t=v23"><'+'/script>');
		}
	}
	else {

		strUploadType = 'html5';
		document.write('<script src="js/alphanum_sort.js?v=1"><\/script>');
		document.write('<script src="js/uploadify/jquery.uploadifive.custom_folderupload.js?t=1596307011"><\/script>');
		document.write('<link rel="stylesheet" type="text/css" href="js/uploadify/uploadifive.css?t=1596307011">');
	}


	
	var intUploadStatus = 0;		
	var arrFilesToUpload = [];	
    var intLastFileIndex = 0;

	var objAfterUploadSave = {};	
	var js_simple_manager = null;

	var global_upload_hash = "-1";
	var global_upload_del_key = "-1";
	var global_upload_add_key = "-1";

	var first_subupload_hash = "-1";

	var host_short = "files.fm";

	var intMaxUploadSize = 5120 * 1024 * 1024;
	var intQueueSize = 0;

	var host_dir = "files.fm";

	var strProtocol = 'https://';

	var upload_save_server = strProtocol + 'free.files.fm';

    var arrFallbackHosts = [ 'pro.files.fm', 'free.files.fm' ];
    var intCurrentFallbackHost = 0;
    var strCurrentUploadCallServer = 'fv1-6.failiem.lv';

    var objFileStats = {};
    var intUploadStartTimestamp = null;
    var dblUploadProgressTimeBased = null;
    var resProgressCheckInterval = null;
    var strCurrentFileName = null;
    
    var strSaveFileAdditionalGetParameters = "";
        var dblDataMoveSpeed = 1 / 1024 / 1024 / 10;
    
	$(function () {

		if (strUploadType == 'html5') {

			$(function() {
    
				$('#file_upload').uploadifive({
					'formData':				{'UserAgent': JSON.stringify(JSON.decycle(reduceToScalarsAndLevel(navigator)))} ,
					'dnd':					true ,
					'auto':					false ,
					'simUploadLimit':	 	1 ,
					'dropTarget':			'body' ,
					'queueID':				'upload_file_list' ,
                    'uploadServer':            'http://' ,
                    'uploadScript':            'http://' ,
                    'switchServer':         function ( fncCallback )
                    						{
                                                var strPrevHost = upload_save_server;
                                                var intTries = 0;

                                                var fncChangeServer = function ()
                                                {
                                                    if ( intTries < 10  )
                                                    {
                                                        $.get( 'https://files.fm/api/get_hostname.php', function ( strNewHostname )
                                                        {
                                                            intTries++;

                                                            if ( strPrevHost != ( strProtocol + strNewHostname ) )
                                                            {
                                                                upload_save_server = strProtocol + strNewHostname;

                                                                $('#file_upload').data('uploadifive').settings.uploadScript = upload_save_server + '/save_file.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&up_id=' + global_upload_hash + '&ignore_user_abort=1&skip_update=1&key=' +global_upload_add_key + ''+ '' + '' + strSaveFileAdditionalGetParameters;

                                                                fncCallback();
                                                            }
                                                            else
                                                            {
                                                                setTimeout(fncChangeServer, 1000);
                                                            }
                                                        });
                                                    }
                                                    else
                                                    {
                                                        intTries++;

                                                        upload_save_server = strProtocol + arrFallbackHosts[ intCurrentFallbackHost ];

                                                        ++intCurrentFallbackHost;
                                                        if ( intCurrentFallbackHost >= arrFallbackHosts.length )
                                                        {
                                                            intCurrentFallbackHost = 0;
                                                        }

                                                        $('#file_upload').data('uploadifive').settings.uploadScript = upload_save_server + '/save_file.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&up_id=' + global_upload_hash + '&ignore_user_abort=1&skip_update=1&key=' +global_upload_add_key + ''+ '' + '' + strSaveFileAdditionalGetParameters;

                                                        fncCallback();
                                                    }
                                                };

                                                fncChangeServer();
                                            },
                    'onProgress':           function (file, event){
					                            var strFilename = '';
					                            if ( file.directoryName )
					                                strFilename += file.directoryName + '/';
					                            strFilename += file.name;
					                            
					                            strCurrentFileName = strFilename;
					                            
					                            if ( typeof(objFileStats[strFilename]) == 'undefined' )
                                                {
                                                    objFileStats[strFilename] = {
                                                        'total':  event.total,
                                                        'loaded': event.loaded,
                                                        'moveTime': 0,
                                                        'moveStartTst': null
                                                    };
                                                }
                                                else
                                                {
                                                    objFileStats[strFilename].loaded = event.loaded;
                                                }
                                                
                                                objFileStats[strFilename].moveStartTst = (new Date()).getTime()/1000;
                                                
                                            },
					'onQueueComplete':		function(uploads) {
                                                if ( uploads.current == 0 )
                                                {
                                                    FinishUpload();
                                                }
											} ,
					'onUploadComplete':		function(file, data) {
					                            var strFilename = '';
					                            if ( file.directoryName )
					                                strFilename += file.directoryName + '/';
					                            strFilename += file.name;
					                            
					                            /* Save move duration, for use in progress interval */
                                                objFileStats[strFilename].moveTime = (new Date()).getTime()/1000 - objFileStats[strFilename].moveStartTst;
                                                
                                                var jqFileMesageContainer = null;
                                                if (file.queueItem)
                                                {
                                                    jqFileMesageContainer = file.queueItem.find('.fileinfo');
                                                
                                                    /* Move item to the buttom of uncomplete and to the top of complete. */
                                                    var jqQueue = file.queueItem.parent();
                                                    var jqQueueItemClone = file.queueItem.clone();
                                                    file.queueItem.remove();

                                                    // Find first complete item
                                                    var jqInsertPlace = $('.uploadifive-queue-item.complete', jqQueue ).first();
                                                    if ( jqInsertPlace.length )
                                                    {
                                                        // Append before
                                                        jqInsertPlace.before( jqQueueItemClone );
                                                    }
                                                    else
                                                    {
                                                        // First uploaded file
                                                        jqInsertPlace = $('.uploadifive-queue-item', jqQueue ).last();
                                                        if ( jqInsertPlace.length )
                                                        {
                                                            // Append after
                                                            jqInsertPlace.after( jqQueueItemClone );
                                                        }
                                                        else
                                                        {
                                                            // Append to queue
                                                            jqQueue.append( jqQueueItemClone );
                                                        }
                                                        
                                                    }
                                                    file.queueItem = jqQueueItemClone;
                                                }
                                                /**/
                                                
                                                var strMessage = null;

												if (data.indexOf('vir') != -1) {

													strMessage = "The file is infected and will be deleted!";
												}
												else if (data.indexOf('exf') != -1) {

													strMessage = "File not uploaded, file size limit exceeded!";
												}
												else if (data.indexOf('exq') != -1) {

													strMessage = "File upload failed because the upload size limit was exceeded!";
												}
												else if (data.indexOf('file_size_error') != -1) {

													strMessage = "There was a network error. Please retry the upload.";
												}
												else if (data.indexOf('dblext') != -1) {

													strMessage = "This filename has a double extension. Please rename the file and repeat the upload!";
												}

                                                if (strMessage != null)
                                                {
                                                    if (jqFileMesageContainer != null)
                                                    {
                                                        jqFileMesageContainer.html('<span style="color: red"> - ' + strMessage + '</span>');
                                                    }
                                                    fError("\""+ file.name +"\" - " + strMessage);
                                                }
											} ,

					'fileSizeLimit':		'5120MB',
					'onCancel':				function(file) {

                                                intQueueSize -= file.size;
                                                
												if (intUploadStatus <= 1) {
													if (intQueueSize > intMaxUploadSize) {

														fError( "Maximum upload size exceeded for free accounts! Please upgrade your account: <a href=\'/storage-plans\' target=\'_blank\'>https://files.fm/storage-plans</a><br>(" + file_size_format(intQueueSize) + ' / ' + file_size_format(intMaxUploadSize) + ')' );
														disableSave();
													}
													else {

														FileChosen();
													}
												}

					                            var strFilename = '';
					                            if ( file.directoryName )
					                                strFilename += file.directoryName + '/';
					                            strFilename += file.name;
												
					                            if ( typeof(objFileStats[strFilename]) !== 'undefined' )
					                            {
					                                objFileStats[strFilename].loaded = 0;
					                            }
					                            
					                            // Get incomplete file count
                                                var intFilesLeftCount = 0;
					                            var intTotalFileCount = 0;
                                                for (var i=0; i<arrFilesToUpload.length; i++)
                                                {
                                                    if (
                                                            typeof(arrFilesToUpload[i]) !== 'undefined'
                                                            && ! arrFilesToUpload[i].skip
                                                            && ! arrFilesToUpload[i].complete
                                                    )
                                                    {
                                                        intFilesLeftCount++;
                                                    }
                                                    else if ( typeof(arrFilesToUpload[i]) !== 'undefined' && ! arrFilesToUpload[i].skip )
                                                    {
                                                        intTotalFileCount++;
                                                    }
                                                }
					                            
                                                // If all files uploaded, call FinishUpload();
                                                if ( intFilesLeftCount === 0 && ( intTotalFileCount > 0  || intUploadStatus >= 2 ) )
                                                {
                                                    FinishUpload();
                                                }
                                                
                                                
												// Remove file record from local array
												if (typeof file.fileIndex != 'undefined') {

													delete arrFilesToUpload[file.fileIndex];
												}
                        
                                                afterQueueChange ();
											},
					'onAddQueueItem':		function(file) {

                                                onFileAdd( file );
                                                
											},
					'onError':				function(errorType, arg2) {

												objFilesFmErrorHandler.sendLogEntry ({'Type': objFilesFmErrorHandler.reduce(errorType), 'Data': objFilesFmErrorHandler.reduce(arg2, 3)});
											},
					'buttonText': 			'<span class="select_files_button_text"><img class="cloud-white" src="/images/landing/upload-icon.svg" alt="Upload files" /> Upload & Share Files</span>',
					//<img src="images/upload-icon.svg" />
					'onFallback': 			function() {
												//window.location = '?flash';
											},
                    'fileProgressTimeTranslation': 'Finishes in [time_left]',
                    'waitingOnConnectionTranslation': 'Waiting on connection [seconds_left] ...',
                    'restartingFileUploadTranslation': 'Restarting file upload ...',
                    'fileUploadCompleteTranslation': 'Complete',
                    'fileMoveTranslation': 'Processing',
                    'fileCanceledTranslation': 'Canceled',
                    'fileAntivirusTranslation': 'Virus check',
                    'fileSizeExceededTranslation': 'File Too Large'
				});
			});
		}
		else if (strUploadType == 'flash') {

			$('#file_select_dragndrop_text').hide();

			$(function() {
				$("#file_upload").uploadify({
					'formData':				{'UserAgent': JSON.stringify(JSON.decycle(reduceToScalarsAndLevel(navigator)))} ,
					'successTimeout':		120 ,
					'auto':					false ,
					'simUploadLimit':		1 ,
					'queueID':				'upload_file_list' ,
					'height':				60 ,
					'swf':					'/js/uplodify_fla/uploadify.swf' ,
					'uploader':				'http://' ,
					'width':				"100%" ,
					'onQueueComplete':		function(uploads) {
												FinishUpload();
											} ,
					'fileSizeLimit':		'5120MB' ,
					'queueSizeLimit':		'5120MB' ,
					'onCancel':				function(file) {

												if (intUploadStatus <= 1) {

													intQueueSize -= file.size;
													if (intQueueSize > intMaxUploadSize) {

														fError( "Maximum upload size exceeded for free accounts! Please upgrade your account: <a href=\'/storage-plans\' target=\'_blank\'>https://files.fm/storage-plans</a><br>(" + file_size_format(intQueueSize) + ' / ' + file_size_format(intMaxUploadSize) + ')' );
														disableSave();
													}
													else {

														FileChosen();
													}
												}
                                                afterQueueChange ();
											} ,
											
                    'onUploadProgress':           function (file, fileBytesLoaded, fileTotalBytes, queueBytesLoaded, uploadSize){
					                            var strFilename = '';
					                            if ( file.directoryName )
					                                strFilename += file.directoryName + '/';
					                            strFilename += file.name;
					                            
					                            strCurrentFileName = strFilename;
					                            
					                            if ( typeof(objFileStats[strFilename]) == 'undefined' )
                                                {
                                                    objFileStats[strFilename] = {
                                                        'total':  fileTotalBytes,
                                                        'loaded': fileBytesLoaded,
                                                        'moveTime': 0,
                                                        'moveStartTst': null
                                                    };
                                                }
                                                else
                                                {
                                                    objFileStats[strFilename].loaded = fileBytesLoaded;
                                                }
                                                
                                                objFileStats[strFilename].moveStartTst = (new Date()).getTime()/1000;
                                                
                                            },
					'onSelect':		function(file) {
            
					    
												onFileAdd( file );
												
            
											} ,
					'onUploadSuccess':		function(file, data, response) {

												if (data.indexOf('vir') != -1) {

													fError( "The file is infected and will be deleted!" );
												}
												else if (data.indexOf('exf') != -1) {

													fError( "File not uploaded, file size limit exceeded!" );
												}
												else if (data.indexOf('exq') != -1) {

													fError( "File upload failed because the upload size limit was exceeded!" );
												}
												else if (data.indexOf('file_size_error') != -1) {

													fError( "\"" + file.name + "\" " + "There was a network error. Please retry the upload." );
												}
												else if (data.indexOf('dblext') != -1) {

													fError( "This filename has a double extension. Please rename the file and repeat the upload!" );
												}
											} ,
					'onError':				function(errorType, arg2) {

												objFilesFmErrorHandler.sendLogEntry ({'Type': objFilesFmErrorHandler.reduce(errorType), 'Data': objFilesFmErrorHandler.reduce(arg2)});
											} ,
					'onUploadStart': 		function (file) {} ,
					'buttonText':			'<span class="select_files_button_text"><img class="cloud-white" src="/images/landing/upload-icon.svg" alt="Upload files" /> Upload & Share Files</span>',
					'onFallback':			function() {

												//window.location = '?simple';
											}
				});
			});
		}
		else {

			$('#file_select_dragndrop_text').hide();

			setTimeout(function() {

					$('#simple_file_select_button').show();
					js_simple_manager = new ManageFileChoosers('simple_file_select_button', 'upload_file_list', global_upload_hash + '&key=' +global_upload_add_key, 'upload_target', '<span class="select_files_button_text"><img class="cloud-white" src="/images/landing/upload-icon.svg" alt="Upload files" /> Upload & Share Files</span>');
					js_simple_manager.file_chosen.AddCallback(FileChosen);
					js_simple_manager.data_uploaded.AddCallback(FinishUpload);
			}, 600);
		}
		
        arrFilesToUpload = [];
        arrFilesToUpload.length = 100000;
	});


		var bolHashRequestInProgress = false;

	function FileChosen() {
		// $('#uploadifive-file_upload .fa').removeClass('fa-cloud-upload').addClass('fa-plus-circle');

		if (bolHashRequestInProgress===false && (global_upload_hash == null || global_upload_hash === '-1' || global_upload_hash === -1)) {

			bolHashRequestInProgress = true;

			var upload_id_url = strProtocol + host_dir +"/server_scripts/get_upload_id.php?show_add_key=1";
			$('#preloader_file_upload').show();
			jQuery.get(upload_id_url, function(txt) {

				global_upload_hash = txt.split(",")[0];
				global_upload_del_key = txt.split(",")[1];
				global_upload_add_key = txt.split(",")[2];

				bolHashRequestInProgress = false;

				E("submit_form").action = "u/"+global_upload_hash;
				E("del_key").value = global_upload_del_key;

				objAfterUploadSave.upload_hash = global_upload_hash;
				objAfterUploadSave.del_key = global_upload_del_key;

				if (strUploadType == 'html5') {

					$('#file_upload').data('uploadifive').settings.uploadScript = upload_save_server + '/save_file.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&up_id=' + global_upload_hash + '&ignore_user_abort=1&skip_update=1&key=' +global_upload_add_key + ''+ '' + '' + strSaveFileAdditionalGetParameters;

                    $('#file_upload').data('uploadifive').settings.checkProgressScript = strProtocol + 'pro1.failiem.lv/check_progress.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&json_object=1';
				}
				else if (strUploadType == 'flash') {

					$('#file_upload').uploadify('settings','uploader' , upload_save_server + '/save_file.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&up_id=' + global_upload_hash + '&skip_update=1&key=' +global_upload_add_key + '' + strSaveFileAdditionalGetParameters);
				}
				else {

				}
				$('#preloader_file_upload').hide();
				$('#savefiles').show();
				$('#upload_box_inner').addClass('start_upload');
				var jqText = $('#file_select_dragndrop_text').remove();
                jqText.prependTo('#file_adding_container');
				
				
				removeTooltip('#file_select_button');

				$('#upload-box-outer').addClass('files-selected');
				
				intUploadStatus = 1;
                
                $('.select_files_button_text').html( '<img src="/images/landing/upload-cloud-plus.svg" alt="Upload more files" />Add more files' );
                $('.select_files_button_text').closest( '.upload_button' ).find( '.fa-stack' ).find( '.fa-plus' ).css( 'color', '#2e3e58' );

			}).fail(function() {

				bolHashRequestInProgress = false;
			});
		}
		else if (global_upload_hash && global_upload_hash !== '-1') {
			$('#savefiles').show();
			$('#upload_box_inner').addClass('start_upload');

			removeTooltip('#file_select_button');
		}
  
	}


    var strFileSizeText = 'Total file size {SIZE}, number of files {NUMFILES}.';
    function afterQueueChange ()
    {
        var intTmpSize = 0;
        var intTotalFileCount = 0;
        for ( var i = 0; i < arrFilesToUpload.length; i++ )
        {
            if ( typeof( arrFilesToUpload[ i ] ) !== 'undefined' && !arrFilesToUpload[ i ].skip )
            {
                if (!isNaN(parseFloat(arrFilesToUpload[i].size)) && isFinite(arrFilesToUpload[i].size))
                {
                    intTmpSize += arrFilesToUpload[i].size;
                    intTotalFileCount++;
                }
            }
        }
        intQueueSize = intTmpSize;
        $( '#upload_stats_text' ).html( strFileSizeText.replace( '{SIZE}', '<span>' + file_size_format( intQueueSize ) + '</span>' ).replace( '{NUMFILES}', '<span>' + intTotalFileCount + '</span>' ) ).show();
    
        $('#upload_file_list').show();
        
                
        if (checkAllowedFileExtensions() === false)
        {
            resShowErrorMessageTimeout = setTimeout(function (){
                fError("Unallowed file extension! Allowed extensions are: [[ALLOWED_EXTENSIONS]]".replace('[[ALLOWED_EXTENSIONS]]', ''));
                disableSave();
            }, 300);
            disableSave();
        }
    }

    var arrAllowedFileExtensions = [];
    function checkAllowedFileExtensions()
    {
        if (arrAllowedFileExtensions.length > 0)
        {
            var bolExtensionsOk = true;
            for (i = 0; i < arrFilesToUpload.length; ++i)
            {
                if (typeof arrFilesToUpload[i] != 'undefined')
                {
                    var strFileName = arrFilesToUpload[i].name;
                    var arrFileName = strFileName.split('.');
                    var strFileExtension = arrFileName[arrFileName.length-1].toLowerCase();
                    
                    if ($.inArray(strFileExtension, arrAllowedFileExtensions) == -1)
                    {
                        bolExtensionsOk = false;
                        break;
                    }
                }
            }
            
            return bolExtensionsOk;
        }
        else
        {
            return true;
        }
    }

		
	function checkStartUpload()
	{
        if (intQueueSize > intMaxUploadSize)
        {
            setTimeout('disableSave()', 500);
            fError("Maximum upload size exceeded for free accounts! Please upgrade your account: <a href=\'/storage-plans\' target=\'_blank\'>https://files.fm/storage-plans</a><br>(" + file_size_format(intQueueSize) + ' / ' + file_size_format(intMaxUploadSize) + ')')
            return false;
        }
        
        return true;
	}
	
	function StartUpload(submit_button) {

	    if ( ! checkStartUpload() )
	        return;
	    
		intUploadStatus = 2;

        if (js_simple_manager != null) {

            $('#simple_file_select_button FORM').attr('action', upload_save_server +"/save_file.php?up_id="+global_upload_hash+"&PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&skip_update=1" + '' + strSaveFileAdditionalGetParameters);
            js_simple_manager.SubmitForm();
        }

		// slēpjam pogas
		$('#savefiles').css({'display': 'none'});
		$('#simple_file_select_button').css({'display': 'none'});
		$('#file_select_button').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px'});
		$('#file_select_or').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px', 'border': '0px'});
		$('#file_select_draganddrop').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px', 'border': '0px'});

		onStartUpload();
	}

	function uplodifyStartUpload()
	{
	    if ( ! checkStartUpload() )
	        return;
	    
		intUploadStartTimestamp = (new Date()).getTime()/1000;
		
		dblUploadProgressTimeBased = 0;
		
		resProgressCheckInterval = setInterval(checkUploadProgress, 200);
		
	    $('#file_upload').uploadify('upload','*');
	    
		onStartUpload();
	}
	
		function uplodifiveStartUpload () {

	    if ( ! checkStartUpload() )
	        return;
	    
		var arrDirectories = [];

		// Get unique directory paths
		var tmp = {};
		for (i in arrFilesToUpload) {

			if (typeof arrFilesToUpload[i].directoryName == 'string') {

				tmp[arrFilesToUpload[i].directoryName] = true;
			}
		}

		for (dir in tmp) {

			arrDirectories.push(dir);
		}

		if (arrDirectories.length > 0)
		{
			var strUrl = upload_save_server + '/api/get_ids_and_keys_from_paths.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7&upload_hash=' + global_upload_hash + '&add_key=' +global_upload_add_key;

			// Get hashes and keys for subfolders
			$.support.cors = true;

			$.ajax({
			    type: 'POST',
			    url: strUrl,
			    data: {'Directories': arrDirectories},
			    success: function (json) {
					if (json.Success == true) {

						for (dirname in json.Directories) {

							var objDir = json.Directories[dirname];

							if (first_subupload_hash == "-1") {

								first_subupload_hash = objDir.Hash;
							}

							for (index in arrFilesToUpload) {

								if (arrFilesToUpload[index].directoryName == dirname) {

									arrFilesToUpload[index].UploadHash = objDir.Hash;
									arrFilesToUpload[index].AddFileKey = objDir.AddFileKey;
								}
							}
						}
					}

					$('#file_upload').uploadifive('upload');

				},
			    dataType: 'json',
			    error: function (xhr, ajaxOptions, thrownError) {},
			    processData: true,
			    beforeSend: function ( jqXHR, settings ) {
			    	jqXHR.setRequestHeader("X-File-Upload", "uploadingfiles");
					jqXHR.setRequestHeader('Accept', 'application/json');
			    }
			});
		}
		else {

			$('#file_upload').uploadifive('upload');
		}
		
		intUploadStartTimestamp = (new Date()).getTime()/1000;
		
		dblUploadProgressTimeBased = 0;
		
		resProgressCheckInterval = setInterval(checkUploadProgress, 200);
		
		onStartUpload();
	}

	
	function checkUploadProgress ()
    {
        if ( ! strCurrentFileName )
            return;
        
        var intTotalFileCount = 0;
        for (var i=0; i<arrFilesToUpload.length; i++)
        {
            if ( typeof(arrFilesToUpload[i]) !== 'undefined' && ! arrFilesToUpload[i].skip )
            {
                intTotalFileCount++;
            }
        }
        var intTotalCompleteBytes = 0;
        var dblTotalMoveTime = 0;
        var intCurrentFileUploadedBytes = 0;
        var intCompleteFileCount = 0;
        for(var strFileName in objFileStats)
        {
            if ( objFileStats[strFileName].moveTime > 0 )
            {
                intTotalCompleteBytes += objFileStats[strFileName].loaded;
                dblTotalMoveTime += objFileStats[strFileName].moveTime;
                intCompleteFileCount++;
            }
            else
            {
                intCurrentFileUploadedBytes += objFileStats[strFileName].loaded;
            }
        }
        
        var dblCurrentFileMoveLeftTime = 0;
        var dblCurrentFileMoveDuration = 0;
        var intCurrentFileSize = objFileStats[strCurrentFileName].total;
        if ( objFileStats[strCurrentFileName].moveTime == 0 )
        {
            dblCurrentFileMoveDuration = ( (new Date()).getTime()/1000) - objFileStats[strCurrentFileName].moveStartTst;
            dblCurrentFileMoveLeftTime = intCurrentFileSize * dblDataMoveSpeed - dblCurrentFileMoveDuration;
            if (dblCurrentFileMoveLeftTime < 0)
                dblCurrentFileMoveLeftTime = 0;
            
        }
        
        var dblTotalDuration = (new Date()).getTime()/1000 - intUploadStartTimestamp;
        var dblDurationUploading = (new Date()).getTime()/1000 - intUploadStartTimestamp - dblTotalMoveTime - dblCurrentFileMoveDuration;
        
        var dblSpeed = ( intTotalCompleteBytes + intCurrentFileUploadedBytes ) / dblDurationUploading;
        var intLeftBytesToUpload = intQueueSize - intTotalCompleteBytes - intCurrentFileUploadedBytes
        var dblLeftSecUpload = intLeftBytesToUpload / dblSpeed;
        
        var intLeftBytesToMove = intQueueSize - intTotalCompleteBytes - intCurrentFileSize;
        var dblLeftSecMove = intLeftBytesToMove * dblDataMoveSpeed + dblCurrentFileMoveLeftTime;
        
        var objDateCompl = new Date();
        
        // Data move time, 10MB/sec
        var dblLeftSec = dblLeftSecUpload + dblLeftSecMove;
        
        var dblTotalTimePrognose = dblTotalDuration + dblLeftSec;
        
        dblUploadProgressTimeBased = Math.max(dblUploadProgressTimeBased, dblTotalDuration / dblTotalTimePrognose * 100);

        dblUploadProgressTimeBased = Math.min(dblUploadProgressTimeBased, 100);
        
        objDateCompl.setSeconds(objDateCompl.getSeconds() + dblLeftSec);
        
        var strTimeLeft = secondsToString (dblLeftSec, false);
        var h = objDateCompl.getHours() + '';
        if(h.length == 1)
            h = '0' + h;
        var m = objDateCompl.getMinutes() + '';
        if(m.length == 1)
            m = '0' + m;
        
        var strFinishTime =  h + ':' + m;
        
        var dblProgressUploadBased = Math.min(100, parseInt((intTotalCompleteBytes + intCurrentFileUploadedBytes) / intQueueSize * 100 * 100)/100);
        
        // Show overal progress only if more than one file
        if ( arrFilesToUpload.length > 1 )
        {
            
            /*
            $('#upload_total_progress .estimated-time .value').show().html(strTimeLeft + ' at ' + strFinishTime);
            
            $('#upload_total_progress .progress-bar-inner').css({width: dblUploadProgressTimeBased + '%'});
            
            $('#upload_total_progress .speed-progress').show().html(file_size_format(dblSpeed) + ' / s - ' + Math.round(dblUploadProgressTimeBased) + '%');
            
            $('#upload_total_progress').show();
            */
            
            $('#upload_total_progress .estimated-time .value').html(strTimeLeft + ' at ' + strFinishTime);
            
            $('#upload_total_progress .progress-bar-inner').css({width: dblProgressUploadBased + '%'});
            
            $('#upload_total_progress .speed-progress .value').show().html(file_size_format(dblSpeed, 0) + ' / s - ' + Math.round(dblProgressUploadBased) + '%');
            
            $('#upload_total_progress .uploaded-files .value').show().html(intCompleteFileCount + ' from ' + intTotalFileCount);
            
            
            $('#upload_total_progress .upload-size').html( file_size_format(intQueueSize, 2) );
            
            
            $('#upload_total_progress').show();
        }
        
	}


    var resCheckQueueTimeout = null;
    var resShowErrorMessageTimeout = null;
    var resFileChosenTimeout = null;
	
	function onFileAdd ( file )
    {
    
        // Save local array index in file object
        file.fileIndex = intLastFileIndex++;
        
        // Save file record in local array, we will use it to define upload id and add key when upload starts
        arrFilesToUpload[file.fileIndex] = file;
    
        var bolHasDoubleExtensions = checkDoubleExtensions(file.name);
    
        intQueueSize += file.size;
    
        if (resShowErrorMessageTimeout !== null)
            clearTimeout( resShowErrorMessageTimeout );
        resShowErrorMessageTimeout = null;
        
        if (resFileChosenTimeout !== null)
            clearTimeout( resFileChosenTimeout );
        resFileChosenTimeout = null;
    
        if ( file.size > 536870912 && window.navigator.userAgent.indexOf("Edge") > -1 )
        {
            
            resShowErrorMessageTimeout = setTimeout(function (){
                fError( "Microsoft Edge does not support uploading large files, please use another browser!" );
                disableSave();
            }, 300);
            
        }
        else if (intQueueSize > intMaxUploadSize)
        {
    
    
            resShowErrorMessageTimeout = setTimeout(function (){
                fError( "Maximum upload size exceeded for free accounts! Please upgrade your account: <a href=\'/storage-plans\' target=\'_blank\'>https://files.fm/storage-plans</a><br>(" + file_size_format(intQueueSize) + ' / ' + file_size_format(intMaxUploadSize) + ')' );
                disableSave();
            }, 300);
    
    
        }
        else if (bolHasDoubleExtensions)
        {
            
            
            resShowErrorMessageTimeout = setTimeout(function (){
                fError( "This filename has a double extension. Please rename the file and repeat the upload!" );
                disableSave();
            }, 300);
            
            
        }
        else
        {
            resShowErrorMessageTimeout = setTimeout(function (){
                FileChosen();
            }, 300);
        }
    
        if (resCheckQueueTimeout !== null)
            clearTimeout( resCheckQueueTimeout );
        resCheckQueueTimeout = null;
        
        resCheckQueueTimeout = setTimeout (function (){afterQueueChange ();}, 300);
    }


		function onStartUpload() {

		intUploadStatus = 2;

		window.onbeforeunload = function(e) {

			return "Files are being uploaded, are you sure you wish to cancel the upload??";
		};

		var link = strProtocol + host_short+"/u/"+global_upload_hash;

        E('upload_hash').value=global_upload_hash;

		E('download_link_0').href = link;
		E('download_link_0').innerHTML = link;
		
		$('#during_file_upload').css({'display': 'block'});
		$('#simple_file_select_button').css({'display': 'none'});

		$('#savefiles').css({'display': 'none'});
		$('#simple_file_select_button').css({'display': 'none'});
		$('#file_select_button').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px'});
		$('#file_select_or').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px', 'border': '0px'});
		$('#file_select_draganddrop').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px', 'border': '0px'});
		$('#upload_box_inner').css({'overflow': 'hidden', 'height': '0px', 'margin': '0px', 'border': '0px', 'padding': '0px', 'min-height': '0px'});
		$('#main_page_top_header_1').hide();
	}

		function FinishUpload() {

		var link = strProtocol + host_short + "/u/" + global_upload_hash;

		$.ajax({
			url: upload_save_server + '/finish_upload.php?upload_hash=' + global_upload_hash +'&PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7',
			data: null,
			type: 'GET',
			crossDomain: true,
			dataType: 'json',
			success: function(data)
			{
				$( '#display_name' ).val( data[ 'upload_name' ] );
				onFinishUpload(link);
			},
			error: function() {onFinishUpload(link);}
		});
		
	}

		function onFinishUpload(link) {

		intUploadStatus = 3;

		if (global_upload_del_key == 'NA') {

			window.onbeforeunload = null;
			window.location = link;
		}
		else {

			E('download_link').href = link;
			E('download_link').innerHTML = link;

			//E('before_file_upload').style.display = "none";
			E('during_file_upload').style.display = "none";
			E('after_file_upload').style.display = "block";

		
            $('#upload_total_progress').remove();
            if ( resProgressCheckInterval )
            {
                clearInterval(resProgressCheckInterval);
            }
            
			window.onbeforeunload = null;
		}
	}


		function afterUploadSave() {
	    var $accessRights = $("#file_save_access_rights");
	    var $uploadPassword = $("#upload_password");
	    
	    if( $accessRights.val() === "PASSWORD" && !$uploadPassword.val().length )
        {
            showTooltip( $("#upload_password"), "Please fill this field" );
            return false;
        }
        
        if ( 0 )
        {
            objAfterUploadSave.access_type = $accessRights.val();
            if ( $accessRights.val() === "PASSWORD" )
            {
                objAfterUploadSave.upload_password = $uploadPassword.val();
            }
        }
        else
        {
            objAfterUploadSave.access_type = "LINK";
        }
	    
		if (checkMails()) {

			if (arrFilesToUpload.length === 1 && typeof arrFilesToUpload[0] !== 'undefined') {

				var strFileExtension = getFileExtension(arrFilesToUpload[0]['name']);
				var arrMediaFileExtensions = ['jpg', 'jpeg', 'gif', 'png', 'avi', 'mpg', 'mpeg', 'mp4', 'flv', 'rm', 'rmvb', 'asf', 'mov', 'ogg', '3gp', 'wmv', 'mkv'];
				var bolIsMediaFile = $.inArray(strFileExtension, arrMediaFileExtensions) > -1;
				if (bolIsMediaFile) {

					$("#submit_form").attr('action', "g/"+global_upload_hash);
				}
			}

			objAfterUploadSave.display_name = $('#display_name').val();
			objAfterUploadSave.mailtext = $('#send_tt').val();
			objAfterUploadSave.me = $('#sender_mail_tt').val();
            objAfterUploadSave.e = $('#recepients_emails').val().trim().replace(/(,$)/g, "");
			
			
			if ($('#days_to_save_files').length > 0) {

				objAfterUploadSave.days_to_save_files = $('#days_to_save_files').val();
			}
			else {

				objAfterUploadSave.days_to_save_files = '';
			}

			if ($('#sender_mail_tt2').length > 0) {

				objAfterUploadSave.me2 = $('#sender_mail_tt2').val();
			}
			else {

				objAfterUploadSave.me2 = '';
			}

			objAfterUploadSave.org_e = '';
			$.ajax({
				type: "POST",
				dataType: "json",
				url: "./ajax/after_upload_save.php?PHPSESSID=adc575f4b57cf50c5ef8fd85982d3a788f3eb2f7",
				data: {
					'upload_data' : objAfterUploadSave
				} ,
				success: function onResponse(data) {
				    if( typeof data['unsubscribed_emails'] !== "undefined" && data['unsubscribed_emails'].length > 0 )
                    {
                        fModal( 
                            (data['sent_emails'].length > 0 ? 'f_dialog_warning' : 'f_dialog_error'), 
                            (data['sent_emails'].length > 0 ? ("E-mails were sent to: <span style='color:green;'>" + data['sent_emails'] + "</span>") : "Failed to send e-mails!") + "<br>" + 
                            "E-mails weren’t sent to: <span style='color:orange'>" + data['unsubscribed_emails'] + "</span><br>" +
                            "<span style='font-size: 13px;line-height: 16px;display:block;padding-top:6px;'>We weren’t able to send all e-mails because some of the recipients have opted out of receiving files.fm sharing emails. To share files with these e-mail addresses, please inform their owners to change their accounts privacy settings.</span>",
                            "", 
                            'OK', 
                            null, 
                            function() {
                                var newData = data;
                                delete newData['unsubscribed_emails'];
                                onResponse(newData);
                            }
                        );
				        return;
                    }
				    
					if (data['status'] == 'ok') {

						window.location.assign('/' + data['redirect_view'] + '/' + global_upload_hash + '');
					}
					else {
					    if( data['status'] == 'error' && typeof data['msg'] !== "undefined" && data['msg'].length > 0 )
                        {
                            fError(data['msg']);
                            $("#sendfiles").css({'visibility': 'visible'});
                        }
                        else
                        {
						    fError( 'An error occurred while saving the upload. Please contact support@files.fm!' );
						}

					}
				}
			});

			return false;
		}
		else {

			return false;
		}
	}


		var bolSenderOK = false;
	var bolRecepientsOK = false;
	var bolRequest1InProgress = false;
	var bolRequest2InProgress = false;

	var bolSenderMaybeNotOK = false;
	var bolRecepientsMaybeNotOK = false;
	var strSuggestEmails = '';
	var strNoMxEmails = '';

	function checkMails() {

		if ($("#send_link_to_sender").length != 0) {

			$("#sender_mail_tt").val('');
			$("#sender_mail_tt2").val('');
		}

		if ($("#sender_mail_tt").val() == 'Enter your email to receive a link') {

			$("#sender_mail_tt").val("");
		}

		if ($("#recepients_emails").val() == 'Enter other email addresses to send the link to') {

			$("#recepients_emails").val("");
		}

		if (bolSenderOK === false || bolRecepientsOK === false) {

			bolSenderOK = false;
			bolRecepientsOK = false;
			bolSenderMaybeNotOK = false;
			bolRecepientsMaybeNotOK = false;
			strSuggestEmails = '';
			strNoMxEmails = '';

			$("#sendfiles").css({'visibility': 'hidden'});
			if (bolRequest1InProgress === false) {

				var myEmail = $("#sender_mail_tt").val();
				if (myEmail == '' && $("#recepients_emails").val() == '') {

					bolSenderOK = true;
				}
				else
				{
					if ( validateEmail( $( '#sender_mail_tt' ).val() ) )
					{
						bolRequest1InProgress = true;
						$.post('./chkMail.php', {'q':myEmail}, function(data) {
							bolRequest1InProgress = false;
							arrReturn = JSON.parse(data);
							if (arrReturn['result'] == 0) {

								bolSenderOK = true;
								$("#sender_mail_tt").css({'border': '1px solid #000'});
							}
							else if (arrReturn['result'] == 2) {

								bolSenderMaybeNotOK = true;
								strSuggestEmails += arrReturn['suggest'];
								strNoMxEmails += arrReturn['no_mx'];
								$("#sender_mail_tt").css({'border': '1px solid #ff0000'});
							}
							else {

								$("#sender_mail_tt").css({'border': '1px solid #ff0000'});
							}
						});
					}
				}
			}

			if (bolRequest2InProgress === false) {

				var myEmail = $("#recepients_emails").val().trim().replace(/(,$)/g, "");
				if (myEmail.substr(-2,2) == ', ') {

					myEmail = myEmail.substr(0, myEmail.length-2);
				}

				if (myEmail == '' || $("#recepients_emails").val()=='') {

					bolRecepientsOK = true;
				}
				else {

					var bolEmailsOk = true;

					var strRecepientsEmails = $( '#recepients_emails' ).val().replace( ';', ',' );
					var arrRecepientsEmails = strRecepientsEmails.split( ',' );
					var intRecepientsEmailsCount = 0;
					$.each( arrRecepientsEmails, function( index, strRecepientEmail )
					{
						var strRecepientEmail = strRecepientEmail.trim();
						if ( strRecepientEmail != '' )
						{
							if ( ! validateEmail( strRecepientEmail ) )
							{
								bolEmailsOk = false;
							}

							++intRecepientsEmailsCount;
						}
					} );

					if ( intRecepientsEmailsCount > 5 )
					{
						bolEmailsOk = false;
					}

					if ( bolEmailsOk )
					{
						bolRequest2InProgress = true;
						$.post('./chkMail.php', {'q':myEmail}, function(data) {

							bolRequest2InProgress = false;
							arrReturn = JSON.parse(data);
							if (arrReturn['result'] == 0) {

								bolRecepientsOK = true;
								$("#recepients_emails").css({'border': '1px solid #000'});
							}
							else if (arrReturn['result'] == 2) {

								bolRecepientsMaybeNotOK = true;

								if (arrReturn['suggest'] != '' && strSuggestEmails != '') {

									strSuggestEmails += ', ';
								}
								strSuggestEmails += arrReturn['suggest'];

								if (arrReturn['no_mx'] != '' && strNoMxEmails != '') {

									strNoMxEmails += ', ';
								}
								strNoMxEmails += arrReturn['no_mx'];
								$("#recepients_emails").css({'border': '1px solid #ff0000'});
							}
							else {

								$("#recepients_emails").css({'border': '1px solid #ff0000'});
							}
						});
					}
				}
			}

			setTimeout("checkMailsComplete()", 500);

			return false;
		}


		if ($("#send_link_to_sender").length != 0 && $("#send_link_to_sender").attr("checked") != 'checked') {

			$("#sender_mail_tt").val('');
		}

		if ($("#send_link_to_sender2").length != 0 && $("#send_link_to_sender2").attr("checked") != 'checked') {

			$("#sender_mail_tt2").val('');
		}


		return true;
	}

		function checkMailsComplete() {

		if (bolRequest1InProgress === false && bolRequest2InProgress === false) {

			if (bolRecepientsOK === true && bolSenderOK === true) {

				$("#submit_form").onsubmit = "";
				$("#submit_form").submit();
			}
			else {

				$("#sendfiles").css({'visibility': 'visible'});
				if (bolRecepientsMaybeNotOK === true || bolSenderMaybeNotOK === true) {

					bolRecepientsOK = true;
					bolSenderOK = true;

					strMsg = '';
					if (strSuggestEmails != '') {

						strMsg += "Did you mean:";
						strMsg += " " + strSuggestEmails + " ?\n";
					}
					if (strNoMxEmails != '') {

						strMsg += "These addresses can be wrong:";
						strMsg += " " + strNoMxEmails + ".\n";
					}

					strMsg += "Please make sure the entered email addresses are correct! If all emails are correct, press ’Save and send the link’ again.";

					fError( strMsg );
				}
				else {

					fError("One of the entered e-mail addresses is incorrect or does not exist. Please do not forget to specify your e-mail address in the first field. At one time you can send up to 5 e-mails. Many e-mail addresses separate by comma.");
				}
			}
		}
		else {

			setTimeout("checkMailsComplete()", 500);
		}
	}


		function disableSave() {

		$('#savefiles').hide();
	}



		jQuery(function() {

		function split( val ) {
			return val.split( /,\s*/ );
		}
		function extractLast( term ) {
			return split( term ).pop();
		}

		jQuery( "#recepients_emails" )
			// don't navigate away from the field on tab when selecting an item
			.bind( "keydown", function( event ) {
				if ( event.keyCode === jQuery.ui.keyCode.TAB &&
						jQuery( this ).data( "autocomplete" ).menu.active ) {
					event.preventDefault();
				}
			})
			.autocomplete({
				source: function( request, response ) {
					jQuery.getJSON( "/ajax/get_user_sent_email_addresses.php", {
						term: extractLast( request.term )
					}, response );
				},
				search: function() {
					// custom minLength
					var term = extractLast( this.value );
					if ( term.length < 2 ) {
						return false;
					}
				},
				focus: function() {
					// prevent value inserted on focus
					return false;
				},
				select: function( event, ui ) {
					var terms = split( this.value );
					// remove the current input
					terms.pop();
					// add the selected item
					terms.push( ui.item.value );
					// add placeholder to get the comma-and-space at the end
					terms.push( "" );
					this.value = terms.join( ", " );
					return false;
				}
			});
	});


	function getFileExtension(strFileName) {

		var re = /(?:\.([^.]+))?$/;
		var strFileExtension = re.exec(strFileName)[1];

		return strFileExtension;
	}

	function checkDoubleExtensions(strFileName) {

		var bolHasDoubleExtension = false;

		var re = /(?:\.([^.]+))?$/;
		var strFileExtension = re.exec(strFileName)[1];

		var arrExecutableFileExtensions = ['exe','com','dll','pif','scr','bat','bin','pl','sh','scf','sct','shs','vb','lnk','jnlp','apk','vbs','js','msi','jse','jar','dmg','bin','wsf'];
		var bolIsExecutableFile = $.inArray(strFileExtension, arrExecutableFileExtensions) > -1;

		if (bolIsExecutableFile) {

			strFileName = strFileName.substring(0, strFileName.length - strFileExtension.length - 1);
			strFileExtension = re.exec(strFileName)[1];

			var arrFileExtensions = ['jpg','jpeg','gif','png','bmp','svg','webp','ico','ac3','aac','aiff','air','mp3','wav','flac','oga','aac','m4a','wma','opus','wpl','avi','mpg','mpeg','rm','wmv','asf','mp4','mov','flv','3gp','divx','rmvb','ogg','mkv','ogv','webm','m4v','odt','ods','odp','doc','docx','pdf','xls','xlsx','ppt','pptx','pps','ppsx','rtf','dwg','dxf','txt','php','js','html','css','xml','csv','ini','7z','bz','bz2','bzip','cab','cpio','gz','iso','lha','lz','lzh','lzma','rar','tar','taz','tbz','tbz2','tgz','tlz','txz','tz','xar','xz','z','zip','edoc','toast','vcd','exe','com','dll','pif','scr','bat','bin','pl','sh','scf','sct','shs','vb','lnk','jnlp','apk','vbs','js','msi','jse','jar','dmg','bin','wsf'];

			bolHasDoubleExtension = $.inArray(strFileExtension, arrFileExtensions) > -1;
		}

		return bolHasDoubleExtension;
	}


	function showCreateAccount_BeforeUploadSave()
	{
		$('.dont_redirect_after_login').val('true');
		$('.login_return_url').val("u/"+global_upload_hash);
		$('#createaccount-modal-content .info').text('If you want to store files permanently you have to create account. These files will be added to your new account.');

		if ($('#sender_mail_tt').val() != 'Enter your email to receive a link')
		{
			$('#createaccount_username').val($('#sender_mail_tt').val());
			$('#createaccount_email').val($('#sender_mail_tt').val());
		}

		showCreateAccount();
	}
    </script>
    <link href="/css/landing.css?v=1588057239" media="all" rel="stylesheet" type="text/css"/>
    <section id="landing-section">
     <div class="container">
      <div class="content">
       <div id="before_file_upload" style="display: block;">
        <h1 id="main_page_top_header_1">
         Store
         <span class="comma">
          ,
         </span>
         Share or Sell Files
        </h1>
       </div>
       <div id="upload-box-outer">
        <div id="text_during_file_upload">
         <div id="preloader_file_upload" style="display: none;">
          <i class="fa fa-cog fa-spin">
          </i>
          Please wait...
         </div>
         <div id="during_file_upload" style="display: none;">
          <div class="during_file_upload__title">
           <img alt="File upload" src="/images/landing/upload-icon-dark.svg"/>
           Uploading...
          </div>
          You can access your files later using this link:
          <a href="javascript:void(0)" id="download_link_0" target="_blank">
          </a>
         </div>
        </div>
        <div id="after_file_upload_wodpress_gallery" style="display: none; margin-bottom: 30px;">
         <p style="text-align: center; font-size: 20px;">
          Your files are successfully uploaded
         </p>
         <br/>
         <a class="standard_button" href="javascript:void(0);" id="after_file_upload_wodpress_gallery_button" onclick="wordpress_gallery__select_upload_for_insertion(document.getElementById('upload_hash').value,true);" style="display: none; font-size: 20px;">
          <i aria-hidden="true" class="fa fa-bolt" style="margin-right: 10px;">
          </i>
          Insert this gallery into content
         </a>
         <br/>
         <div style="width: 100%; display: table;">
          <p style="font-size: 16px; display: table-cell; width: 180px;">
           The gallery`s shortcode:
          </p>
          <input id="wordpress_shortcode" onclick="setTimeout(function(){document.getElementById('wordpress_shortcode').select();}, 0);" style="box-sizing: border-box; min-width: 250px; padding: 5px; font-size: 14px; display: table-cell; width: 100%;"/>
         </div>
        </div>
        <div id="after_file_upload" style="display: none;">
         <div class="after_file_upload__title">
          Your file upload is done!
         </div>
         <form action="list.php" id="submit_form" method="post" onsubmit="return afterUploadSave();" style="padding: 0px; margin: 0px;">
          <p>
           Share the access link to files:
           <a href="" id="download_link">
           </a>
          </p>
          <input class="icon icon-email" id="sender_mail_tt" name="me" onblur="checkDefault(this, 'Enter your email to receive a link')" onchange="bolSenderOK=false;" onclick="checkDefault(this, 'Enter your email to receive a link')" size="72" title="This email will appear as sender to the recipients. The delete link will also be sent there too. Add a folder name and file description below." type="text" value="Enter your email to receive a link"/>
          <input class="icon icon-mail-plus" id="recepients_emails" name="e" onblur="checkDefault(this, 'Enter other email addresses to send the link to')" onchange="bolRecepientsOK=false;" onclick="checkDefault(this, 'Enter other email addresses to send the link to')" onkeyup="" size="72" title="The e-mails you enter must be separated with commas" type="text" value="Enter other email addresses to send the link to"/>
          <div class="full-width" id="after_file_save__folder_name">
           <span>
            Folder name
           </span>
           <input class="icon icon-folder" id="display_name" name="display_name"/>
          </div>
          <div id="after_file_save_adddescription">
           <textarea cols="69" id="send_tt" name="mailtext" placeholder="Add a file description, to be shown when accessing the files" rows="2"></textarea>
          </div>
          <div class="" id="after_file_save_access_rights">
           <span>
            File access:
           </span>
           <div class="styled-select icon icon-clock" style="width: 150px; height: 26px;">
            <select id="file_save_access_rights" name="file_save_access_rights" onchange="onChangeSaveAccessRights( this.value )" style="height: 26px; padding: 2px; width: 180px;">
             <option value="">
             </option>
             <option selected="selected" value="LINK">
              Anyone who knows the link
             </option>
             <option value="PASSWORD">
              With password
             </option>
             <option value="PRIVATE">
              For me only (private)
             </option>
             <option value="PUBLIC">
              Published in my profile
             </option>
            </select>
           </div>
          </div>
          <div id="after_file_save_storage_deadline">
           <span>
            Storage duration:
           </span>
           <div class="styled-select icon icon-clock" style="width: 150px; height: 26px;">
            <select id="days_to_save_files" name="days_to_save_files" onchange="if (this.value == 100) {showCreateAccount_BeforeUploadSave(); this.value=63;}" style="height: 26px; padding: 2px; width: 180px;">
             <option value="2">
              2 days
             </option>
             <option value="1">
              1 day
             </option>
             <option value="3">
              3 days
             </option>
             <option value="7">
              1 week
             </option>
             <option selected="selected" value="14">
              2 weeks
             </option>
             <option value="31">
              1 month
             </option>
             <option value="62">
              2 months
             </option>
             <option value="100">
              Permanently
             </option>
            </select>
           </div>
          </div>
          <div id="after_file_save_password" style="display: none">
           <span>
            Upload password
           </span>
           <input class="icon icon-folder" id="upload_password" name="upload_password" placeholder="Enter a password"/>
          </div>
          <button class="upload_button" id="sendfiles" type="submit">
           Save &amp; send link
           <img alt="Save and send" src="/images/landing/form/button-icon.svg"/>
          </button>
          <input id="del_key" name="del_key" type="hidden"/>
         </form>
        </div>
        <div id="upload_box_inner">
         <script>
          if (strUploadType == 'simple')
				{
					document.write('<div id="savefiles" style="display: none;">');
					document.write('<div href="javascript:void(0)" class="upload_button start_upload_button" onclick="StartUpload();">Start file upload<span class="cloud"><img class="cloud" src="/images/landing/cloud-red.svg" alt="Start file upload" /><img class="cloud-arrow" src="/images/landing/cloud-arrow-red.svg" alt="Start file upload" /></span></div>');
					document.write('</div>');

					$('#upload_box_inner').css('border', '0');
					$('#upload_box_inner').css('padding', '0');
					$('#upload_box_inner').css('min-height', '0');
					$('#file_select_dragndrop_text').hide();
					//$('#savefiles').css('margin-top', '20vh');
				}
				else
				{
					document.write('<div id="savefiles" style="display: none;">');
					document.write('<div href="javascript:void(0)" class="upload_button uploadify_start_upoad_button start_upload_button" onclick="if (strUploadType != \'html5\') {uplodifyStartUpload()} else {uplodifiveStartUpload()}">Start file upload<span class="cloud"><img class="cloud" src="/images/landing/cloud-red.svg" alt="Start file upload" /><img class="cloud-arrow" src="/images/landing/cloud-arrow-red.svg" alt="Start file upload" /></span></div>');
					document.write('</div>');

					if (strUploadType == 'html5')
					{
						// $('#file_select_button').css('display', 'inline-block');
						// $('#file_select_button').css('width', '43%');
					}
					else
					{
						$('#upload_box_inner').css('border', '0');
						$('#upload_box_inner').css('padding', '0');
						$('#upload_box_inner').css('min-height', '0');
						$('#file_select_dragndrop_text').hide();
					}
				}
                
                function onChangeSaveAccessRights( strVal )
                {
                    if ( strVal !== "LINK" && strVal !== "PASSWORD" && 1 )
                    {
                        showCreateAccount_BeforeUploadSave();
                        $( "#file_save_access_rights" ).parent().find( '.select-items div:first-child' ).click();
    
                        var errorTable = $( "<table>" )
                            .attr( 'id', 'file_save_access_rights_error' )
                            .addClass( "alert_container alert_container_danger" )
                            .css( 'display', 'table' )
                            .css( 'margin-bottom', '16px' )
                            .append(
                                $( "<tr>" )
                                    .append(
                                        $( "<td>" ).append(
                                            "<i class='fa fa-exclamation-circle' style='font-family: FontAwesome;'></i>"
                                        ),
                                        $( "<td>" ).append(
                                            $( "<div>" )
                                                .addClass( "alert_main_text" )
                                                .text("This option is only available to registered users. To change file access settings, create or login to your account and change the folder settings." )
                                        )
                                    )
                            );
                        
                         if ( !$( '#file_save_access_rights_error' ).length )
                         {
                             $( '#createaccount-modal-content .info' ).empty().append( errorTable );
                         }
                        return;
                    }
                    else if ( strVal === "PASSWORD" && 1 )
                    {
                                                
                        showCreateAccount_BeforeUploadSave();
                        $( "#file_save_access_rights" ).parent().find( '.select-items div:first-child' ).click();
    
                        var errorTable = $( "<table>" )
                            .attr( 'id', 'file_save_access_rights_error' )
                            .addClass( "alert_container alert_container_danger" )
                            .css( 'display', 'table' )
                            .css( 'margin-bottom', '16px' )
                            .append(
                                $( "<tr>" )
                                    .append(
                                        $( "<td>" ).append(
                                            "<i class='fa fa-exclamation-circle' style='font-family: FontAwesome;'></i>"
                                        ),
                                        $( "<td>" ).append(
                                            $( "<div>" )
                                                .addClass( "alert_main_text" )
                                                .text("This option is only available to PRO or Business users. To change file access settings, create or login to your account, subscribe for PRO or Business account and change the folder settings." )
                                        )
                                    )
                            );
                        
                         if ( !$( '#file_save_access_rights_error' ).length )
                         {
                             $( '#createaccount-modal-content .info' ).empty().append( errorTable );
                         }
                        return;

                                            }
                    
                    if ( strVal === "PASSWORD" )
                    {
                        $( "#after_file_save_password" ).show();
                    }
                    else
                    {
                        $( "#after_file_save_password" ).hide();
                    }
                }
         </script>
         <div id="file_adding_container">
          <div id="file_select_button">
           <input id="file_upload" multiple="multiple" name="file_upload[]" style="visibility: hidden;" type="file"/>
          </div>
          <div id="file_select_dragndrop_text">
           or drag &amp; drop files or folders here
          </div>
         </div>
         <div id="simple_file_select_button">
         </div>
        </div>
        <div id="upload_total_progress">
         <div class="estimated-time">
          Estimated time:
          <span class="value">
          </span>
         </div>
         <div class="upload-size">
         </div>
         <div class="uploaded-files">
          Uploaded files:
          <span class="value">
          </span>
         </div>
         <div class="progress-bar">
          <div class="progress-bar-inner">
          </div>
         </div>
         <div class="speed-progress">
          <img alt="File upload progress" src="/images/upload-progress.svg"/>
          <span class="value">
          </span>
         </div>
        </div>
        <div id="upload_stats_text">
        </div>
        <div id="upload_file_list" style="position: relative; z-index: 1;">
        </div>
       </div>
       <h2 id="other_apps_title">
        Send large photos and videos up to 5GB for free.
        <br/>
        <a href="/storage-plans?source=main" onclick="gaev('Index-InfoPage', 'Under red button', 'Pro features');">
         Get Pro features
        </a>
        and
        <a href="/sell">
         earn
        </a>
        more.
       </h2>
       <div id="other_apps">
        <span class="helper">
        </span>
        <a class="hover-grow" href="/sync-share" onclick="gaev('Index-InfoPage', '5 first app clicks', 'Store');" target="_blank">
         <span>
          <span class="helper">
          </span>
          <img alt="Cloud file storage" src="/images/landing/product-icons/store.svg"/>
         </span>
         Store
        </a>
        <a class="hover-grow" href="/sell-files" onclick="gaev('Index-InfoPage', '5 first app clicks', 'Sell');" target="_blank">
         <span>
          <span class="helper">
          </span>
          <img alt="Sell files" src="/images/landing/product-icons/sell.svg"/>
         </span>
         Sell
        </a>
        <a class="hover-grow" href="/public-profiles" onclick="gaev('Index-InfoPage', '5 first app clicks', 'Publish');" target="_blank">
         <span>
          <span class="helper">
          </span>
          <img alt="Publish files" src="/images/landing/product-icons/publish.svg"/>
         </span>
         Publish
        </a>
        <a class="hover-grow" href="/backup" onclick="gaev('Index-InfoPage', '5 first app clicks', 'Backup');" target="_blank">
         <span>
          <span class="helper">
          </span>
          <img alt="File backup and sync" src="/images/landing/product-icons/backup.svg"/>
         </span>
         Backup
        </a>
        <a class="hover-grow" href="/upload-form" onclick="gaev('Index-InfoPage', '5 first app clicks', 'Receive');" target="_blank">
         <span>
          <span class="helper">
          </span>
          <img alt="File upload form for websites" src="/images/landing/product-icons/receive.svg"/>
         </span>
         Receive
        </a>
       </div>
      </div>
     </div>
    </section>
    <iframe name="upload_target" style="display: none;">
    </iframe>
    <section class="info-block" id="todo">
     <div class="container flex-column">
      <h3>
       Use
       <a href="/sync-share?source=main" style="color: red !important; text-decoration: underline; " target="_blank">
        Sync
       </a>
       or connect a network
       <a href="/webdav-info?source=main" style="color: red !important; text-decoration: underline; " target="_blank">
        drive
       </a>
       for easy document sharing and management
      </h3>
      <div class="flex-row">
       <div class="item item-link" onclick="gaev('Index-InfoPage', 'CreateAccountIcon', ''); showCreateAccount()">
        <span class="item-icon">
         <span class="helper">
         </span>
         <img alt="Sign up" src="/images/landing/todo/signup.svg"/>
        </span>
        <div class="item_text">
         Sign up
        </div>
       </div>
       <div class="arrow">
       </div>
       <div class="item">
        <span class="item-icon">
         <span class="helper">
         </span>
         <img alt="Upload and store files" src="/images/landing/todo/upload-store.svg" style="width: 60px"/>
        </span>
        <div class="item_text">
         Upload and store files
        </div>
       </div>
       <div class="arrow">
       </div>
       <div class="item">
        <span class="item-icon">
         <span class="helper">
         </span>
         <img alt="Share a link with others" src="/images/landing/todo/share.svg"/>
        </span>
        <div class="item_text">
         Share a link with others
        </div>
       </div>
       <div class="arrow">
       </div>
       <div class="item">
        <span class="item-icon">
         <span class="helper">
         </span>
         <img alt="Access from anywhere" src="/images/landing/todo/access.svg"/>
        </span>
        <div class="item_text">
         Access from anywhere
        </div>
       </div>
      </div>
     </div>
    </section>
    <section class="info-block" id="topfeatures">
     <div class="container flex-column">
      <h2>
       File sharing Features
      </h2>
      <div class="flex-row">
       <div class="flex-column">
        <div class="item">
         Supported file sizes 5GB / 10GB / 30GB / Unlimited
        </div>
        <div class="item">
         Unlimited disk space up to 1 month for accounts
        </div>
        <div class="item">
         Unlimited traffic via Peer-2-Peer supported downloads
        </div>
        <div class="item">
         Streaming video / audio and other files in the browser
        </div>
        <div class="item">
         P2P File integration and embedding into websites
        </div>
        <div class="item">
         File access, download stats and detailed security log
        </div>
        <div class="item">
         File sales and payment systems
        </div>
       </div>
       <div class="flex-column">
        <div class="item">
         Password access for specific links and expiring links
        </div>
        <div class="item">
         Download folder contents via zip file or torrent
        </div>
        <div class="item">
         Disable file download options
        </div>
        <div class="item">
         Automatic Antivirus checks
        </div>
        <div class="item">
         Comments and votes on files
        </div>
        <div class="item">
         Private, encrypted and GDPR compliant Backup tool
        </div>
        <div class="item">
         Character recognition and search in photos
        </div>
       </div>
      </div>
     </div>
    </section>
    <section class="info-block" id="pricing">
     <div class="container">
      <h2>
       Upgrade to PRO for more storage, tools and features.
       <br/>
       Use Business Plan to manage multiple users, teams, rights and security log.
      </h2>
      <link href="/css/elements/pricing_plans_small.css?v=3" media="all" rel="stylesheet" type="text/css"/>
      <div id="pricing-plans-small_container">
       <div class="item">
        <div class="head">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="Basic User" src="/images/landing/plans/basic-user.svg"/>
         </div>
         Basic User
         <div class="price" style="margin-top: 8px;">
          Free
         </div>
        </div>
        <div class="body">
         <div>
          Storage from 5GB to
          <a href="/storage-plans#referral">
           20GB
          </a>
         </div>
         <div>
          Max upload size 5GB
         </div>
         <div>
          Private file management
         </div>
        </div>
        <div class="foot">
         <a class="standard_button_fl" href="#" onclick="showCreateAccount(); return false;">
          Sign up
         </a>
        </div>
       </div>
       <div class="item highlighted">
        <div class="head">
         <div class="ribbon">
          <span>
           POPULAR
          </span>
         </div>
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="POPULAR" src="/images/landing/plans/individual.svg"/>
         </div>
         Individual Pro
         <div class="price">
          from 4,08$/month
         </div>
         <div class="duration">
          paid annually
         </div>
        </div>
        <div class="body">
         <div>
          Sync, Backup and Undelete
         </div>
         <div>
          Storage from 250GB to 500TB
         </div>
         <div>
          Max web file size 10GB
         </div>
         <div>
          Other Pro features
         </div>
        </div>
        <div class="foot">
         <a class="standard_button_fl" href="#" onclick="$( '.login_return_url' ).val( '/#subscribe' ); showCreateAccount(); return false;">
          Subscribe
         </a>
        </div>
       </div>
       <div class="item">
        <div class="head">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="Business" src="/images/landing/plans/business.svg"/>
         </div>
         Business
         <div class="price">
          from 8,33$/month
         </div>
         <div class="duration">
          paid annually
         </div>
        </div>
        <div class="body">
         <div>
          Pro and Business tools
         </div>
         <div>
          Security and action log
         </div>
         <div>
          Web file size 30GB/Unlimited
         </div>
         <div>
          Users, teams and projects
         </div>
        </div>
        <div class="foot">
         <a class="standard_button_fl" href="#" onclick="$( '.login_return_url' ).val( '#subscribe' ); showCreateAccount(); return false;">
          Create business account
         </a>
        </div>
       </div>
       <div class="item">
        <div class="head">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="File upload form" src="/images/landing/plans/upload-form.svg"/>
         </div>
         File upload form
         <div class="price">
          from 8,25$/month
         </div>
         <div class="duration">
          paid annually
         </div>
        </div>
        <div class="body">
         <div>
          Integration to your website
         </div>
         <div>
          Customizable form fields
         </div>
         <div>
          Customizable design
         </div>
        </div>
        <div class="foot">
         <a class="standard_button_fl" href="#" onclick="$( '.login_return_url' ).val( '/upload-form#subscribe' ); showCreateAccount(); return false;">
          Subscribe
         </a>
        </div>
       </div>
      </div>
     </div>
    </section>
    <section class="info-block" id="video-block">
     <div class="container flex-column">
      <h2>
       1TB Lifetime sale - permanent private cloud storage
      </h2>
      <style type="text/css">
       #video-block_video-wrapper .filesfm__embed_player__container {
                    max-height: 56.25vw;
                }
                #video-block_video-wrapper .filesfm__embed_player__container > IMG {
                    width: 100%;
                }
      </style>
      <div>
       <div id="video-block_video-wrapper">
        <script id="filesfm_embed_js__u23ffdwp" src="https://files.fm/embed/playerv2?hash=u23ffdwp&amp;autoplay=off&amp;autoload=off&amp;w=100%&amp;h=auto&amp;p2p_mob_fb=off&amp;poster_src=https://files.fm/thumb_video_picture.php?i=u23ffdwp&amp;muted&amp;v=2">
        </script>
       </div>
       <div id="video-block_button-wrapper">
        <a class="standard_button_fl" href="/lifetime-storage?source=firstpage-video" onclick="gaev( 'FirstPageLifetimeStorage', 'UnderVideoButton', '' ); filesfm_gtag_report_conversion( 'crowdsale_buy_button_first_page' );" target="_blank">
         Buy Lifetime 1 TB for only $99
        </a>
       </div>
      </div>
     </div>
    </section>
    <section class="info-block" id="business_products">
     <div class="container">
      <h2>
       Cloud data storage solutions for business
      </h2>
      <div id="products_container">
       <div class="item" onclick="gaev('Index-InfoPage', 'DocSyncing', ''); window.open('/sync-share', '_blank');">
        <div class="icon">
         <span class="helper">
         </span>
         <img alt="Document Syncing and Sharing" src="/images/landing/products-for-business/hosting.svg"/>
        </div>
        <div class="text">
         Document Syncing and Sharing
        </div>
        <div class="button_container">
         <div class="button">
          More info
         </div>
        </div>
       </div>
       <div class="item" onclick="gaev('Index-InfoPage', 'Sell-Files', ''); window.open('/sell-files', '_blank');">
        <div class="icon">
         <span class="helper">
         </span>
         <img alt="Platform to sell content online" src="/images/landing/products-for-business/doc-sync.svg"/>
        </div>
        <div class="text">
         Platform to sell content online
        </div>
        <div class="button_container">
         <div class="button">
          More info
         </div>
        </div>
       </div>
       <div class="item" onclick="gaev('Index-InfoPage', 'FileBox', ''); window.open('/filebox-file-transfer', '_blank');">
        <div class="icon">
         <span class="helper">
         </span>
         <img alt="File upload form for websites" src="/images/landing/products-for-business/upload.svg"/>
        </div>
        <div class="text">
         File upload form for websites
        </div>
        <div class="button_container">
         <div class="button">
          More info
         </div>
        </div>
       </div>
       <div class="item" onclick="gaev('Index-InfoPage', 'FileExchangeChannel', ''); window.open('/events', '_blank');">
        <div class="icon">
         <span class="helper">
         </span>
         <img alt="Event Photo Publication Catalog" src="/images/landing/products-for-business/publish.svg"/>
        </div>
        <div class="text">
         Event Photo Publication Catalog
        </div>
        <div class="button_container">
         <div class="button">
          More info
         </div>
        </div>
       </div>
      </div>
     </div>
    </section>
    <div id="P2P">
     <section class="info-block" id="howitworks">
      <div class="container">
       <h2>
        Deliver video and other content to users via P2P without overloading your servers and network
       </h2>
       <div class="clearfix" id="how_it_works_container">
        <div class="item">
         <div class="icon" style="font-size: 30px; color: #303d52;">
          <span class="helper">
          </span>
          <i class="fal fa-video">
          </i>
         </div>
         <div class="item_text">
          Fast Peer-2-Peer-Powered video content delivery in your web browser.
         </div>
        </div>
        <div class="item">
         <div class="icon" style="font-size: 30px; color: #303d52;">
          <span class="helper">
          </span>
          <i class="fal fa-rabbit-fast">
          </i>
         </div>
         <div class="item_text">
          The more viewers watch the better it works for everyone - you and your visitors.
         </div>
        </div>
        <div class="item">
         <div class="icon" style="font-size: 30px; color: #303d52;">
          <span class="helper">
          </span>
          <i class="fal fa-piggy-bank">
          </i>
         </div>
         <div class="item_text">
          Offload up to 80% of the content bandwidth during peak usage and sudden spikes.
         </div>
        </div>
        <div class="item">
         <div class="icon" style="font-size: 30px; color: #303d52;">
          <span class="helper">
          </span>
          <i class="fal fa-laptop-code">
          </i>
         </div>
         <div class="item_text">
          Upload MP4 video content to Files.fm and embed it with just one line of JavaScript code.
         </div>
        </div>
       </div>
      </div>
     </section>
    </div>
    <div id="globe-background">
     <section class="info-block" id="register-now">
      <div class="container">
       <h3>
        Create your account for free right now and join thousands of other users
       </h3>
       <div class="standard_button_fl" id="big_register_button" onclick="gaev('Index-InfoPage', 'CreateAccountBigRedButton', ''); showCreateAccount()">
        <img alt="Create a user for free to upload files" src="/images/landing/sign-up.svg"/>
        Sign up for free
       </div>
      </div>
     </section>
     <link href="/css/client_logos.css?v=5" media="all" rel="stylesheet" type="text/css"/>
     <div id="client-logos">
      <div class="container">
       <h2 style="text-align-last: center !important;">
        Partners and tech
       </h2>
       <a href="https://developer.microsoft.com/" target="_blank">
        <img alt="Microsoft cloud storage partner" src="images/filebox/logos/new2/microsoft_cloud_storage_partner.svg"/>
       </a>
       <a href="https://www.ntt.com/en/services/" target="_blank">
        <img alt="State of the art global data centers for business. Fully featured and highly scalable" src="images/filebox/logos/new2/ntt_logo.svg" style="height: 45px;"/>
       </a>
       <a href="https://www.e-shelter.de/en" target="_blank">
        <img alt="e-shelter is part of the Global Data Centers division of NTT and develops and runs high availability data centers." src="images/filebox/logos/new2/e-shelter.png"/>
       </a>
       <a href="https://www.sci-techdaresbury.com" target="_blank">
        <img alt="Sci-Tech Daresbury is internationally-recognised for world-class science, innovation and enterprise." src="images/filebox/logos/new2/sci-tech-daresbury-logo.svg"/>
       </a>
       <a href="https://www.tet.lv" target="_blank">
        <img alt="Lattelecom tet" src="images/filebox/logos/new2/lattelecom_tet.png"/>
       </a>
       <a href="https://blockis.eu" target="_blank">
        <img alt="This project is funded by Block.IS (Blockchain Innovation Spaces) Horizon 2020 research and innovation programme Project No. 824509, under the funding framework of the European Commission." src="images/filebox/logos/new2/blockis-logo.png" style="height: 35px;"/>
       </a>
       <a href="https://ec.europa.eu/easme/en/innosup" target="_blank">
        <img alt="The Horizon 2020 INNOSUP programme aims to test new approaches for better innovation support through funding opportunities for innovation actors across Europe." src="images/filebox/logos/new2/europe_h2020_program.svg"/>
       </a>
      </div>
      <div class="text" style="max-width: 1200px; color: #616e7c; margin:auto; padding: 40px; line-height: 1.5; text-align-last: center;">
       "This project is funded by Block.IS (Blockchain Innovation Spaces) Horizon 2020 research and innovation programme Project No. 824509, under the funding framework of the European Commission."
      </div>
     </div>
    </div>
    <div id="foot-background">
     <section class="info-block" id="howitworks">
      <div class="container">
       <h2>
        Where and how are files stored?
       </h2>
       <div class="clearfix" id="how_it_works_container">
        <div class="item">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="Cloud storage, data centers" src="/images/landing/how-it-works/server.svg"/>
         </div>
         <div class="item_text">
          Uploaded files are stored in a reliable data centers. For Backup app, you can choose EU or UK regions.
         </div>
        </div>
        <div class="item">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="Uploaded files available up to 60 days" src="/images/landing/how-it-works/clock.svg"/>
         </div>
         <div class="item_text">
          Files uploaded by anonymous users will be available up to 60 days since the upload
         </div>
        </div>
        <div class="item">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="Private files, public files" src="/images/landing/how-it-works/files-are-private.svg"/>
         </div>
         <div class="item_text">
          Your files are private, but you can share a link to let others access certain files or folders
         </div>
        </div>
        <div class="item">
         <div class="icon">
          <span class="helper">
          </span>
          <img alt="Encrypted backup copies" src="/images/landing/how-it-works/backup.svg"/>
         </div>
         <div class="item_text">
          You can create encrypted backup copies with a specially designed Files.fm/backup tool
         </div>
        </div>
       </div>
      </div>
     </section>
     <link href="/css/elements/social_media_bar.css?v=1568974187" media="all" rel="stylesheet" type="text/css"/>
     <div id="social-media-bar">
      <div id="social-media-bar-inner">
       <a href="https://www.linkedin.com/company/files.fm/" target="_blank">
        <div class="social-media-icon-cont">
         <div class="social-media-icon social-media-icon-linkedin">
         </div>
         <div class="social-media-icon-text social-media-icon-text-linkedin">
          Linkedin
         </div>
        </div>
       </a>
       <a href="https://www.facebook.com/Filesfm/" target="_blank">
        <div class="social-media-icon-cont">
         <div class="social-media-icon social-media-icon-facebook">
         </div>
         <div class="social-media-icon-text social-media-icon-text-facebook">
          Facebook
         </div>
        </div>
       </a>
       <a href="https://t.me/filesfm" target="_blank">
        <div class="social-media-icon-cont">
         <div class="social-media-icon social-media-icon-telegram">
         </div>
         <div class="social-media-icon-text social-media-icon-text-telegram">
          Telegram
         </div>
        </div>
       </a>
       <a href="https://twitter.com/files_fm" target="_blank">
        <div class="social-media-icon-cont">
         <div class="social-media-icon social-media-icon-twitter">
         </div>
         <div class="social-media-icon-text social-media-icon-text-twitter">
          Twitter
         </div>
        </div>
       </a>
       <a href="https://medium.com/@files.fm" target="_blank">
        <div class="social-media-icon-cont">
         <div class="social-media-icon social-media-icon-medium">
         </div>
         <div class="social-media-icon-text social-media-icon-text-medium">
          Medium
         </div>
        </div>
       </a>
       <a href="https://www.reddit.com/r/filesfm/" target="_blank">
        <div class="social-media-icon-cont">
         <div class="social-media-icon social-media-icon-reddit">
         </div>
         <div class="social-media-icon-text social-media-icon-text-reddit">
          Reddit
         </div>
        </div>
       </a>
      </div>
     </div>
    </div>
   </div>
  </div>
  <link href="/css/footer.css?v=9" media="all" rel="stylesheet" type="text/css"/>
  <div id="footer_container">
   <div class="clearfix" id="footer">
    <div class="footer_block footer_block_left">
     <div class="float_left">
      <p>
       2008 - 2020 © Files.fm cloud storage
      </p>
      <p>
       Files.fm provides secure and customizable cloud storage solutions for business and private users to store, share, backup or sell files worldwide
      </p>
     </div>
    </div>
    <div class="footer_block_right">
     <div class="footer_block">
      <div class="footer_title">
       Get started
       <div class="footer_header_div">
        <div class="footer_header_div_line">
        </div>
       </div>
      </div>
      <ul>
       <li>
        <a href="" onclick="showCreateAccount(); return false;">
         Create account / Login
        </a>
       </li>
       <li>
        <a href="storage-plans">
         Features and pricing
        </a>
       </li>
       <li>
        <a href="terms">
         Terms
        </a>
       </li>
       <li>
        <a href="questions-about-online-file-storage">
         Questions
        </a>
       </li>
       <li>
        <a href="/u/demo" target="_blank">
         Shared link example
        </a>
       </li>
      </ul>
     </div>
     <div class="footer_block">
      <div class="footer_title">
       Solutions
       <div class="footer_header_div">
        <div class="footer_header_div_line">
        </div>
       </div>
      </div>
      <ul>
       <li>
        <a href="/sync-share">
         File sync and network drive
        </a>
       </li>
       <li>
        <a href="/backup">
         Encrypted Remote Backups
        </a>
       </li>
       <li>
        <a href="upload-form" target="_blank">
         File upload form
        </a>
       </li>
       <li>
        <a href="/sell-files">
         Sell digital content
        </a>
       </li>
       <li>
        <a href="https://files.fm/servers" target="_blank">
         Virtual servers
        </a>
       </li>
      </ul>
     </div>
     <div class="footer_block">
      <div class="footer_title">
       Applications
       <div class="footer_header_div">
        <div class="footer_header_div_line">
        </div>
       </div>
      </div>
      <ul>
       <li>
        Sync:
        <a download="" href="/software/files.fm_sync_windows.exe">
         Windows
        </a>
        |
        <a download="" href="/software/files.fm_sync_macos.dmg">
         MacOS
        </a>
       </li>
       <li>
        Backup:
        <a download="" href="/software/files.fm_backup_windows.msi">
         Windows
        </a>
        |
        <a download="" href="/software/files.fm_backup_macos.dmg">
         MacOS
        </a>
       </li>
       <li>
        Mobile:
        <a href="https://play.google.com/store/apps/details?id=lv.failiem" target="_blank">
         Android
        </a>
       </li>
       <li>
        <a href="/webdav-info">
         WebDAV network drive
        </a>
       </li>
       <li>
        <a href="/public-profiles" target="_blank">
         File exchange catalog
        </a>
       </li>
       <li>
        <a href="https://files.fm/library" target="_blank">
         Files.fm Library
        </a>
       </li>
      </ul>
     </div>
     <div class="footer_block">
      <div class="footer_title">
       Support
      </div>
      <ul>
       <li>
        <a href="https://blog.files.fm/list-of-all-instructions-en/" target="_blank">
         Help &amp; knowledge center
        </a>
       </li>
       <li>
        <a href="./contacts">
         Support contacts
        </a>
       </li>
       <li>
        <a href="about">
         About Files.fm
        </a>
       </li>
       <li>
        <a href="./api.php">
         For developers
        </a>
       </li>
      </ul>
     </div>
    </div>
   </div>
  </div>
  <div id="info_tooltip_global">
  </div>
  <script>
   function CloseSuggestion(id) {
        
        if (id == 'suggest_lang') {
            $.get("includes/suggest_language.php", {sLang: 1});
        }
        else if (id == 'suggest_register'){
            $.get("includes/suggest_language.php", {sReg: 1});
        }
        
        document.getElementById(id).style.display='none';
    }
  </script>
  <script>
   $(window).bind("load", function() {
            $( "#register_from_ico" ).val( 0 );
            if	(window.location.hash == '#sign_up') {
                
                showCreateAccount();
            }
            else if	(window.location.hash == '#log_in') {
                
                showSignIn();
            }
            else if	(window.location.hash == '#forgot_password') {
                
                showForgotPassword();
            }
        });
  </script>
  <div class="cookies_msg_active" id="footer_bottom_floating_line">
   <div class="footer_bottom_floating_line__info" id="footer_bottom_floating_line__info__advert">
    <div class="footer_bottom_floating_line__info__text">
     Sell photos, videos, lectures, presentations or documents and
     <a href="/sell">
      earn more!
     </a>
    </div>
    <div class="footer_bottom_floating_line__info__close" onclick="$( '#footer_bottom_floating_line__info__advert' ).hide(); document.cookie='footer_advert_closed=true; max-age=31536000';">
     <i class="fal fa-times-circle">
     </i>
    </div>
   </div>
  </div>
  <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-59d24a822ee7b14d">
  </script>
  <script src="/js/inputs.js?v=1536455899">
  </script>
 </body>
</html>